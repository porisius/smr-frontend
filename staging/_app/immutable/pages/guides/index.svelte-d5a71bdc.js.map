{"version":3,"file":"index.svelte-d5a71bdc.js","sources":["../../../../../../../src/lib/components/guides/GuideGrid.svelte","../../../../../../../src/routes/guides/index.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { operationStore, query } from '@urql/svelte';\n  import { GetGuidesDocument } from '$lib/generated';\n  import GuideCard from './GuideCard.svelte';\n  import PageControls from '$lib/components/utils/PageControls.svelte';\n  import { writable } from 'svelte/store';\n  import { base } from '$app/paths';\n  import Button from '@smui/button';\n  import { user } from '$lib/stores/user';\n  import FicsitCard from '$lib/components/general/FicsitCard.svelte';\n\n  export let colCount: 4 | 5 = 4;\n  export let newGuide = false;\n\n  // TODO Selectable\n  const perPage = 40;\n\n  const guides = operationStore(GetGuidesDocument, { offset: 0, limit: perPage });\n\n  const page = writable(1);\n  let totalGuides: number;\n\n  page.subscribe((p) => {\n    $guides.variables.offset = (p - 1) * perPage;\n    $guides.reexecute();\n  });\n\n  $: totalGuides = $guides?.data?.getGuides?.count || 0;\n\n  query(guides);\n\n  $: gridClasses =\n    colCount == 4\n      ? '3xl:grid-cols-4 2xl:grid-cols-3 lg:grid-cols-2 grid-cols-1'\n      : '3xl:grid-cols-3 2xl:grid-cols-2 grid-cols-1';\n</script>\n\n<div class=\"mb-5 ml-auto flex justify-between\">\n  {#if newGuide && $user !== null}\n    <Button variant=\"outlined\" href=\"{base}/new-guide\">New Guide</Button>\n  {/if}\n\n  <div>\n    <PageControls totalPages={Math.ceil(totalGuides / perPage)} currentPage={page} />\n  </div>\n</div>\n\n{#if $guides.fetching}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each Array(perPage) as _}\n      <FicsitCard fake />\n    {/each}\n  </div>\n{:else if $guides.error}\n  <p>Oh no... {$guides.error.message}</p>\n{:else}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each $guides.data.getGuides.guides as guide}\n      <GuideCard {guide} logo={guide.user.avatar} />\n    {/each}\n  </div>\n{/if}\n\n<div class=\"mt-5 ml-auto flex justify-end\">\n  <div>\n    <PageControls totalPages={Math.ceil(totalGuides / perPage)} currentPage={page} />\n  </div>\n</div>\n","<script lang=\"ts\">\n  import GuideGrid from '$lib/components/guides/GuideGrid.svelte';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n</script>\n\n<svelte:head>\n  <MetaDescriptors description=\"Guides for Satisfactory and modding Satisfactory\" title=\"Guides\" />\n</svelte:head>\n\n<GuideGrid newGuide={true} colCount={4} />\n"],"names":["base","each_value_1","ctx","data","getGuides","guides","length","i","insert_hydration_dev","target","div","anchor","each_blocks","error","message","p","set_data_dev","t1","t1_value","each_value","Array","perPage","user","avatar","create_if_block_2","totalPages","Math","ceil","fetching","div1","append_hydration_dev","div0","div3","div2","dirty","pagecontrols0_changes","pagecontrols1_changes","colCount","$$props","newGuide","operationStore","GetGuidesDocument","offset","limit","page","writable","totalGuides","subscribe","$guides","variables","reexecute","query","$$invalidate","count","gridClasses","props"],"mappings":"smCAuCsCA,GAAI,ugBAAa,WAAA,CAAA,sBAAA,8OAkB5CC,EAAAC,EAAQ,GAAAC,KAAKC,UAAUC,qCAA5BC,OAAIC,GAAA,sRADUL,EAAW,GAAA,2CAA7BM,CAAAA,EAIKC,EAAAC,EAAAC,4EAHIV,EAAAC,EAAQ,GAAAC,KAAKC,UAAUC,8BAA5BC,OAAIC,GAAA,EAAA,0GAAJD,OAAIC,EAAAK,EAAAN,OAAAC,GAAA,oCADUL,EAAW,GAAA,iEACzBI,OAAIC,GAAA,uPAHKL,EAAO,GAACW,MAAMC,QAAO,wCAA/B,2EAAA,4FAAHN,EAAsCC,EAAAM,EAAAJ,8CAAzBT,EAAO,GAACW,MAAMC,QAAO,KAAAE,GAAAC,EAAAC,CAAAA,CAAAA,oJALzBC,EAAAC,MAAMC,CAAAA,gCAAXf,OAAIC,GAAA,sPADUL,EAAW,GAAA,QAAA,mCAA7BM,CAAAA,EAIKC,EAAAC,EAAAC,6FAJaT,EAAW,GAAA,iEACzBI,OAAIC,GAAA,mSASqBL,EAAK,IAACoB,KAAKC,4LAAXrB,EAAK,IAACoB,KAAKC,2rBApBnCrB,EAAQ,IAAIA,EAAK,KAAK,MAAIsB,EAAAtB,mBAKHuB,WAAAC,KAAKC,KAAKzB,KAAcmB,CAAAA,cAAuBnB,EAAI,EAAA,wDAI5E,MAAAA,MAAQ0B,SAAQ,EAMX1B,KAAQW,MAAK,0CAYOY,WAAAC,KAAKC,KAAKzB,KAAcmB,CAAAA,cAAuBnB,EAAI,qnBA5BjFM,CAAAA,EAQKC,EAAAoB,EAAAlB,uBAHHmB,EAAAA,EAEKD,EAAAE,CAAAA,0CAmBPvB,EAAAA,EAIKC,EAAAuB,EAAArB,CAHHmB,EAAAA,EAEKE,EAAAC,CAAAA,sCA5BA/B,EAAQ,IAAIA,EAAK,KAAK,4GAKC,AAAAgC,EAAA,GAAAC,GAAAV,WAAAC,KAAKC,KAAKzB,KAAcmB,CAAAA,iKAsBxB,EAAA,AAAAa,EAAA,GAAAE,GAAAX,WAAAC,KAAKC,KAAKzB,KAAcmB,kUAlD9C,KAAAA,GAAU,oHAJL,GAAAgB,CAAAA,SAAAA,EAAkB,GAACC,EACnB,CAAAC,SAAAA,EAAW,IAAKD,OAKrBjC,GAASmC,GAAeC,GAAiB,CAAIC,OAAQ,EAAGC,MAAOtB,CAAAA,CAAAA,0CAE/DuB,GAAOC,GAAS,CAAA,KAClBC,GAEJF,EAAKG,UAAWhC,GAAAA,MACdiC,EAAQC,UAAUP,OAAU3B,GAAI,GAAKM,EAAO2B,CAC5CA,EAAAA,EAAQE,UAKVC,CAAAA,CAAAA,EAAAA,GAAM9C,uvBAFL+C,EAAA,EAAEN,EAAcE,GAAS7C,MAAMC,WAAWiD,OAAS,CAAA,kBAIjDD,EAAA,EAAAE,EACDjB,GAAY,EACR,6DACA,6CAAA,CAAA,whCCzBakB,MAAA,CAAAhB,SAAA,YAAgB"}