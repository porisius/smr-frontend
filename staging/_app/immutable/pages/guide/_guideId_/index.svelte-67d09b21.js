import{S as It,i as Et,s as Gt,d as w,bf as tt,v as Bt,bg as et,a7 as _,a8 as N,a9 as M,u as y,t as B,ab as H,e as b,af as O,f as L,h as I,j as D,ag as T,k as f,l as F,ac as j,n as E,p as C,ad as h,ah as rt,aH as Pt,Z as ge,g as ut,b0 as pe,r as at,am as ft,an as Dt,b as me,aG as St,w as Rt,aF as At,aK as Ot,aL as Tt,aM as ct,y as Ut,ae as Vt,ai as _t,q as lt,x as A,bh as Ct,bi as he}from"../../../chunks/vendor-71586dff.js";import{l as Nt}from"../../../chunks/gql-8582f3de.js";import{k as Mt,l as jt}from"../../../chunks/graphql-587ea9ba.js";import{p as Ht}from"../../../chunks/routing-689f9c1f.js";import{p as gt}from"../../../chunks/formatting-f0380eae.js";import{b as Y}from"../../../chunks/paths-396f020f.js";import{a as dt}from"../../../chunks/user-aa766597.js";import{g as $t}from"../../../chunks/navigation-fe373893.js";import{T as Lt}from"../../../chunks/Toast-a48313ee.js";import{m as pt}from"../../../chunks/markdown-f8c8918c.js";import{M as Ft}from"../../../chunks/MetaDescriptors-51ef3627.js";import"../../../chunks/global-04fbeec3.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/extras-71f1917d.js";import"../../../chunks/stores-b24fbbcb.js";const ot="src/lib/components/guides/GuideInfo.svelte";function Wt(r){let t,o,c,i,e,s,n,u,d=gt(r[0].created_at)+"",$,g;const l={c:function(){t=b("div"),o=b("h3"),c=O("Info"),i=L(),e=b("span"),s=b("strong"),n=O("Created:"),u=L(),$=O(d),g=b("br"),this.h()},l:function(v){t=I(v,"DIV",{class:!0});var k=D(t);o=I(k,"H3",{class:!0});var R=D(o);c=T(R,"Info"),R.forEach(f),i=F(k),e=I(k,"SPAN",{});var P=D(e);s=I(P,"STRONG",{});var U=D(s);n=T(U,"Created:"),U.forEach(f),u=F(P),$=T(P,d),P.forEach(f),g=I(k,"BR",{}),k.forEach(f),this.h()},h:function(){j(o,"class","text-2xl my-4 font-bold"),E(o,ot,8,6,194),E(s,ot,9,12,252),E(e,ot,9,6,246),E(g,ot,9,75,315),j(t,"class","text-lg"),E(t,ot,7,4,166)},m:function(v,k){C(v,t,k),h(t,o),h(o,c),h(t,i),h(t,e),h(e,s),h(s,n),h(e,u),h(e,$),h(t,g)},p:function(v,k){k&1&&d!==(d=gt(v[0].created_at)+"")&&rt($,d)},d:function(v){v&&f(t)}};return w("SvelteRegisterBlock",{block:l,id:Wt.name,type:"slot",source:"(7:2) <Content>",ctx:r}),l}function qt(r){let t,o;t=new et({props:{$$slots:{default:[Wt]},$$scope:{ctx:r}},$$inline:!0});const c={c:function(){_(t.$$.fragment)},l:function(e){N(t.$$.fragment,e)},m:function(e,s){M(t,e,s),o=!0},p:function(e,s){const n={};s&3&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i:function(e){o||(y(t.$$.fragment,e),o=!0)},o:function(e){B(t.$$.fragment,e),o=!1},d:function(e){H(t,e)}};return w("SvelteRegisterBlock",{block:c,id:qt.name,type:"slot",source:"(6:0) <Card>",ctx:r}),c}function mt(r){let t,o;t=new tt({props:{$$slots:{default:[qt]},$$scope:{ctx:r}},$$inline:!0});const c={c:function(){_(t.$$.fragment)},l:function(e){N(t.$$.fragment,e)},m:function(e,s){M(t,e,s),o=!0},p:function(e,[s]){const n={};s&3&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i:function(e){o||(y(t.$$.fragment,e),o=!0)},o:function(e){B(t.$$.fragment,e),o=!1},d:function(e){H(t,e)}};return w("SvelteRegisterBlock",{block:c,id:mt.name,type:"component",source:"",ctx:r}),c}function ve(r,t,o){let{$$slots:c={},$$scope:i}=t;Bt("GuideInfo",c,[]);let{guide:e}=t;const s=["guide"];return Object.keys(t).forEach(n=>{!~s.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&console.warn(`<GuideInfo> was created with unknown prop '${n}'`)}),r.$$set=n=>{"guide"in n&&o(0,e=n.guide)},r.$capture_state=()=>({Card:tt,Content:et,prettyDate:gt,guide:e}),r.$inject_state=n=>{"guide"in n&&o(0,e=n.guide)},t&&"$$inject"in t&&r.$inject_state(t.$$inject),[e]}class Kt extends It{constructor(t){super(t),Et(this,t,ve,mt,Gt,{guide:0}),w("SvelteRegisterComponent",{component:this,tagName:"GuideInfo",options:t,id:mt.name});const{ctx:o}=this.$$,c=t.props||{};o[0]===void 0&&!("guide"in c)&&console.warn("<GuideInfo> was created without expected prop 'guide'")}get guide(){throw new Error("<GuideInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set guide(t){throw new Error("<GuideInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const z="src/lib/components/guides/GuideAuthor.svelte";function Qt(r){let t,o,c,i,e,s,n,u,d,$,g,l=r[0].username+"",a,v,k,R,P;const U={c:function(){t=b("div"),o=b("h3"),c=O("Author"),i=L(),e=b("div"),s=b("div"),n=b("div"),d=L(),$=b("div"),g=b("a"),a=O(l),k=L(),R=b("div"),P=O("Writer"),this.h()},l:function(V){t=I(V,"DIV",{class:!0});var x=D(t);o=I(x,"H3",{class:!0});var G=D(o);c=T(G,"Author"),G.forEach(f),i=F(x),e=I(x,"DIV",{class:!0});var X=D(e);s=I(X,"DIV",{class:!0});var Q=D(s);n=I(Q,"DIV",{class:!0,style:!0}),D(n).forEach(f),d=F(Q),$=I(Q,"DIV",{class:!0});var m=D($);g=I(m,"A",{href:!0,class:!0});var q=D(g);a=T(q,l),q.forEach(f),k=F(m),R=I(m,"DIV",{});var p=D(R);P=T(p,"Writer"),p.forEach(f),m.forEach(f),Q.forEach(f),X.forEach(f),x.forEach(f),this.h()},h:function(){j(o,"class","text-2xl my-4 font-bold"),E(o,z,8,6,197),j(n,"class","rounded-full bg-cover w-14 h-14"),j(n,"style",u=`background-image: url("${r[0].avatar}")`),E(n,z,12,10,374),j(g,"href",v=Y+"/user/"+r[0].id+"/"),j(g,"class","text-yellow-500 underline"),E(g,z,14,12,529),E(R,z,15,12,632),j($,"class","grid grid-flow-row"),E($,z,13,10,484),j(s,"class","grid grid-flow-col auto-cols-min gap-x-4"),E(s,z,11,8,309),j(e,"class","grid auto-rows-min text-lg gap-y-4"),E(e,z,10,6,252),j(t,"class","grid grid-flow-row gap-y-2"),E(t,z,7,4,150)},m:function(V,x){C(V,t,x),h(t,o),h(o,c),h(t,i),h(t,e),h(e,s),h(s,n),h(s,d),h(s,$),h($,g),h(g,a),h($,k),h($,R),h(R,P)},p:function(V,x){x&1&&u!==(u=`background-image: url("${V[0].avatar}")`)&&j(n,"style",u),x&1&&l!==(l=V[0].username+"")&&rt(a,l),x&1&&v!==(v=Y+"/user/"+V[0].id+"/")&&j(g,"href",v)},d:function(V){V&&f(t)}};return w("SvelteRegisterBlock",{block:U,id:Qt.name,type:"slot",source:"(7:2) <Content>",ctx:r}),U}function Zt(r){let t,o;t=new et({props:{$$slots:{default:[Qt]},$$scope:{ctx:r}},$$inline:!0});const c={c:function(){_(t.$$.fragment)},l:function(e){N(t.$$.fragment,e)},m:function(e,s){M(t,e,s),o=!0},p:function(e,s){const n={};s&3&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i:function(e){o||(y(t.$$.fragment,e),o=!0)},o:function(e){B(t.$$.fragment,e),o=!1},d:function(e){H(t,e)}};return w("SvelteRegisterBlock",{block:c,id:Zt.name,type:"slot",source:"(6:0) <Card>",ctx:r}),c}function ht(r){let t,o;t=new tt({props:{$$slots:{default:[Zt]},$$scope:{ctx:r}},$$inline:!0});const c={c:function(){_(t.$$.fragment)},l:function(e){N(t.$$.fragment,e)},m:function(e,s){M(t,e,s),o=!0},p:function(e,[s]){const n={};s&3&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i:function(e){o||(y(t.$$.fragment,e),o=!0)},o:function(e){B(t.$$.fragment,e),o=!1},d:function(e){H(t,e)}};return w("SvelteRegisterBlock",{block:c,id:ht.name,type:"component",source:"",ctx:r}),c}function xe(r,t,o){let{$$slots:c={},$$scope:i}=t;Bt("GuideAuthor",c,[]);let{author:e}=t;const s=["author"];return Object.keys(t).forEach(n=>{!~s.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&console.warn(`<GuideAuthor> was created with unknown prop '${n}'`)}),r.$$set=n=>{"author"in n&&o(0,e=n.author)},r.$capture_state=()=>({base:Y,Card:tt,Content:et,author:e}),r.$inject_state=n=>{"author"in n&&o(0,e=n.author)},t&&"$$inject"in t&&r.$inject_state(t.$$inject),[e]}class zt extends It{constructor(t){super(t),Et(this,t,xe,ht,Gt,{author:0}),w("SvelteRegisterComponent",{component:this,tagName:"GuideAuthor",options:t,id:ht.name});const{ctx:o}=this.$$,c=t.props||{};o[0]===void 0&&!("author"in c)&&console.warn("<GuideAuthor> was created without expected prop 'author'")}get author(){throw new Error("<GuideAuthor>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set author(t){throw new Error("<GuideAuthor>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:vt}=ge,W="src/routes/guide/[guideId]/index.svelte";function xt(r){let t,o;t=new Ft({props:{description:r[3].data.getGuide.short_description,title:r[3].data.getGuide.name},$$inline:!0});const c={c:function(){_(t.$$.fragment)},l:function(e){N(t.$$.fragment,e)},m:function(e,s){M(t,e,s),o=!0},p:function(e,s){const n={};s&8&&(n.description=e[3].data.getGuide.short_description),s&8&&(n.title=e[3].data.getGuide.name),t.$set(n)},i:function(e){o||(y(t.$$.fragment,e),o=!0)},o:function(e){B(t.$$.fragment,e),o=!1},d:function(e){H(t,e)}};return w("SvelteRegisterBlock",{block:c,id:xt.name,type:"if",source:"(55:2) {#if !$guide.fetching && !$guide.error && $guide.data.getGuide}",ctx:r}),c}function Jt(r){let t;const o={c:function(){t=O("404")},l:function(i){t=T(i,"404")},m:function(i,e){C(i,t,e)},p:A,i:A,o:A,d:function(i){i&&f(t)}};return w("SvelteRegisterBlock",{block:o,id:Jt.name,type:"else",source:"(110:0) {:else}",ctx:r}),o}function Xt(r){let t,o,c,i=r[3].data.getGuide.name+"",e,s,n,u,d,$,g,l,a,v,k,R,P,U,K,V,x=r[5]&&wt(r);$=new tt({props:{class:"h-fit",$$slots:{default:[se]},$$scope:{ctx:r}},$$inline:!0}),a=new Kt({props:{guide:r[3].data.getGuide},$$inline:!0}),k=new zt({props:{author:r[3].data.getGuide.user},$$inline:!0});let G=r[5]&&kt(r);function X(q){r[15](q)}let Q={$$slots:{default:[$e]},$$scope:{ctx:r}};r[2]!==void 0&&(Q.running=r[2]),U=new Lt({props:Q,$$inline:!0}),Ut.push(()=>Vt(U,"running",X));const m={c:function(){t=b("div"),o=b("div"),c=b("h1"),e=O(i),s=L(),n=b("div"),x&&x.c(),u=L(),d=b("div"),_($.$$.fragment),g=L(),l=b("div"),_(a.$$.fragment),v=L(),_(k.$$.fragment),R=L(),G&&G.c(),P=L(),_(U.$$.fragment),this.h()},l:function(p){t=I(p,"DIV",{class:!0});var S=D(t);o=I(S,"DIV",{class:!0});var J=D(o);c=I(J,"H1",{class:!0});var nt=D(c);e=T(nt,i),nt.forEach(f),s=F(J),n=I(J,"DIV",{});var it=D(n);x&&x.l(it),it.forEach(f),J.forEach(f),u=F(S),d=I(S,"DIV",{class:!0});var Z=D(d);N($.$$.fragment,Z),g=F(Z),l=I(Z,"DIV",{class:!0});var st=D(l);N(a.$$.fragment,st),v=F(st),N(k.$$.fragment,st),st.forEach(f),Z.forEach(f),S.forEach(f),R=F(p),G&&G.l(p),P=F(p),N(U.$$.fragment,p),this.h()},h:function(){j(c,"class","text-4xl font-bold"),E(c,W,66,6,2430),E(n,W,68,6,2502),j(o,"class","flex flex-wrap h-auto justify-between items-center"),E(o,W,65,4,2359),j(l,"class","grid grid-cols-1 auto-rows-min gap-8"),E(l,W,85,6,3131),j(d,"class","grid grid-auto-max auto-cols-fr gap-4"),E(d,W,75,4,2784),j(t,"class","grid gap-6 xlx:grid-flow-row"),E(t,W,64,2,2312)},m:function(p,S){C(p,t,S),h(t,o),h(o,c),h(c,e),h(o,s),h(o,n),x&&x.m(n,null),h(t,u),h(t,d),M($,d,null),h(d,g),h(d,l),M(a,l,null),h(l,v),M(k,l,null),C(p,R,S),G&&G.m(p,S),C(p,P,S),M(U,p,S),V=!0},p:function(p,S){(!V||S&8)&&i!==(i=p[3].data.getGuide.name+"")&&rt(e,i),p[5]?x?(x.p(p,S),S&32&&y(x,1)):(x=wt(p),x.c(),y(x,1),x.m(n,null)):x&&(lt(),B(x,1,1,()=>{x=null}),at());const J={};S&262152&&(J.$$scope={dirty:S,ctx:p}),$.$set(J);const nt={};S&8&&(nt.guide=p[3].data.getGuide),a.$set(nt);const it={};S&8&&(it.author=p[3].data.getGuide.user),k.$set(it),p[5]?G?(G.p(p,S),S&32&&y(G,1)):(G=kt(p),G.c(),y(G,1),G.m(P.parentNode,P)):G&&(lt(),B(G,1,1,()=>{G=null}),at());const Z={};S&262160&&(Z.$$scope={dirty:S,ctx:p}),!K&&S&4&&(K=!0,Z.running=p[2],_t(()=>K=!1)),U.$set(Z)},i:function(p){V||(y(x),y($.$$.fragment,p),y(a.$$.fragment,p),y(k.$$.fragment,p),y(G),y(U.$$.fragment,p),V=!0)},o:function(p){B(x),B($.$$.fragment,p),B(a.$$.fragment,p),B(k.$$.fragment,p),B(G),B(U.$$.fragment,p),V=!1},d:function(p){p&&f(t),x&&x.d(),H($),H(a),H(k),p&&f(R),G&&G.d(p),p&&f(P),H(U,p)}};return w("SvelteRegisterBlock",{block:m,id:Xt.name,type:"if",source:"(64:31) ",ctx:r}),m}function Yt(r){let t,o,c=r[3].error.message+"",i;const e={c:function(){t=b("p"),o=O("Oh no... "),i=O(c),this.h()},l:function(n){t=I(n,"P",{});var u=D(t);o=T(u,"Oh no... "),i=T(u,c),u.forEach(f),this.h()},h:function(){E(t,W,62,2,2239)},m:function(n,u){C(n,t,u),h(t,o),h(t,i)},p:function(n,u){u&8&&c!==(c=n[3].error.message+"")&&rt(i,c)},i:A,o:A,d:function(n){n&&f(t)}};return w("SvelteRegisterBlock",{block:e,id:Yt.name,type:"if",source:"(62:23) ",ctx:r}),e}function te(r){let t,o;const c={c:function(){t=b("p"),o=O("Loading..."),this.h()},l:function(e){t=I(e,"P",{});var s=D(t);o=T(s,"Loading..."),s.forEach(f),this.h()},h:function(){E(t,W,60,2,2195)},m:function(e,s){C(e,t,s),h(t,o)},p:A,i:A,o:A,d:function(e){e&&f(t)}};return w("SvelteRegisterBlock",{block:c,id:te.name,type:"if",source:"(60:0) {#if $guide.fetching}",ctx:r}),c}function wt(r){let t,o,c,i;t=new ct({props:{variant:"outlined",$$slots:{default:[ee]},$$scope:{ctx:r}},$$inline:!0}),t.$on("click",r[10]),c=new ct({props:{variant:"outlined",$$slots:{default:[ne]},$$scope:{ctx:r}},$$inline:!0}),c.$on("click",r[11]);const e={c:function(){_(t.$$.fragment),o=L(),_(c.$$.fragment)},l:function(n){N(t.$$.fragment,n),o=F(n),N(c.$$.fragment,n)},m:function(n,u){M(t,n,u),C(n,o,u),M(c,n,u),i=!0},p:function(n,u){const d={};u&262144&&(d.$$scope={dirty:u,ctx:n}),t.$set(d);const $={};u&262144&&($.$$scope={dirty:u,ctx:n}),c.$set($)},i:function(n){i||(y(t.$$.fragment,n),y(c.$$.fragment,n),i=!0)},o:function(n){B(t.$$.fragment,n),B(c.$$.fragment,n),i=!1},d:function(n){H(t,n),n&&f(o),H(c,n)}};return w("SvelteRegisterBlock",{block:e,id:wt.name,type:"if",source:"(70:8) {#if canUserEdit}",ctx:r}),e}function ee(r){let t;const o={c:function(){t=O("Edit")},l:function(i){t=T(i,"Edit")},m:function(i,e){C(i,t,e)},d:function(i){i&&f(t)}};return w("SvelteRegisterBlock",{block:o,id:ee.name,type:"slot",source:`(71:10) <Button variant=\\"outlined\\" on:click={() => goto(base + '/guide/' + guideId + '/edit')}>`,ctx:r}),o}function ne(r){let t;const o={c:function(){t=O("Delete")},l:function(i){t=T(i,"Delete")},m:function(i,e){C(i,t,e)},d:function(i){i&&f(t)}};return w("SvelteRegisterBlock",{block:o,id:ne.name,type:"slot",source:'(72:10) <Button variant=\\"outlined\\" on:click={() => deleteDialogOpen.set(true)}>',ctx:r}),o}function ie(r){const t={c:A,l:A,m:A,p:A,d:A};return w("SvelteRegisterBlock",{block:t,id:ie.name,type:"catch",source:'(1:0) <script lang=\\"ts\\" context=\\"module\\">import { paramsToProps }',ctx:r}),t}function oe(r){let t,o=r[17]+"";const c={c:function(){t=b("p"),this.h()},l:function(e){t=I(e,"P",{});var s=D(t);s.forEach(f),this.h()},h:function(){E(t,W,80,14,3025)},m:function(e,s){C(e,t,s),t.innerHTML=o},p:function(e,s){s&8&&o!==(o=e[17]+"")&&(t.innerHTML=o)},d:function(e){e&&f(t)}};return w("SvelteRegisterBlock",{block:c,id:oe.name,type:"then",source:"(80:76)                <p>{@html guideRendered}",ctx:r}),c}function ce(r){const t={c:A,l:A,m:A,p:A,d:A};return w("SvelteRegisterBlock",{block:t,id:ce.name,type:"pending",source:'(1:0) <script lang=\\"ts\\" context=\\"module\\">import { paramsToProps }',ctx:r}),t}function re(r){let t,o,c={ctx:r,current:null,token:null,hasCatch:!1,pending:ce,then:oe,catch:ie,value:17};Ct(o=pt(r[3].data.getGuide.guide),c);const i={c:function(){t=b("div"),c.block.c(),this.h()},l:function(s){t=I(s,"DIV",{class:!0});var n=D(t);c.block.l(n),n.forEach(f),this.h()},h:function(){j(t,"class","markdown-content break-words"),E(t,W,78,10,2891)},m:function(s,n){C(s,t,n),c.block.m(t,c.anchor=null),c.mount=()=>t,c.anchor=null},p:function(s,n){r=s,c.ctx=r,n&8&&o!==(o=pt(r[3].data.getGuide.guide))&&Ct(o,c)||he(c,r,n)},d:function(s){s&&f(t),c.block.d(),c.token=null,c=null}};return w("SvelteRegisterBlock",{block:i,id:re.name,type:"slot",source:"(78:8) <Content>",ctx:r}),i}function se(r){let t,o;t=new et({props:{$$slots:{default:[re]},$$scope:{ctx:r}},$$inline:!0});const c={c:function(){_(t.$$.fragment)},l:function(e){N(t.$$.fragment,e)},m:function(e,s){M(t,e,s),o=!0},p:function(e,s){const n={};s&262152&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i:function(e){o||(y(t.$$.fragment,e),o=!0)},o:function(e){B(t.$$.fragment,e),o=!1},d:function(e){H(t,e)}};return w("SvelteRegisterBlock",{block:c,id:se.name,type:"slot",source:'(77:6) <Card class=\\"h-fit\\">',ctx:r}),c}function kt(r){let t,o,c;function i(n){r[14](n)}let e={$$slots:{default:[de]},$$scope:{ctx:r}};r[6]!==void 0&&(e.open=r[6]),t=new At({props:e,$$inline:!0}),Ut.push(()=>Vt(t,"open",i));const s={c:function(){_(t.$$.fragment)},l:function(u){N(t.$$.fragment,u)},m:function(u,d){M(t,u,d),c=!0},p:function(u,d){const $={};d&262144&&($.$$scope={dirty:d,ctx:u}),!o&&d&64&&(o=!0,$.open=u[6],_t(()=>o=!1)),t.$set($)},i:function(u){c||(y(t.$$.fragment,u),c=!0)},o:function(u){B(t.$$.fragment,u),c=!1},d:function(u){H(t,u)}};return w("SvelteRegisterBlock",{block:s,id:kt.name,type:"if",source:"(93:2) {#if canUserEdit}",ctx:r}),s}function ue(r){let t;const o={c:function(){t=O("Delete Guide?")},l:function(i){t=T(i,"Delete Guide?")},m:function(i,e){C(i,t,e)},d:function(i){i&&f(t)}};return w("SvelteRegisterBlock",{block:o,id:ue.name,type:"slot",source:"(95:6) <Title>",ctx:r}),o}function ae(r){let t;const o={c:function(){t=O("Cancel")},l:function(i){t=T(i,"Cancel")},m:function(i,e){C(i,t,e)},d:function(i){i&&f(t)}};return w("SvelteRegisterBlock",{block:o,id:ae.name,type:"slot",source:'(100:10) <Button variant=\\"outlined\\" on:click={() => deleteDialogOpen.set(false)}>',ctx:r}),o}function le(r){let t;const o={c:function(){t=O("Delete")},l:function(i){t=T(i,"Delete")},m:function(i,e){C(i,t,e)},d:function(i){i&&f(t)}};return w("SvelteRegisterBlock",{block:o,id:le.name,type:"slot",source:'(101:10) <Button variant=\\"outlined\\" on:click={() => deleteGuideFn()}>',ctx:r}),o}function fe(r){let t,o,c,i,e,s,n,u;e=new ct({props:{variant:"outlined",$$slots:{default:[ae]},$$scope:{ctx:r}},$$inline:!0}),e.$on("click",r[12]),n=new ct({props:{variant:"outlined",$$slots:{default:[le]},$$scope:{ctx:r}},$$inline:!0}),n.$on("click",r[13]);const d={c:function(){t=b("div"),o=b("span"),c=O("Are you sure you wish to delete this guide"),i=L(),_(e.$$.fragment),s=L(),_(n.$$.fragment),this.h()},l:function(g){t=I(g,"DIV",{class:!0});var l=D(t);o=I(l,"SPAN",{});var a=D(o);c=T(a,"Are you sure you wish to delete this guide"),a.forEach(f),i=F(l),N(e.$$.fragment,l),s=F(l),N(n.$$.fragment,l),l.forEach(f),this.h()},h:function(){E(o,W,97,10,3503),j(t,"class","grid grid-flow-row gap-4"),E(t,W,96,8,3454)},m:function(g,l){C(g,t,l),h(t,o),h(o,c),h(t,i),M(e,t,null),h(t,s),M(n,t,null),u=!0},p:function(g,l){const a={};l&262144&&(a.$$scope={dirty:l,ctx:g}),e.$set(a);const v={};l&262144&&(v.$$scope={dirty:l,ctx:g}),n.$set(v)},i:function(g){u||(y(e.$$.fragment,g),y(n.$$.fragment,g),u=!0)},o:function(g){B(e.$$.fragment,g),B(n.$$.fragment,g),u=!1},d:function(g){g&&f(t),H(e),H(n)}};return w("SvelteRegisterBlock",{block:d,id:fe.name,type:"slot",source:"(96:6) <DialogContent>",ctx:r}),d}function de(r){let t,o,c,i;t=new Ot({props:{$$slots:{default:[ue]},$$scope:{ctx:r}},$$inline:!0}),c=new Tt({props:{$$slots:{default:[fe]},$$scope:{ctx:r}},$$inline:!0});const e={c:function(){_(t.$$.fragment),o=L(),_(c.$$.fragment)},l:function(n){N(t.$$.fragment,n),o=F(n),N(c.$$.fragment,n)},m:function(n,u){M(t,n,u),C(n,o,u),M(c,n,u),i=!0},p:function(n,u){const d={};u&262144&&(d.$$scope={dirty:u,ctx:n}),t.$set(d);const $={};u&262144&&($.$$scope={dirty:u,ctx:n}),c.$set($)},i:function(n){i||(y(t.$$.fragment,n),y(c.$$.fragment,n),i=!0)},o:function(n){B(t.$$.fragment,n),B(c.$$.fragment,n),i=!1},d:function(n){H(t,n),n&&f(o),H(c,n)}};return w("SvelteRegisterBlock",{block:e,id:de.name,type:"slot",source:"(94:4) <Dialog bind:open={$deleteDialogOpen}>",ctx:r}),e}function $e(r){let t,o;const c={c:function(){t=b("span"),o=O(r[4]),this.h()},l:function(e){t=I(e,"SPAN",{});var s=D(t);o=T(s,r[4]),s.forEach(f),this.h()},h:function(){E(t,W,107,4,3845)},m:function(e,s){C(e,t,s),h(t,o)},p:function(e,s){s&16&&rt(o,e[4])},d:function(e){e&&f(t)}};return w("SvelteRegisterBlock",{block:c,id:$e.name,type:"slot",source:"(107:2) <Toast bind:running={errorToast}>",ctx:r}),c}function yt(r){let t,o,c,i,e,s,n=!r[3].fetching&&!r[3].error&&r[3].data.getGuide&&xt(r);const u=[te,Yt,Xt,Jt],d=[];function $(l,a){return l[3].fetching?0:l[3].error?1:l[3].data.getGuide?2:3}c=$(r),i=d[c]=u[c](r);const g={c:function(){n&&n.c(),t=ut(),o=L(),i.c(),e=ut()},l:function(a){const v=pe('[data-svelte="svelte-bhfvpi"]',document.head);n&&n.l(v),t=ut(),v.forEach(f),o=F(a),i.l(a),e=ut()},m:function(a,v){n&&n.m(document.head,null),h(document.head,t),C(a,o,v),d[c].m(a,v),C(a,e,v),s=!0},p:function(a,[v]){!a[3].fetching&&!a[3].error&&a[3].data.getGuide?n?(n.p(a,v),v&8&&y(n,1)):(n=xt(a),n.c(),y(n,1),n.m(t.parentNode,t)):n&&(lt(),B(n,1,1,()=>{n=null}),at());let k=c;c=$(a),c===k?d[c].p(a,v):(lt(),B(d[k],1,1,()=>{d[k]=null}),at(),i=d[c],i?i.p(a,v):(i=d[c]=u[c](a),i.c()),y(i,1),i.m(e.parentNode,e))},i:function(a){s||(y(n),y(i),s=!0)},o:function(a){B(n),B(i),s=!1},d:function(a){n&&n.d(a),f(t),a&&f(o),d[c].d(a),a&&f(e)}};return w("SvelteRegisterBlock",{block:g,id:yt.name,type:"component",source:"",ctx:r}),g}const bt=Pt(Mt,{guide:void 0}),we=Ht(async r=>(bt.variables.guide=r.params.guideId,Nt({guide:bt})(r)));function ke(r,t,o){let c,i,e=A,s=()=>(e(),e=me(l,m=>o(3,i=m)),l),n,u;ft(dt,"user"),Dt(r,dt,m=>o(9,n=m)),r.$$.on_destroy.push(()=>e());let{$$slots:d={},$$scope:$}=t;Bt("U5BguideIdu5D",d,[]);let{guideId:g}=t,{guide:l}=t;ft(l,"guide"),s();let a="",v=!1;const k=St({query:jt}),R=Rt(!1);ft(R,"deleteDialogOpen"),Dt(r,R,m=>o(6,u=m));const P=()=>{k({guideId:g}).then(m=>{m.error?(console.error(m.error.message),o(4,a="Error deleting guide: "+m.error.message),o(2,v=!0)):$t(Y+"/guides")})},U=["guideId","guide"];Object.keys(t).forEach(m=>{!~U.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&vt.warn(`<U5BguideIdu5D> was created with unknown prop '${m}'`)});const K=()=>$t(Y+"/guide/"+g+"/edit"),V=()=>R.set(!0),x=()=>R.set(!1),G=()=>P();function X(m){u=m,R.set(u)}function Q(m){v=m,o(2,v)}return r.$$set=m=>{"guideId"in m&&o(0,g=m.guideId),"guide"in m&&s(o(1,l=m.guide))},r.$capture_state=()=>({paramsToProps:Ht,operationStore:Pt,GetGuideDocument:Mt,loadWaitForNoFetch:Nt,guideQ:bt,load:we,mutation:St,DeleteGuideDocument:jt,GuideInfo:Kt,GuideAuthor:zt,user:dt,goto:$t,writable:Rt,Toast:Lt,markdown:pt,base:Y,Dialog:At,Title:Ot,DialogContent:Tt,MetaDescriptors:Ft,Card:tt,Content:et,Button:ct,guideId:g,guide:l,errorMessage:a,errorToast:v,deleteGuide:k,deleteDialogOpen:R,deleteGuideFn:P,canUserEdit:c,$guide:i,$user:n,$deleteDialogOpen:u}),r.$inject_state=m=>{"guideId"in m&&o(0,g=m.guideId),"guide"in m&&s(o(1,l=m.guide)),"errorMessage"in m&&o(4,a=m.errorMessage),"errorToast"in m&&o(2,v=m.errorToast),"canUserEdit"in m&&o(5,c=m.canUserEdit)},t&&"$$inject"in t&&r.$inject_state(t.$$inject),r.$$.update=()=>{r.$$.dirty&520&&o(5,c=n?.roles?.deleteContent||n?.id===i?.data?.getGuide?.user?.id),r.$$.dirty&4&&(v||o(4,a=""))},[g,l,v,i,a,c,u,R,P,n,K,V,x,G,X,Q]}class Ue extends It{constructor(t){super(t),Et(this,t,ke,yt,Gt,{guideId:0,guide:1}),w("SvelteRegisterComponent",{component:this,tagName:"U5BguideIdu5D",options:t,id:yt.name});const{ctx:o}=this.$$,c=t.props||{};o[0]===void 0&&!("guideId"in c)&&vt.warn("<U5BguideIdu5D> was created without expected prop 'guideId'"),o[1]===void 0&&!("guide"in c)&&vt.warn("<U5BguideIdu5D> was created without expected prop 'guide'")}get guideId(){throw new Error("<U5BguideIdu5D>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set guideId(t){throw new Error("<U5BguideIdu5D>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get guide(){throw new Error("<U5BguideIdu5D>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set guide(t){throw new Error("<U5BguideIdu5D>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Ue as default,we as load};
//# sourceMappingURL=index.svelte-67d09b21.js.map
