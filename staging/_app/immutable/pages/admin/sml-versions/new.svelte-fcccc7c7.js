import{S as W,i as X,d as N,bf as _,s as Y,bg as D,y as tt,ae as et,a7 as b,f as V,e as q,af as A,b0 as ot,a8 as x,k as m,l as T,h as F,j as O,ag as G,ac as nt,n as H,a9 as S,p as w,ad as P,ai as rt,u as v,t as y,ab as k,v as st,aG as E,Z as it,x as at,ah as ct}from"../../../chunks/vendor-71586dff.js";import{N as L}from"../../../chunks/graphql-587ea9ba.js";import{T as Z}from"../../../chunks/Toast-a48313ee.js";import{g as R}from"../../../chunks/navigation-fe373893.js";import{S as z}from"../../../chunks/SMLVersionForm-098caca9.js";import{b as B}from"../../../chunks/paths-396f020f.js";import{M as I}from"../../../chunks/MetaDescriptors-51ef3627.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/forms-a767280e.js";import"../../../chunks/forms-fcbfc7d5.js";import"../../../chunks/markdown-f8c8918c.js";import"../../../chunks/extras-71f1917d.js";import"../../../chunks/stores-b24fbbcb.js";const{console:ft}=it,J="src/routes/admin/sml-versions/new.svelte";function K(s){let t,r;t=new z({props:{onSubmit:s[2]},$$inline:!0});const a={c:function(){b(t.$$.fragment)},l:function(e){x(t.$$.fragment,e)},m:function(e,n){S(t,e,n),r=!0},p:at,i:function(e){r||(v(t.$$.fragment,e),r=!0)},o:function(e){y(t.$$.fragment,e),r=!1},d:function(e){k(t,e)}};return N("SvelteRegisterBlock",{block:a,id:K.name,type:"slot",source:"(40:2) <Content>",ctx:s}),a}function Q(s){let t,r;t=new D({props:{$$slots:{default:[K]},$$scope:{ctx:s}},$$inline:!0});const a={c:function(){b(t.$$.fragment)},l:function(e){x(t.$$.fragment,e)},m:function(e,n){S(t,e,n),r=!0},p:function(e,n){const u={};n&32&&(u.$$scope={dirty:n,ctx:e}),t.$set(u)},i:function(e){r||(v(t.$$.fragment,e),r=!0)},o:function(e){y(t.$$.fragment,e),r=!1},d:function(e){k(t,e)}};return N("SvelteRegisterBlock",{block:a,id:Q.name,type:"slot",source:"(39:0) <Card>",ctx:s}),a}function U(s){let t,r;const a={c:function(){t=q("span"),r=A(s[1]),this.h()},l:function(e){t=F(e,"SPAN",{});var n=O(t);r=G(n,s[1]),n.forEach(m),this.h()},h:function(){H(t,J,45,2,1307)},m:function(e,n){w(e,t,n),P(t,r)},p:function(e,n){n&2&&ct(r,e[1])},d:function(e){e&&m(t)}};return N("SvelteRegisterBlock",{block:a,id:U.name,type:"slot",source:"(45:0) <Toast bind:running={errorToast}>",ctx:s}),a}function j(s){let t,r,a,i,e,n,u,$,d,p;t=new I({props:{description:"New SML Version",title:"Admin: New SML Version"},$$inline:!0}),n=new _({props:{$$slots:{default:[Q]},$$scope:{ctx:s}},$$inline:!0});function c(l){s[3](l)}let g={$$slots:{default:[U]},$$scope:{ctx:s}};s[0]!==void 0&&(g.running=s[0]),$=new Z({props:g,$$inline:!0}),tt.push(()=>et($,"running",c));const C={c:function(){b(t.$$.fragment),r=V(),a=q("h1"),i=A("New SML Version"),e=V(),b(n.$$.fragment),u=V(),b($.$$.fragment),this.h()},l:function(o){const f=ot('[data-svelte="svelte-1wdno4b"]',document.head);x(t.$$.fragment,f),f.forEach(m),r=T(o),a=F(o,"H1",{class:!0});var h=O(a);i=G(h,"New SML Version"),h.forEach(m),e=T(o),x(n.$$.fragment,o),u=T(o),x($.$$.fragment,o),this.h()},h:function(){nt(a,"class","text-4xl my-4 font-bold"),H(a,J,36,0,1138)},m:function(o,f){S(t,document.head,null),w(o,r,f),w(o,a,f),P(a,i),w(o,e,f),S(n,o,f),w(o,u,f),S($,o,f),p=!0},p:function(o,[f]){const h={};f&32&&(h.$$scope={dirty:f,ctx:o}),n.$set(h);const M={};f&34&&(M.$$scope={dirty:f,ctx:o}),!d&&f&1&&(d=!0,M.running=o[0],rt(()=>d=!1)),$.$set(M)},i:function(o){p||(v(t.$$.fragment,o),v(n.$$.fragment,o),v($.$$.fragment,o),p=!0)},o:function(o){y(t.$$.fragment,o),y(n.$$.fragment,o),y($.$$.fragment,o),p=!1},d:function(o){k(t),o&&m(r),o&&m(a),o&&m(e),k(n,o),o&&m(u),k($,o)}};return N("SvelteRegisterBlock",{block:C,id:j.name,type:"component",source:"",ctx:s}),C}function $t(s,t,r){let{$$slots:a={},$$scope:i}=t;st("New",a,[]);let e="",n=!1;const u=E({query:L}),$=c=>{u({smlVersion:c}).then(g=>{g.error?(console.error(g.error.message),r(1,e="Error creating mod: "+g.error.message),r(0,n=!0)):R(B+"/admin/sml-versions")})},d=[];Object.keys(t).forEach(c=>{!~d.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&ft.warn(`<New> was created with unknown prop '${c}'`)});function p(c){n=c,r(0,n)}return s.$capture_state=()=>({mutation:E,NewSmlVersionDocument:L,Toast:Z,goto:R,SMLVersionForm:z,base:B,MetaDescriptors:I,Card:_,Content:D,errorMessage:e,errorToast:n,newVersion:u,onSubmit:$}),s.$inject_state=c=>{"errorMessage"in c&&r(1,e=c.errorMessage),"errorToast"in c&&r(0,n=c.errorToast)},t&&"$$inject"in t&&s.$inject_state(t.$$inject),s.$$.update=()=>{s.$$.dirty&1&&(n||r(1,e=""))},[n,e,$,p]}class kt extends W{constructor(t){super(t),X(this,t,$t,j,Y,{}),N("SvelteRegisterComponent",{component:this,tagName:"New",options:t,id:j.name})}}export{kt as default};
//# sourceMappingURL=new.svelte-fcccc7c7.js.map
