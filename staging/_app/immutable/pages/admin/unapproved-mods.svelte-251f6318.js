import{S as Vt,i as Et,d as y,bf as lt,s as At,e as P,a7 as k,h as I,j as V,a8 as h,k as d,n as E,ac as Q,p as x,ad as q,a9 as b,u as p,t as g,ab as w,f as R,g as j,b0 as Nt,l as M,r as H,v as qt,aH as et,am as Ht,an as Ot,ap as Gt,aG as L,aI as nt,w as ot,bg as X,aM as N,q as O,aV as ct,af as S,ag as D,ah as G,aW as Lt}from"../../chunks/vendor-71586dff.js";import{f as it,A as rt,g as ft}from"../../chunks/graphql-587ea9ba.js";import{P as Y}from"../../chunks/PageControls-bcea2d9e.js";import{b as T}from"../../chunks/paths-396f020f.js";import{M as $t}from"../../chunks/MetaDescriptors-51ef3627.js";import{D as ut,H as at,B as mt,R as Z,C as U}from"../../chunks/forms-a767280e.js";import{p as W}from"../../chunks/formatting-f0380eae.js";import"../../chunks/stores-b24fbbcb.js";const A="src/routes/admin/unapproved-mods.svelte";function st(s,t,c){const o=s.slice();return o[10]=t[c],o}function z(s){let t,c,o,e;o=new Y({props:{totalPages:Math.ceil(s[1]/_),currentPage:s[3]},$$inline:!0});const n={c:function(){t=P("div"),c=P("div"),k(o.$$.fragment),this.h()},l:function(f){t=I(f,"DIV",{class:!0});var l=V(t);c=I(l,"DIV",{});var $=V(c);h(o.$$.fragment,$),$.forEach(d),l.forEach(d),this.h()},h:function(){E(c,A,47,4,1481),Q(t,"class","mb-5 ml-auto flex justify-end"),E(t,A,46,2,1433)},m:function(f,l){x(f,t,l),q(t,c),b(o,c,null),e=!0},p:function(f,l){const $={};l&2&&($.totalPages=Math.ceil(f[1]/_)),o.$set($)},i:function(f){e||(p(o.$$.fragment,f),e=!0)},o:function(f){g(o.$$.fragment,f),e=!1},d:function(f){f&&d(t),w(o)}};return y("SvelteRegisterBlock",{block:n,id:z.name,type:"if",source:"(46:0) {#if totalMods}",ctx:s}),n}function dt(s){let t,c;t=new ut({props:{class:"max-w-full",$$slots:{default:[_t]},$$scope:{ctx:s}},$$inline:!0});const o={c:function(){k(t.$$.fragment)},l:function(n){h(t.$$.fragment,n)},m:function(n,i){b(t,n,i),c=!0},p:function(n,i){const f={};i&8193&&(f.$$scope={dirty:i,ctx:n}),t.$set(f)},i:function(n){c||(p(t.$$.fragment,n),c=!0)},o:function(n){g(t.$$.fragment,n),c=!1},d:function(n){w(t,n)}};return y("SvelteRegisterBlock",{block:o,id:dt.name,type:"else",source:"(59:2) {:else}",ctx:s}),o}function pt(s){let t,c;t=new X({props:{$$slots:{default:[jt]},$$scope:{ctx:s}},$$inline:!0});const o={c:function(){k(t.$$.fragment)},l:function(n){h(t.$$.fragment,n)},m:function(n,i){b(t,n,i),c=!0},p:function(n,i){const f={};i&8193&&(f.$$scope={dirty:i,ctx:n}),t.$set(f)},i:function(n){c||(p(t.$$.fragment,n),c=!0)},o:function(n){g(t.$$.fragment,n),c=!1},d:function(n){w(t,n)}};return y("SvelteRegisterBlock",{block:o,id:pt.name,type:"if",source:"(57:24) ",ctx:s}),o}function gt(s){let t,c;t=new X({props:{$$slots:{default:[Pt]},$$scope:{ctx:s}},$$inline:!0});const o={c:function(){k(t.$$.fragment)},l:function(n){h(t.$$.fragment,n)},m:function(n,i){b(t,n,i),c=!0},p:function(n,i){const f={};i&8192&&(f.$$scope={dirty:i,ctx:n}),t.$set(f)},i:function(n){c||(p(t.$$.fragment,n),c=!0)},o:function(n){g(t.$$.fragment,n),c=!1},d:function(n){w(t,n)}};return y("SvelteRegisterBlock",{block:o,id:gt.name,type:"if",source:"(55:2) {#if $mods.fetching}",ctx:s}),o}function xt(s){let t;const c={c:function(){t=S("Mod")},l:function(e){t=D(e,"Mod")},m:function(e,n){x(e,t,n)},d:function(e){e&&d(t)}};return y("SvelteRegisterBlock",{block:c,id:xt.name,type:"slot",source:"(63:10) <Cell>",ctx:s}),c}function vt(s){let t;const c={c:function(){t=S("Description")},l:function(e){t=D(e,"Description")},m:function(e,n){x(e,t,n)},d:function(e){e&&d(t)}};return y("SvelteRegisterBlock",{block:c,id:vt.name,type:"slot",source:"(64:10) <Cell>",ctx:s}),c}function yt(s){let t;const c={c:function(){t=S("Release Date")},l:function(e){t=D(e,"Release Date")},m:function(e,n){x(e,t,n)},d:function(e){e&&d(t)}};return y("SvelteRegisterBlock",{block:c,id:yt.name,type:"slot",source:"(65:10) <Cell>",ctx:s}),c}function kt(s){let t,c,o,e,n,i,f,l;t=new U({props:{$$slots:{default:[xt]},$$scope:{ctx:s}},$$inline:!0}),o=new U({props:{$$slots:{default:[vt]},$$scope:{ctx:s}},$$inline:!0}),n=new U({props:{$$slots:{default:[yt]},$$scope:{ctx:s}},$$inline:!0}),f=new U({$$inline:!0});const $={c:function(){k(t.$$.fragment),c=R(),k(o.$$.fragment),e=R(),k(n.$$.fragment),i=R(),k(f.$$.fragment)},l:function(u){h(t.$$.fragment,u),c=M(u),h(o.$$.fragment,u),e=M(u),h(n.$$.fragment,u),i=M(u),h(f.$$.fragment,u)},m:function(u,r){b(t,u,r),x(u,c,r),b(o,u,r),x(u,e,r),b(n,u,r),x(u,i,r),b(f,u,r),l=!0},p:function(u,r){const m={};r&8192&&(m.$$scope={dirty:r,ctx:u}),t.$set(m);const B={};r&8192&&(B.$$scope={dirty:r,ctx:u}),o.$set(B);const C={};r&8192&&(C.$$scope={dirty:r,ctx:u}),n.$set(C)},i:function(u){l||(p(t.$$.fragment,u),p(o.$$.fragment,u),p(n.$$.fragment,u),p(f.$$.fragment,u),l=!0)},o:function(u){g(t.$$.fragment,u),g(o.$$.fragment,u),g(n.$$.fragment,u),g(f.$$.fragment,u),l=!1},d:function(u){w(t,u),u&&d(c),w(o,u),u&&d(e),w(n,u),u&&d(i),w(f,u)}};return y("SvelteRegisterBlock",{block:$,id:kt.name,type:"slot",source:"(62:8) <Row>",ctx:s}),$}function ht(s){let t,c;t=new Z({props:{$$slots:{default:[kt]},$$scope:{ctx:s}},$$inline:!0});const o={c:function(){k(t.$$.fragment)},l:function(n){h(t.$$.fragment,n)},m:function(n,i){b(t,n,i),c=!0},p:function(n,i){const f={};i&8192&&(f.$$scope={dirty:i,ctx:n}),t.$set(f)},i:function(n){c||(p(t.$$.fragment,n),c=!0)},o:function(n){g(t.$$.fragment,n),c=!1},d:function(n){w(t,n)}};return y("SvelteRegisterBlock",{block:o,id:ht.name,type:"slot",source:"(61:6) <Head>",ctx:s}),o}function bt(s){let t=s[10].name+"",c;const o={c:function(){c=S(t)},l:function(n){c=D(n,t)},m:function(n,i){x(n,c,i)},p:function(n,i){i&1&&t!==(t=n[10].name+"")&&G(c,t)},d:function(n){n&&d(c)}};return y("SvelteRegisterBlock",{block:o,id:bt.name,type:"slot",source:"(72:12) <Cell>",ctx:s}),o}function wt(s){let t=s[10].short_description+"",c;const o={c:function(){c=S(t)},l:function(n){c=D(n,t)},m:function(n,i){x(n,c,i)},p:function(n,i){i&1&&t!==(t=n[10].short_description+"")&&G(c,t)},d:function(n){n&&d(c)}};return y("SvelteRegisterBlock",{block:o,id:wt.name,type:"slot",source:"(73:12) <Cell>",ctx:s}),o}function Bt(s){let t=W(s[10].created_at)+"",c;const o={c:function(){c=S(t)},l:function(n){c=D(n,t)},m:function(n,i){x(n,c,i)},p:function(n,i){i&1&&t!==(t=W(n[10].created_at)+"")&&G(c,t)},d:function(n){n&&d(c)}};return y("SvelteRegisterBlock",{block:o,id:Bt.name,type:"slot",source:"(74:12) <Cell>",ctx:s}),o}function Rt(s){let t;const c={c:function(){t=S("Approve")},l:function(e){t=D(e,"Approve")},m:function(e,n){x(e,t,n)},d:function(e){e&&d(t)}};return y("SvelteRegisterBlock",{block:c,id:Rt.name,type:"slot",source:'(77:16) <Button variant=\\"outlined\\" on:click={() => approveMod(mod.id)}>',ctx:s}),c}function Mt(s){let t;const c={c:function(){t=S("Deny")},l:function(e){t=D(e,"Deny")},m:function(e,n){x(e,t,n)},d:function(e){e&&d(t)}};return y("SvelteRegisterBlock",{block:c,id:Mt.name,type:"slot",source:'(78:16) <Button variant=\\"outlined\\" on:click={() => denyMod(mod.id)}>',ctx:s}),c}function St(s){let t;const c={c:function(){t=S("View")},l:function(e){t=D(e,"View")},m:function(e,n){x(e,t,n)},d:function(e){e&&d(t)}};return y("SvelteRegisterBlock",{block:c,id:St.name,type:"slot",source:`(79:16) <Button variant=\\"outlined\\" href={base + '/mod/' + mod.id}>`,ctx:s}),c}function Dt(s){let t,c,o,e,n,i,f;function l(){return s[6](s[10])}c=new N({props:{variant:"outlined",$$slots:{default:[Rt]},$$scope:{ctx:s}},$$inline:!0}),c.$on("click",l);function $(){return s[7](s[10])}e=new N({props:{variant:"outlined",$$slots:{default:[Mt]},$$scope:{ctx:s}},$$inline:!0}),e.$on("click",$),i=new N({props:{variant:"outlined",href:T+"/mod/"+s[10].id,$$slots:{default:[St]},$$scope:{ctx:s}},$$inline:!0});const a={c:function(){t=P("div"),k(c.$$.fragment),o=R(),k(e.$$.fragment),n=R(),k(i.$$.fragment),this.h()},l:function(r){t=I(r,"DIV",{class:!0});var m=V(t);h(c.$$.fragment,m),o=M(m),h(e.$$.fragment,m),n=M(m),h(i.$$.fragment,m),m.forEach(d),this.h()},h:function(){Q(t,"class","grid grid-flow-col gap-4"),E(t,A,75,14,2240)},m:function(r,m){x(r,t,m),b(c,t,null),q(t,o),b(e,t,null),q(t,n),b(i,t,null),f=!0},p:function(r,m){s=r;const B={};m&8192&&(B.$$scope={dirty:m,ctx:s}),c.$set(B);const C={};m&8192&&(C.$$scope={dirty:m,ctx:s}),e.$set(C);const v={};m&1&&(v.href=T+"/mod/"+s[10].id),m&8192&&(v.$$scope={dirty:m,ctx:s}),i.$set(v)},i:function(r){f||(p(c.$$.fragment,r),p(e.$$.fragment,r),p(i.$$.fragment,r),f=!0)},o:function(r){g(c.$$.fragment,r),g(e.$$.fragment,r),g(i.$$.fragment,r),f=!1},d:function(r){r&&d(t),w(c),w(e),w(i)}};return y("SvelteRegisterBlock",{block:a,id:Dt.name,type:"slot",source:"(75:12) <Cell>",ctx:s}),a}function Ct(s){let t,c,o,e,n,i,f,l,$;t=new U({props:{$$slots:{default:[bt]},$$scope:{ctx:s}},$$inline:!0}),o=new U({props:{$$slots:{default:[wt]},$$scope:{ctx:s}},$$inline:!0}),n=new U({props:{$$slots:{default:[Bt]},$$scope:{ctx:s}},$$inline:!0}),f=new U({props:{$$slots:{default:[Dt]},$$scope:{ctx:s}},$$inline:!0});const a={c:function(){k(t.$$.fragment),c=R(),k(o.$$.fragment),e=R(),k(n.$$.fragment),i=R(),k(f.$$.fragment),l=R()},l:function(r){h(t.$$.fragment,r),c=M(r),h(o.$$.fragment,r),e=M(r),h(n.$$.fragment,r),i=M(r),h(f.$$.fragment,r),l=M(r)},m:function(r,m){b(t,r,m),x(r,c,m),b(o,r,m),x(r,e,m),b(n,r,m),x(r,i,m),b(f,r,m),x(r,l,m),$=!0},p:function(r,m){const B={};m&8193&&(B.$$scope={dirty:m,ctx:r}),t.$set(B);const C={};m&8193&&(C.$$scope={dirty:m,ctx:r}),o.$set(C);const v={};m&8193&&(v.$$scope={dirty:m,ctx:r}),n.$set(v);const tt={};m&8193&&(tt.$$scope={dirty:m,ctx:r}),f.$set(tt)},i:function(r){$||(p(t.$$.fragment,r),p(o.$$.fragment,r),p(n.$$.fragment,r),p(f.$$.fragment,r),$=!0)},o:function(r){g(t.$$.fragment,r),g(o.$$.fragment,r),g(n.$$.fragment,r),g(f.$$.fragment,r),$=!1},d:function(r){w(t,r),r&&d(c),w(o,r),r&&d(e),w(n,r),r&&d(i),w(f,r),r&&d(l)}};return y("SvelteRegisterBlock",{block:a,id:Ct.name,type:"slot",source:"(71:10) <Row>",ctx:s}),a}function F(s){let t,c;t=new Z({props:{$$slots:{default:[Ct]},$$scope:{ctx:s}},$$inline:!0});const o={c:function(){k(t.$$.fragment)},l:function(n){h(t.$$.fragment,n)},m:function(n,i){b(t,n,i),c=!0},p:function(n,i){const f={};i&8193&&(f.$$scope={dirty:i,ctx:n}),t.$set(f)},i:function(n){c||(p(t.$$.fragment,n),c=!0)},o:function(n){g(t.$$.fragment,n),c=!1},d:function(n){w(t,n)}};return y("SvelteRegisterBlock",{block:o,id:F.name,type:"each",source:"(70:8) {#each $mods.data.getUnapprovedMods.mods as mod}",ctx:s}),o}function Ut(s){let t,c,o=s[0].data.getUnapprovedMods.mods;ct(o);let e=[];for(let f=0;f<o.length;f+=1)e[f]=F(st(s,o,f));const n=f=>g(e[f],1,1,()=>{e[f]=null}),i={c:function(){for(let l=0;l<e.length;l+=1)e[l].c();t=j()},l:function(l){for(let $=0;$<e.length;$+=1)e[$].l(l);t=j()},m:function(l,$){for(let a=0;a<e.length;a+=1)e[a].m(l,$);x(l,t,$),c=!0},p:function(l,$){if($&49){o=l[0].data.getUnapprovedMods.mods,ct(o);let a;for(a=0;a<o.length;a+=1){const u=st(l,o,a);e[a]?(e[a].p(u,$),p(e[a],1)):(e[a]=F(u),e[a].c(),p(e[a],1),e[a].m(t.parentNode,t))}for(O(),a=o.length;a<e.length;a+=1)n(a);H()}},i:function(l){if(!c){for(let $=0;$<o.length;$+=1)p(e[$]);c=!0}},o:function(l){e=e.filter(Boolean);for(let $=0;$<e.length;$+=1)g(e[$]);c=!1},d:function(l){Lt(e,l),l&&d(t)}};return y("SvelteRegisterBlock",{block:i,id:Ut.name,type:"slot",source:"(69:6) <Body>",ctx:s}),i}function _t(s){let t,c,o,e;t=new at({props:{$$slots:{default:[ht]},$$scope:{ctx:s}},$$inline:!0}),o=new mt({props:{$$slots:{default:[Ut]},$$scope:{ctx:s}},$$inline:!0});const n={c:function(){k(t.$$.fragment),c=R(),k(o.$$.fragment)},l:function(f){h(t.$$.fragment,f),c=M(f),h(o.$$.fragment,f)},m:function(f,l){b(t,f,l),x(f,c,l),b(o,f,l),e=!0},p:function(f,l){const $={};l&8192&&($.$$scope={dirty:l,ctx:f}),t.$set($);const a={};l&8193&&(a.$$scope={dirty:l,ctx:f}),o.$set(a)},i:function(f){e||(p(t.$$.fragment,f),p(o.$$.fragment,f),e=!0)},o:function(f){g(t.$$.fragment,f),g(o.$$.fragment,f),e=!1},d:function(f){w(t,f),f&&d(c),w(o,f)}};return y("SvelteRegisterBlock",{block:n,id:_t.name,type:"slot",source:'(60:4) <DataTable class=\\"max-w-full\\">',ctx:s}),n}function jt(s){let t,c=s[0].error.message+"",o;const e={c:function(){t=S("Oh no... "),o=S(c)},l:function(i){t=D(i,"Oh no... "),o=D(i,c)},m:function(i,f){x(i,t,f),x(i,o,f)},p:function(i,f){f&1&&c!==(c=i[0].error.message+"")&&G(o,c)},d:function(i){i&&d(t),i&&d(o)}};return y("SvelteRegisterBlock",{block:e,id:jt.name,type:"slot",source:"(58:4) <Content>",ctx:s}),e}function Pt(s){let t;const c={c:function(){t=S("Loading...")},l:function(e){t=D(e,"Loading...")},m:function(e,n){x(e,t,n)},d:function(e){e&&d(t)}};return y("SvelteRegisterBlock",{block:c,id:Pt.name,type:"slot",source:"(56:4) <Content>",ctx:s}),c}function It(s){let t,c,o,e;const n=[gt,pt,dt],i=[];function f($,a){return $[0].fetching?0:$[0].error?1:2}t=f(s),c=i[t]=n[t](s);const l={c:function(){c.c(),o=j()},l:function(a){c.l(a),o=j()},m:function(a,u){i[t].m(a,u),x(a,o,u),e=!0},p:function(a,u){let r=t;t=f(a),t===r?i[t].p(a,u):(O(),g(i[r],1,1,()=>{i[r]=null}),H(),c=i[t],c?c.p(a,u):(c=i[t]=n[t](a),c.c()),p(c,1),c.m(o.parentNode,o))},i:function(a){e||(p(c),e=!0)},o:function(a){g(c),e=!1},d:function(a){i[t].d(a),a&&d(o)}};return y("SvelteRegisterBlock",{block:l,id:It.name,type:"slot",source:"(54:0) <Card>",ctx:s}),l}function J(s){let t,c,o,e;o=new Y({props:{totalPages:Math.ceil(s[1]/_),currentPage:s[3]},$$inline:!0});const n={c:function(){t=P("div"),c=P("div"),k(o.$$.fragment),this.h()},l:function(f){t=I(f,"DIV",{class:!0});var l=V(t);c=I(l,"DIV",{});var $=V(c);h(o.$$.fragment,$),$.forEach(d),l.forEach(d),this.h()},h:function(){E(c,A,90,4,2741),Q(t,"class","mt-5 ml-auto flex justify-end"),E(t,A,89,2,2693)},m:function(f,l){x(f,t,l),q(t,c),b(o,c,null),e=!0},p:function(f,l){const $={};l&2&&($.totalPages=Math.ceil(f[1]/_)),o.$set($)},i:function(f){e||(p(o.$$.fragment,f),e=!0)},o:function(f){g(o.$$.fragment,f),e=!1},d:function(f){f&&d(t),w(o)}};return y("SvelteRegisterBlock",{block:n,id:J.name,type:"if",source:"(89:0) {#if totalMods}",ctx:s}),n}function K(s){let t,c,o,e,n,i,f;t=new $t({props:{description:"Unapproved mods",title:"Admin: Unapproved Mods"},$$inline:!0});let l=s[1]&&z(s);e=new lt({props:{$$slots:{default:[It]},$$scope:{ctx:s}},$$inline:!0});let $=s[1]&&J(s);const a={c:function(){k(t.$$.fragment),c=R(),l&&l.c(),o=R(),k(e.$$.fragment),n=R(),$&&$.c(),i=j()},l:function(r){const m=Nt('[data-svelte="svelte-g9j975"]',document.head);h(t.$$.fragment,m),m.forEach(d),c=M(r),l&&l.l(r),o=M(r),h(e.$$.fragment,r),n=M(r),$&&$.l(r),i=j()},m:function(r,m){b(t,document.head,null),x(r,c,m),l&&l.m(r,m),x(r,o,m),b(e,r,m),x(r,n,m),$&&$.m(r,m),x(r,i,m),f=!0},p:function(r,[m]){r[1]?l?(l.p(r,m),m&2&&p(l,1)):(l=z(r),l.c(),p(l,1),l.m(o.parentNode,o)):l&&(O(),g(l,1,1,()=>{l=null}),H());const B={};m&8193&&(B.$$scope={dirty:m,ctx:r}),e.$set(B),r[1]?$?($.p(r,m),m&2&&p($,1)):($=J(r),$.c(),p($,1),$.m(i.parentNode,i)):$&&(O(),g($,1,1,()=>{$=null}),H())},i:function(r){f||(p(t.$$.fragment,r),p(l),p(e.$$.fragment,r),p($),f=!0)},o:function(r){g(t.$$.fragment,r),g(l),g(e.$$.fragment,r),g($),f=!1},d:function(r){w(t),r&&d(c),l&&l.d(r),r&&d(o),w(e,r),r&&d(n),$&&$.d(r),r&&d(i)}};return y("SvelteRegisterBlock",{block:a,id:K.name,type:"component",source:"",ctx:s}),a}const _=20;function Tt(s,t,c){let o,{$$slots:e={},$$scope:n}=t;qt("Unapproved_mods",e,[]);const i=et(it,{filter:{offset:0,limit:_}});Ht(i,"mods"),Ot(s,i,v=>c(0,o=v));const f=ot(1);let l;f.subscribe(v=>Gt(i,o.variables.filter.offset=(v-1)*_,o));const $=L({query:rt}),a=v=>{$({modId:v}).then(()=>{i.reexecute()})},u=L({query:ft}),r=v=>{u({modId:v}).then(()=>{i.reexecute()})};nt(i);const m=[];Object.keys(t).forEach(v=>{!~m.indexOf(v)&&v.slice(0,2)!=="$$"&&v!=="slot"&&console.warn(`<Unapproved_mods> was created with unknown prop '${v}'`)});const B=v=>a(v.id),C=v=>r(v.id);return s.$capture_state=()=>({ApproveModDocument:rt,DenyModDocument:ft,GetUnapprovedModsDocument:it,mutation:L,operationStore:et,query:nt,writable:ot,PageControls:Y,base:T,MetaDescriptors:$t,Card:lt,Content:X,DataTable:ut,Head:at,Body:mt,Row:Z,Cell:U,Button:N,prettyDate:W,perPage:_,mods:i,page:f,totalMods:l,approveModMut:$,approveMod:a,denyModMut:u,denyMod:r,$mods:o}),s.$inject_state=v=>{"totalMods"in v&&c(1,l=v.totalMods)},t&&"$$inject"in t&&s.$inject_state(t.$$inject),s.$$.update=()=>{s.$$.dirty&1&&c(1,l=o?.data?.getUnapprovedMods?.count)},[o,l,i,f,a,r,B,C]}class Zt extends Vt{constructor(t){super(t),Et(this,t,Tt,K,At,{}),y("SvelteRegisterComponent",{component:this,tagName:"Unapproved_mods",options:t,id:K.name})}}export{Zt as default};
//# sourceMappingURL=unapproved-mods.svelte-251f6318.js.map
