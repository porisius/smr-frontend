{"version":3,"file":"6.rh4qS_7g.js","sources":["../../../../../../src/routes/admin/sml-versions/new/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { getContextClient } from '@urql/svelte';\n  import { NewSmlVersionDocument } from '$lib/generated';\n  import { goto } from '$app/navigation';\n  import type { SMLVersionData } from '$lib/models/sml-versions';\n  import SMLVersionForm from '$lib/components/sml-versions/SMLVersionForm.svelte';\n  import { base } from '$app/paths';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n  import { getToastStore } from '@skeletonlabs/skeleton';\n\n  const client = getContextClient();\n\n  const toastStore = getToastStore();\n\n  const onSubmit = (data: SMLVersionData) => {\n    client\n      .mutation(NewSmlVersionDocument, {\n        smlVersion: data\n      })\n      .toPromise()\n      .then((value) => {\n        if (value.error) {\n          console.error(value.error.message);\n          toastStore.trigger({\n            message: 'Error creating SML Version: ' + value.error.message,\n            background: 'variant-filled-error',\n            autohide: false\n          });\n        } else {\n          toastStore.trigger({\n            message: `SML version created`,\n            background: 'variant-filled-success',\n            timeout: 5000\n          });\n          goto(base + '/admin/sml-versions');\n        }\n      });\n  };\n</script>\n\n<svelte:head>\n  <MetaDescriptors description=\"New SML Version\" title=\"Admin: New SML Version\" />\n</svelte:head>\n\n<h1 class=\"my-4 text-4xl font-bold\">New SML Version</h1>\n\n<div class=\"card p-4\">\n  <section>\n    <SMLVersionForm {onSubmit} />\n  </section>\n</div>\n"],"names":["insert_hydration_dev","target","h1","anchor","div","append_hydration_dev","section","client","getContextClient","toastStore","getToastStore","onSubmit","data","mutation","NewSmlVersionDocument","smlVersion","toPromise","then","value","error","console","message","trigger","background","autohide","timeout","goto","base"],"mappings":"uwCA4CAA,EAAuDC,EAAAC,EAAAC,CAAAA,WAEvDH,EAIKC,EAAAG,EAAAD,CAAAA,EAHHE,EAESD,EAAAE,wVAvCH,CAAA,EAAA,MAAAC,EAASC,EAAAA,EAETC,EAAaC,IAEbC,EAAYC,GAChBL,CAAAA,EACGM,SAASC,EACR,CAAAC,WAAYH,CAEbI,CAAAA,EAAAA,UAAAA,EACAC,KAAMC,GAAAA,CACDA,EAAMC,OACRC,QAAQD,MAAMD,EAAMC,MAAME,OAAAA,EAC1BZ,EAAWa,QAAO,CAChBD,QAAS,+BAAiCH,EAAMC,MAAME,QACtDE,WAAY,uBACZC,SAAU,OAGZf,EAAWa,QAAO,CAChBD,QAAO,sBACPE,WAAY,yBACZE,QAAS,GAAA,CAAA,EAEXC,EAAKC,EAAO,qBAAA"}