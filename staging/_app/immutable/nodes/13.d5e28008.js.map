{"version":3,"file":"13.d5e28008.js","sources":["../../../../../../src/lib/components/guides/GuideGrid.svelte","../../../../../../src/routes/guides/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { queryStore, getContextClient } from '@urql/svelte';\n  import { GetGuidesDocument } from '$lib/generated';\n  import GuideCard from './GuideCard.svelte';\n  import PageControls from '$lib/components/utils/PageControls.svelte';\n  import { base } from '$app/paths';\n  import Button from '@smui/button';\n  import { user } from '$lib/stores/user';\n  import FicsitCard from '$lib/components/general/FicsitCard.svelte';\n  import { getTranslate } from '@tolgee/svelte';\n\n  export let colCount: 4 | 5 = 4;\n  export let newGuide = false;\n\n  const client = getContextClient();\n\n  // TODO Selectable\n  const perPage = 40;\n\n  const page = 1;\n\n  export const { t } = getTranslate();\n\n  $: guides = queryStore({\n    query: GetGuidesDocument,\n    client,\n    variables: { offset: (page - 1) * perPage, limit: perPage }\n  });\n\n  let totalGuides: number;\n  $: totalGuides = $guides?.data?.getGuides?.count || 0;\n\n  $: gridClasses =\n    colCount == 4\n      ? '3xl:grid-cols-4 2xl:grid-cols-3 lg:grid-cols-2 grid-cols-1'\n      : '3xl:grid-cols-3 2xl:grid-cols-2 grid-cols-1';\n</script>\n\n<div class=\"mb-5 ml-auto flex justify-between\">\n  {#if newGuide && $user !== null}\n    <Button variant=\"outlined\" href=\"{base}/new-guide\">{$t('guides.new')}</Button>\n  {/if}\n\n  <div>\n    <PageControls totalPages={Math.ceil(totalGuides / perPage)} currentPage={page} />\n  </div>\n</div>\n\n{#if $guides.fetching}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each Array(perPage) as _}\n      <FicsitCard fake />\n    {/each}\n  </div>\n{:else if $guides.error}\n  <p>{$t('error.oh-no')} {$guides.error.message}</p>\n{:else}\n  <div class=\"grid {gridClasses} gap-4\">\n    {#each $guides.data.getGuides.guides as guide}\n      <GuideCard {guide} logo={guide.user.avatar} />\n    {/each}\n  </div>\n{/if}\n\n<div class=\"mt-5 ml-auto flex justify-end\">\n  <div>\n    <PageControls totalPages={Math.ceil(totalGuides / perPage)} currentPage={page} />\n  </div>\n</div>\n","<script lang=\"ts\">\n  import GuideGrid from '$lib/components/guides/GuideGrid.svelte';\n  import MetaDescriptors from '$lib/components/utils/MetaDescriptors.svelte';\n</script>\n\n<svelte:head>\n  <MetaDescriptors description=\"Guides for Satisfactory and modding Satisfactory\" title=\"Guides\" />\n</svelte:head>\n\n<GuideGrid newGuide={true} colCount={4} />\n"],"names":["base","t_1_value","ctx","dirty","set_data_dev","t_1","each_value_1","data","getGuides","guides","length","i","insert_hydration_dev","target","div","anchor","each_blocks","t0_value","error","message","p","t0","t2","t2_value","each_value","Array","perPage","user","avatar","create_if_block_2","totalPages","Math","ceil","page","fetching","div1","append_hydration_dev","div0","div3","div2","pagecontrols0_changes","pagecontrols1_changes","colCount","$$props","newGuide","client","getContextClient","t","getTranslate","totalGuides","$$invalidate","$guides","count","gridClasses","$$subscribe_guides","queryStore","query","GetGuidesDocument","variables","offset","limit","props"],"mappings":"m3BAwCsCA,GAAI,seAAc,CAAA,IAAAC,EAAAC,KAAG,YAAY,EAAA,qGAAfC,EAAA,KAAAF,KAAAA,EAAAC,KAAG,YAAY,EAAA,KAAAE,EAAAC,EAAAJ,CAAAA,yMAkB5DK,EAAAJ,EAAQ,CAAAK,EAAAA,KAAKC,UAAUC,qCAA5BC,OAAIC,GAAA,uRADUT,EAAW,CAAA,EAAA,4CAA7BU,EAIKC,EAAAC,EAAAC,CAAAA,iFAHIT,EAAAJ,EAAQ,CAAAK,EAAAA,KAAKC,UAAUC,8BAA5BC,OAAIC,GAAA,EAAA,2GAAJD,OAAIC,EAAAK,EAAAN,OAAAC,GAAA,qCADUT,EAAW,CAAA,EAAA,iEACzBQ,OAAIC,GAAA,mPAHJM,EAAAf,KAAG,aAAa,EAAA,SAAIA,EAAO,CAACgB,EAAAA,MAAMC,QAAO,wMAA7CP,EAAiDC,EAAAO,EAAAL,CAAAA,wCAA7CZ,EAAA,KAAAc,KAAAA,EAAAf,GAAG,EAAA,aAAA,EAAa,KAAAE,EAAAiB,EAAAJ,eAAIf,EAAO,CAACgB,EAAAA,MAAMC,QAAO,KAAAf,EAAAkB,EAAAC,sJALpCC,EAAAC,MAAMC,CAAAA,gCAAXhB,OAAIC,GAAA,sPADUT,EAAW,CAAA,EAAA,QAAA,oCAA7BU,EAIKC,EAAAC,EAAAC,CAAAA,mGAJab,EAAW,CAAA,EAAA,iEACzBQ,OAAIC,GAAA,oSASqBT,EAAK,IAACyB,KAAKC,MAAAA,sLAAX1B,EAAK,EAACyB,EAAAA,KAAKC,6rBApBnC1B,EAAQ,CAAIA,GAAAA,EAAK,KAAK,MAAI2B,EAAA3B,mBAKH4B,WAAAC,KAAKC,KAAK9B,KAAcwB,eAAuBO,yDAIxE,OAAA/B,KAAQgC,SAAQ,EAMXhC,GAAQgB,EAAAA,MAAK,0CAYOY,WAAAC,KAAKC,KAAK9B,KAAcwB,eAAuBO,mnBA5B7ErB,CAAAA,EAQKC,EAAAsB,EAAApB,yBAHHqB,EAEKD,EAAAE,CAAAA,4CAmBPzB,EAIKC,EAAAyB,EAAAvB,CAAAA,EAHHqB,EAEKE,EAAAC,CAAAA,sCA5BArC,EAAQ,CAAA,GAAIA,EAAK,CAAA,IAAK,4GAKCC,EAAA,IAAAqC,EAAAV,WAAAC,KAAKC,KAAK9B,KAAcwB,oKAsBxBvB,EAAA,IAAAsC,EAAAX,WAAAC,KAAKC,KAAK9B,GAAcwB,EAAAA,CAAAA,gUAjD9C,MAAAA,EAAU,GAEVO,EAAO,+PARF,IAAAS,SAAAA,EAAkB,CAACC,EAAAA,GACnBC,SAAAA,EAAW,EAAKD,EAAAA,EAErB,MAAAE,EAASC,GAOA,EAAA,CAAAC,EAAAA,CAAMC,EAAAA,GAAAA,oBAQjBC,ozBACHC,EAAA,EAAED,EAAcE,GAAS5C,MAAMC,WAAW4C,OAAS,mBAEjDF,EAAA,EAAAG,EACDX,GAAY,EACR,6DACA,6CAAA,CAZLY,EAAAA,EAAAJ,EAAA,EAAEzC,EAAS8C,GAAU,CACpBC,MAAOC,GACPZ,OACAa,EAAAA,UAAS,CAAIC,QAAS1B,EAAO,GAAKP,EAASkC,MAAOlC,6uCCjBjCmC,MAAA,CAAAjB,SAAA,YAAgB,CAAA"}