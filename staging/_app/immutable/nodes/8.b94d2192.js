import{S as It,i as Nt,d as H,s as Vt,v as Ot,F as ht,G as pt,H as Y,P as et,y as Mt,I as kt,J as nt,b as N,e as y,f as mt,K as Ut,L as st,j as v,k as V,g as E,h as S,N as I,m as T,O as ot,n as O,r as U,t as A,q as gt,R as it,u as Dt,x as Ht,Q as m,T as Ct,U as vt,p as $t,M as q,V as Lt,W as G,X as J,Y as Q,Z as xt,a6 as _t}from"../chunks/vendor.86b49dff.js";import{A as bt,c as yt,d as Et}from"../chunks/graphql.80ff4abf.js";import{M as wt}from"../chunks/MetaDescriptors.6fb401e6.js";import{p as z}from"../chunks/formatting.c598e8b5.js";const M="src/routes/admin/unapproved-mods/+page.svelte";function Tt(s,t,n){const e=s.slice();return e[17]=t[n],e}function W(s){let t,n,e,a,f;function d(g){s[8](g)}let h={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};s[4]!==void 0&&(h.settings=s[4]),e=new et({props:h,$$inline:!0}),Mt.push(()=>kt(e,"settings",d)),e.$on("page",s[9]),e.$on("amount",s[10]);const l={c:function(){t=y("div"),n=y("div"),nt(e.$$.fragment),this.h()},l:function(r){t=E(r,"DIV",{class:!0});var u=S(t);n=E(u,"DIV",{});var i=S(n);st(e.$$.fragment,i),i.forEach(v),u.forEach(v),this.h()},h:function(){T(n,M,60,4,1389),I(t,"class","mb-5 ml-auto flex justify-end"),T(t,M,59,2,1341)},m:function(r,u){O(r,t,u),m(t,n),ot(e,n,null),f=!0},p:function(r,u){const i={};!a&&u&16&&(a=!0,i.settings=r[4],Ct(()=>a=!1)),e.$set(i)},i:function(r){f||(U(e.$$.fragment,r),f=!0)},o:function(r){A(e.$$.fragment,r),f=!1},d:function(r){r&&v(t),it(e)}};return H("SvelteRegisterBlock",{block:l,id:W.name,type:"if",source:"(51:0) {#if totalMods}",ctx:s}),l}function St(s){let t,n,e,a,f="Mod",d,h,l="Description",g,r,u="Release Date",i,b,x="",o,p,P=vt(s[3].data.getUnapprovedMods.mods),k=[];for(let j=0;j<P.length;j+=1)k[j]=X(Tt(s,P,j));const R={c:function(){t=y("table"),n=y("thead"),e=y("tr"),a=y("th"),a.textContent=f,d=N(),h=y("th"),h.textContent=l,g=N(),r=y("th"),r.textContent=u,i=N(),b=y("th"),b.innerHTML=x,o=N(),p=y("tbody");for(let C=0;C<k.length;C+=1)k[C].c();this.h()},l:function(C){t=E(C,"TABLE",{class:!0});var D=S(t);n=E(D,"THEAD",{});var $=S(n);e=E($,"TR",{});var w=S(e);a=E(w,"TH",{"data-svelte-h":!0}),q(a)!=="svelte-1hkc9fy"&&(a.textContent=f),d=V(w),h=E(w,"TH",{"data-svelte-h":!0}),q(h)!=="svelte-18juats"&&(h.textContent=l),g=V(w),r=E(w,"TH",{"data-svelte-h":!0}),q(r)!=="svelte-pi2tux"&&(r.textContent=u),i=V(w),b=E(w,"TH",{"data-svelte-h":!0}),q(b)!=="svelte-qfgexu"&&(b.innerHTML=x),w.forEach(v),$.forEach(v),o=V(D),p=E(D,"TBODY",{});var c=S(p);for(let L=0;L<k.length;L+=1)k[L].l(c);c.forEach(v),D.forEach(v),this.h()},h:function(){T(a,M,81,10,1974),T(h,M,82,10,1997),T(r,M,83,10,2028),T(b,M,84,10,2060),T(e,M,80,8,1959),T(n,M,79,6,1943),T(p,M,87,6,2121),I(t,"class","max-w-full table table-hover"),T(t,M,78,4,1892)},m:function(C,D){O(C,t,D),m(t,n),m(n,e),m(e,a),m(e,d),m(e,h),m(e,g),m(e,r),m(e,i),m(e,b),m(t,o),m(t,p);for(let $=0;$<k.length;$+=1)k[$]&&k[$].m(p,null)},p:function(C,D){if(D&200){P=vt(C[3].data.getUnapprovedMods.mods);let $;for($=0;$<P.length;$+=1){const w=Tt(C,P,$);k[$]?k[$].p(w,D):(k[$]=X(w),k[$].c(),k[$].m(p,null))}for(;$<k.length;$+=1)k[$].d(1);k.length=P.length}},d:function(C){C&&v(t),Lt(k,C)}};return H("SvelteRegisterBlock",{block:R,id:St.name,type:"else",source:"(70:2) {:else}",ctx:s}),R}function Bt(s){let t,n,e=s[3].error.message+"",a;const f={c:function(){t=y("section"),n=G("Oh no... "),a=G(e),this.h()},l:function(h){t=E(h,"SECTION",{class:!0});var l=S(t);n=J(l,"Oh no... "),a=J(l,e),l.forEach(v),this.h()},h:function(){I(t,"class","p-4"),T(t,M,76,4,1816)},m:function(h,l){O(h,t,l),m(t,n),m(t,a)},p:function(h,l){l&8&&e!==(e=h[3].error.message+"")&&Q(a,e)},d:function(h){h&&v(t)}};return H("SvelteRegisterBlock",{block:f,id:Bt.name,type:"if",source:"(68:24) ",ctx:s}),f}function jt(s){let t,n="Loading...";const e={c:function(){t=y("section"),t.textContent=n,this.h()},l:function(f){t=E(f,"SECTION",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-1e06hs8"&&(t.textContent=n),this.h()},h:function(){I(t,"class","p-4"),T(t,M,74,4,1745)},m:function(f,d){O(f,t,d)},p:Dt,d:function(f){f&&v(t)}};return H("SvelteRegisterBlock",{block:e,id:jt.name,type:"if",source:"(66:2) {#if $mods.fetching}",ctx:s}),e}function X(s){let t,n,e=s[17].name+"",a,f,d,h=s[17].short_description+"",l,g,r,u=z(s[17].created_at)+"",i,b,x,o,p,P="Approve",k,R,j="Deny",C,D,$,w,c,L,at;function Pt(){return s[11](s[17])}function Rt(){return s[12](s[17])}const lt={c:function(){t=y("tr"),n=y("td"),a=G(e),f=N(),d=y("td"),l=G(h),g=N(),r=y("td"),i=G(u),b=N(),x=y("td"),o=y("div"),p=y("button"),p.textContent=P,k=N(),R=y("button"),R.textContent=j,C=N(),D=y("a"),$=G("View"),c=N(),this.h()},l:function(_){t=E(_,"TR",{});var B=S(t);n=E(B,"TD",{});var rt=S(n);a=J(rt,e),rt.forEach(v),f=V(B),d=E(B,"TD",{});var ct=S(d);l=J(ct,h),ct.forEach(v),g=V(B),r=E(B,"TD",{});var ft=S(r);i=J(ft,u),ft.forEach(v),b=V(B),x=E(B,"TD",{class:!0});var ut=S(x);o=E(ut,"DIV",{class:!0});var F=S(o);p=E(F,"BUTTON",{class:!0,"data-svelte-h":!0}),q(p)!=="svelte-11jo9na"&&(p.textContent=P),k=V(F),R=E(F,"BUTTON",{class:!0,"data-svelte-h":!0}),q(R)!=="svelte-au4674"&&(R.textContent=j),C=V(F),D=E(F,"A",{class:!0,href:!0});var dt=S(D);$=J(dt,"View"),dt.forEach(v),F.forEach(v),ut.forEach(v),c=V(B),B.forEach(v),this.h()},h:function(){T(n,M,90,12,2213),T(d,M,91,12,2245),T(r,M,92,12,2290),I(p,"class","btn btn-sm variant-ghost-primary"),T(p,M,95,16,2429),I(R,"class","btn btn-sm variant-ghost-primary"),T(R,M,96,16,2547),I(D,"class","btn btn-sm variant-ghost-primary"),I(D,"href",w=Y+"/mod/"+s[17].id),T(D,M,97,16,2659),I(o,"class","grid grid-flow-col gap-4"),T(o,M,94,14,2374),I(x,"class","!p-2.5"),T(x,M,93,12,2340),T(t,M,89,10,2196)},m:function(_,B){O(_,t,B),m(t,n),m(n,a),m(t,f),m(t,d),m(d,l),m(t,g),m(t,r),m(r,i),m(t,b),m(t,x),m(x,o),m(o,p),m(o,k),m(o,R),m(o,C),m(o,D),m(D,$),m(t,c),L||(at=[xt(p,"click",Pt,!1,!1,!1,!1),xt(R,"click",Rt,!1,!1,!1,!1)],L=!0)},p:function(_,B){s=_,B&8&&e!==(e=s[17].name+"")&&Q(a,e),B&8&&h!==(h=s[17].short_description+"")&&Q(l,h),B&8&&u!==(u=z(s[17].created_at)+"")&&Q(i,u),B&8&&w!==(w=Y+"/mod/"+s[17].id)&&I(D,"href",w)},d:function(_){_&&v(t),L=!1,_t(at)}};return H("SvelteRegisterBlock",{block:lt,id:X.name,type:"each",source:"(81:8) {#each $mods.data.getUnapprovedMods.mods as mod}",ctx:s}),lt}function Z(s){let t,n,e,a,f;function d(g){s[13](g)}let h={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};s[4]!==void 0&&(h.settings=s[4]),e=new et({props:h,$$inline:!0}),Mt.push(()=>kt(e,"settings",d)),e.$on("page",s[14]),e.$on("amount",s[15]);const l={c:function(){t=y("div"),n=y("div"),nt(e.$$.fragment),this.h()},l:function(r){t=E(r,"DIV",{class:!0});var u=S(t);n=E(u,"DIV",{});var i=S(n);st(e.$$.fragment,i),i.forEach(v),u.forEach(v),this.h()},h:function(){T(n,M,109,4,2924),I(t,"class","mt-5 ml-auto flex justify-end"),T(t,M,108,2,2876)},m:function(r,u){O(r,t,u),m(t,n),ot(e,n,null),f=!0},p:function(r,u){const i={};!a&&u&16&&(a=!0,i.settings=r[4],Ct(()=>a=!1)),e.$set(i)},i:function(r){f||(U(e.$$.fragment,r),f=!0)},o:function(r){A(e.$$.fragment,r),f=!1},d:function(r){r&&v(t),it(e)}};return H("SvelteRegisterBlock",{block:l,id:Z.name,type:"if",source:"(100:0) {#if totalMods}",ctx:s}),l}function tt(s){let t,n,e,a,f,d,h;t=new wt({props:{description:"Unapproved mods",title:"Admin: Unapproved Mods"},$$inline:!0});let l=s[2]&&W(s);function g(x,o){return x[3].fetching?jt:x[3].error?Bt:St}let r=g(s),u=r(s),i=s[2]&&Z(s);const b={c:function(){nt(t.$$.fragment),n=N(),l&&l.c(),e=N(),a=y("div"),u.c(),f=N(),i&&i.c(),d=mt(),this.h()},l:function(o){const p=Ut("svelte-g9j975",document.head);st(t.$$.fragment,p),p.forEach(v),n=V(o),l&&l.l(o),e=V(o),a=E(o,"DIV",{class:!0});var P=S(a);u.l(P),P.forEach(v),f=V(o),i&&i.l(o),d=mt(),this.h()},h:function(){I(a,"class","card"),T(a,M,72,0,1699)},m:function(o,p){ot(t,document.head,null),O(o,n,p),l&&l.m(o,p),O(o,e,p),O(o,a,p),u.m(a,null),O(o,f,p),i&&i.m(o,p),O(o,d,p),h=!0},p:function(o,[p]){o[2]?l?(l.p(o,p),p&4&&U(l,1)):(l=W(o),l.c(),U(l,1),l.m(e.parentNode,e)):l&&($t(),A(l,1,1,()=>{l=null}),gt()),r===(r=g(o))&&u?u.p(o,p):(u.d(1),u=r(o),u&&(u.c(),u.m(a,null))),o[2]?i?(i.p(o,p),p&4&&U(i,1)):(i=Z(o),i.c(),U(i,1),i.m(d.parentNode,d)):i&&($t(),A(i,1,1,()=>{i=null}),gt())},i:function(o){h||(U(t.$$.fragment,o),U(l),U(i),h=!0)},o:function(o){A(t.$$.fragment,o),A(l),A(i),h=!1},d:function(o){o&&(v(n),v(e),v(a),v(f),v(d)),it(t),l&&l.d(o),u.d(),i&&i.d(o)}};return H("SvelteRegisterBlock",{block:b,id:tt.name,type:"component",source:"",ctx:s}),b}function At(s,t,n){let e,a,f,d,h=Dt,l=()=>(h(),h=Ht(e,c=>n(3,d=c)),e);s.$$.on_destroy.push(()=>h());let{$$slots:g={},$$scope:r}=t;Ot("Page",g,[]);const u=ht();let i=20,b=0;const x=c=>{u.mutation(bt,{modId:c}).toPromise().then(()=>{e.pause(),e.resume()})},o=c=>{u.mutation(yt,{modId:c}).toPromise().then(()=>{e.pause(),e.resume()})},p=[];Object.keys(t).forEach(c=>{!~p.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Page> was created with unknown prop '${c}'`)});function P(c){f=c,n(4,f),n(1,b),n(0,i),n(2,a),n(3,d)}const k=c=>n(1,b=c.detail),R=c=>n(0,i=c.detail),j=c=>x(c.id),C=c=>o(c.id);function D(c){f=c,n(4,f),n(1,b),n(0,i),n(2,a),n(3,d)}const $=c=>n(1,b=c.detail),w=c=>n(0,i=c.detail);return s.$capture_state=()=>({ApproveModDocument:bt,DenyModDocument:yt,GetUnapprovedModsDocument:Et,getContextClient:ht,queryStore:pt,base:Y,MetaDescriptors:wt,prettyDate:z,Paginator:et,client:u,perPage:i,page:b,approveMod:x,denyMod:o,totalMods:a,paginationSettings:f,mods:e,$mods:d}),s.$inject_state=c=>{"perPage"in c&&n(0,i=c.perPage),"page"in c&&n(1,b=c.page),"totalMods"in c&&n(2,a=c.totalMods),"paginationSettings"in c&&n(4,f=c.paginationSettings),"mods"in c&&l(n(5,e=c.mods))},t&&"$$inject"in t&&s.$inject_state(t.$$inject),s.$$.update=()=>{s.$$.dirty&3&&l(n(5,e=pt({query:Et,client:u,variables:{filter:{offset:b*i,limit:i}}}))),s.$$.dirty&8&&n(2,a=d?.data?.getUnapprovedMods?.count),s.$$.dirty&7&&n(4,f={page:b,limit:i,size:a,amounts:[5,10,20,50,100]})},[i,b,a,d,f,e,x,o,P,k,R,j,C,D,$,w]}class Kt extends It{constructor(t){super(t),Nt(this,t,At,tt,Vt,{}),H("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:tt.name})}}export{Kt as component};
//# sourceMappingURL=8.b94d2192.js.map
