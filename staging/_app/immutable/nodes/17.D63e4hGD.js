import{G as en,S as wt,i as bt,s as Vt,d as z,a6 as kt,v as xt,e as h,b as P,g as m,h as b,k as R,j as p,N as y,m as g,n as U,U as a,r as Z,p as ot,t as ne,q as rt,a7 as tn,P as ke,Q as Se,T as Ie,W as De,u as O,a8 as nn,a9 as on,aa as St,H as st,X as D,R as ue,Y as N,Z as J,x as rn,I as It,F as Dt,J as Nt,aj as Pt,ac as tt,a1 as Be,aB as Tt,M as sn,f as He,a4 as an,V as at,a0 as ln,O as Rt,l as cn,ad as fn,_ as un}from"../chunks/vendor.GPYQipZr.js";import{r as dn,q as Ot,z as At}from"../chunks/graphql.CNu7qPRc.js";import{l as pn}from"../chunks/gql.DGDorg1Q.js";import{m as it}from"../chunks/markdown.EnIn9mOC.js";import{A as jt}from"../chunks/AnnouncementRow.CdyD3lry.js";import{p as lt,a as ct,b as ft,c as ut}from"../chunks/formatting.DRqZGGFY.js";import{M as Mt}from"../chunks/MetaDescriptors.YRszMBYN.js";import{A as Fe}from"../chunks/api.Dn0ikjHb.js";import{u as nt}from"../chunks/user.BKXOZtpj.js";import{i as Bt}from"../chunks/launcher.JR40LaF1.js";import{V as Ut,a as zt}from"../chunks/VersionDependenciesGrid.C-T2KASb.js";import{P as qt}from"../chunks/Page404.CRdDsc_w.js";const hn=async({params:t,parent:e})=>({...t,...await pn({version:en({query:dn,client:(await e()).client,variables:{version:t.versionId}})})}),Pn=Object.freeze(Object.defineProperty({__proto__:null,load:hn},Symbol.toStringTag,{value:"Module"})),Ne="src/lib/components/versions/VersionDescription.svelte";function dt(t){let e,r,n;r=new jt({props:{importance:Ot.Warning,message:"This version has not yet been approved by the virus scanner and is hidden until this process is complete. If this message isn't gone in the next few minutes, ask for manual approval on the Discord."},$$inline:!0});const i={c:function(){e=h("div"),ke(r.$$.fragment),this.h()},l:function(c){e=m(c,"DIV",{class:!0});var l=b(e);Se(r.$$.fragment,l),l.forEach(p),this.h()},h:function(){y(e,"class","p-4"),g(e,Ne,11,4,276)},m:function(c,l){U(c,e,l),Ie(r,e,null),n=!0},i:function(c){n||(Z(r.$$.fragment,c),n=!0)},o:function(c){ne(r.$$.fragment,c),n=!1},d:function(c){c&&p(e),De(r)}};return z("SvelteRegisterBlock",{block:i,id:dt.name,type:"if",source:"(9:2) {#if !approved}",ctx:t}),i}function Gt(t){const e={c:O,l:O,m:O,p:O,d:O};return z("SvelteRegisterBlock",{block:e,id:Gt.name,type:"catch",source:'(1:0) <script lang=\\"ts\\">import { AnnouncementImportance }',ctx:t}),e}function Ht(t){let e,r,n=t[2]+"";const i={c:function(){e=h("p"),r=new nn(!1),this.h()},l:function(c){e=m(c,"P",{});var l=b(e);r=on(l,!1),l.forEach(p),this.h()},h:function(){r.a=null,g(e,Ne,22,10,805)},m:function(c,l){U(c,e,l),r.m(n,e)},p:function(c,l){l&1&&n!==(n=c[2]+"")&&r.p(n)},d:function(c){c&&p(e)}};return z("SvelteRegisterBlock",{block:i,id:Ht.name,type:"then",source:"(19:59)            <!-- eslint-disable -->           <p>{@html changelogRendered}",ctx:t}),i}function Ft(t){const e={c:O,l:O,m:O,p:O,d:O};return z("SvelteRegisterBlock",{block:e,id:Ft.name,type:"pending",source:'(1:0) <script lang=\\"ts\\">import { AnnouncementImportance }',ctx:t}),e}function pt(t){let e,r,n,i,o,c,l,s=!t[1]&&dt(t),u={ctx:t,current:null,token:null,hasCatch:!1,pending:Ft,then:Ht,catch:Gt,value:2};kt(c=it(t[0]),u);const $={c:function(){e=h("div"),s&&s.c(),r=P(),n=h("div"),i=h("section"),o=h("div"),u.block.c(),this.h()},l:function(w){e=m(w,"DIV",{});var f=b(e);s&&s.l(f),r=R(f),n=m(f,"DIV",{class:!0});var d=b(n);i=m(d,"SECTION",{});var S=b(i);o=m(S,"DIV",{class:!0});var I=b(o);u.block.l(I),I.forEach(p),S.forEach(p),d.forEach(p),f.forEach(p),this.h()},h:function(){y(o,"class","markdown-content break-words"),g(o,Ne,19,6,658),g(i,Ne,18,4,642),y(n,"class","card h-fit p-4"),g(n,Ne,17,2,609),g(e,Ne,9,0,248)},m:function(w,f){U(w,e,f),s&&s.m(e,null),a(e,r),a(e,n),a(n,i),a(i,o),u.block.m(o,u.anchor=null),u.mount=()=>o,u.anchor=null,l=!0},p:function(w,[f]){t=w,t[1]?s&&(ot(),ne(s,1,1,()=>{s=null}),rt()):s?f&2&&Z(s,1):(s=dt(t),s.c(),Z(s,1),s.m(e,r)),u.ctx=t,f&1&&c!==(c=it(t[0]))&&kt(c,u)||tn(u,t,f)},i:function(w){l||(Z(s),l=!0)},o:function(w){ne(s),l=!1},d:function(w){w&&p(e),s&&s.d(),u.block.d(),u.token=null,u=null}};return z("SvelteRegisterBlock",{block:$,id:pt.name,type:"component",source:"",ctx:t}),$}function mn(t,e,r){let{$$slots:n={},$$scope:i}=e;xt("VersionDescription",n,[]);let{changelog:o}=e,{approved:c}=e;t.$$.on_mount.push(function(){o===void 0&&!("changelog"in e||t.$$.bound[t.$$.props.changelog])&&console.warn("<VersionDescription> was created without expected prop 'changelog'"),c===void 0&&!("approved"in e||t.$$.bound[t.$$.props.approved])&&console.warn("<VersionDescription> was created without expected prop 'approved'")});const l=["changelog","approved"];return Object.keys(e).forEach(s=>{!~l.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<VersionDescription> was created with unknown prop '${s}'`)}),t.$$set=s=>{"changelog"in s&&r(0,o=s.changelog),"approved"in s&&r(1,c=s.approved)},t.$capture_state=()=>({AnnouncementImportance:Ot,markdown:it,AnnouncementRow:jt,changelog:o,approved:c}),t.$inject_state=s=>{"changelog"in s&&r(0,o=s.changelog),"approved"in s&&r(1,c=s.approved)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o,c]}class Lt extends wt{constructor(e){super(e),bt(this,e,mn,pt,Vt,{changelog:0,approved:1}),z("SvelteRegisterComponent",{component:this,tagName:"VersionDescription",options:e,id:pt.name})}get changelog(){throw new Error("<VersionDescription>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set changelog(e){throw new Error("<VersionDescription>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get approved(){throw new Error("<VersionDescription>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set approved(e){throw new Error("<VersionDescription>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const T="src/lib/components/versions/VersionInfo.svelte";function ht(t){let e,r,n,i,o="Info",c,l,s,u=t[2]("entry.created-at")+"",$,v,w,f=lt(t[0].created_at)+"",d,S,I,x,B,k=t[2]("downloads")+"",C,V,le,de=ct(t[0].downloads)+"",oe,be,Ve,q,Q,pe=t[2]("game-versions")+"",W,re,xe,K=t[0].game_version+"",he,te,ce,se,fe,_=t[2]("stability")+"",ye,me,X,ge=t[0].stability+"",ee,E,j,H,Y,F=t[2]("size")+"",ae,ve,$e,ie=ft(t[0].size)+"",Ce,_e,Le,we,Ee,Pe=t[2]("hash")+"",Te,Qe,We,Re=t[0].hash+"",Oe;const yt={c:function(){e=h("div"),r=h("section"),n=h("div"),i=h("h3"),i.textContent=o,c=P(),l=h("span"),s=h("strong"),$=D(u),v=D(":"),w=P(),d=D(f),S=h("br"),I=P(),x=h("span"),B=h("strong"),C=D(k),V=D(":"),le=P(),oe=D(de),be=h("br"),Ve=P(),q=h("span"),Q=h("strong"),W=D(pe),re=D(":"),xe=P(),he=D(K),te=h("br"),ce=P(),se=h("span"),fe=h("strong"),ye=D(_),me=D(":"),X=P(),ee=D(ge),E=h("br"),j=P(),H=h("span"),Y=h("strong"),ae=D(F),ve=D(":"),$e=P(),Ce=D(ie),_e=h("br"),Le=P(),we=h("span"),Ee=h("strong"),Te=D(Pe),Qe=D(":"),We=P(),Oe=D(Re),this.h()},l:function(G){e=m(G,"DIV",{class:!0});var L=b(e);r=m(L,"SECTION",{});var Et=b(r);n=m(Et,"DIV",{class:!0});var M=b(n);i=m(M,"H3",{class:!0,"data-svelte-h":!0}),ue(i)!=="svelte-1p1x4o5"&&(i.textContent=o),c=R(M),l=m(M,"SPAN",{});var je=b(l);s=m(je,"STRONG",{});var Je=b(s);$=N(Je,u),v=N(Je,":"),Je.forEach(p),w=R(je),d=N(je,f),je.forEach(p),S=m(M,"BR",{}),I=R(M),x=m(M,"SPAN",{});var Me=b(x);B=m(Me,"STRONG",{});var Xe=b(B);C=N(Xe,k),V=N(Xe,":"),Xe.forEach(p),le=R(Me),oe=N(Me,de),Me.forEach(p),be=m(M,"BR",{}),Ve=R(M),q=m(M,"SPAN",{});var Ue=b(q);Q=m(Ue,"STRONG",{});var Ye=b(Q);W=N(Ye,pe),re=N(Ye,":"),Ye.forEach(p),xe=R(Ue),he=N(Ue,K),Ue.forEach(p),te=m(M,"BR",{}),ce=R(M),se=m(M,"SPAN",{});var ze=b(se);fe=m(ze,"STRONG",{});var Ze=b(fe);ye=N(Ze,_),me=N(Ze,":"),Ze.forEach(p),X=R(ze),ee=N(ze,ge),ze.forEach(p),E=m(M,"BR",{}),j=R(M),H=m(M,"SPAN",{});var qe=b(H);Y=m(qe,"STRONG",{});var Ke=b(Y);ae=N(Ke,F),ve=N(Ke,":"),Ke.forEach(p),$e=R(qe),Ce=N(qe,ie),qe.forEach(p),_e=m(M,"BR",{}),Le=R(M),we=m(M,"SPAN",{});var Ge=b(we);Ee=m(Ge,"STRONG",{});var et=b(Ee);Te=N(et,Pe),Qe=N(et,":"),et.forEach(p),We=R(Ge),Oe=N(Ge,Re),Ge.forEach(p),M.forEach(p),Et.forEach(p),L.forEach(p),this.h()},h:function(){y(i,"class","my-4 text-2xl font-bold"),g(i,T,13,6,291),g(s,T,14,12,349),g(l,T,14,6,343),g(S,T,14,94,431),g(B,T,15,12,450),g(x,T,15,6,444),g(be,T,15,88,526),g(Q,T,16,12,545),g(q,T,16,6,539),g(te,T,16,81,614),g(fe,T,17,12,633),g(se,T,17,6,627),g(E,T,17,74,695),g(Y,T,18,12,714),g(H,T,18,6,708),g(_e,T,18,77,779),g(Ee,T,19,12,798),g(we,T,19,6,792),y(n,"class","break-words text-lg"),g(n,T,12,4,251),g(r,T,11,2,237),y(e,"class","card p-4"),g(e,T,10,0,212)},m:function(G,L){U(G,e,L),a(e,r),a(r,n),a(n,i),a(n,c),a(n,l),a(l,s),a(s,$),a(s,v),a(l,w),a(l,d),a(n,S),a(n,I),a(n,x),a(x,B),a(B,C),a(B,V),a(x,le),a(x,oe),a(n,be),a(n,Ve),a(n,q),a(q,Q),a(Q,W),a(Q,re),a(q,xe),a(q,he),a(n,te),a(n,ce),a(n,se),a(se,fe),a(fe,ye),a(fe,me),a(se,X),a(se,ee),a(n,E),a(n,j),a(n,H),a(H,Y),a(Y,ae),a(Y,ve),a(H,$e),a(H,Ce),a(n,_e),a(n,Le),a(n,we),a(we,Ee),a(Ee,Te),a(Ee,Qe),a(we,We),a(we,Oe)},p:function(G,[L]){L&4&&u!==(u=G[2]("entry.created-at")+"")&&J($,u),L&1&&f!==(f=lt(G[0].created_at)+"")&&J(d,f),L&4&&k!==(k=G[2]("downloads")+"")&&J(C,k),L&1&&de!==(de=ct(G[0].downloads)+"")&&J(oe,de),L&4&&pe!==(pe=G[2]("game-versions")+"")&&J(W,pe),L&1&&K!==(K=G[0].game_version+"")&&J(he,K),L&4&&_!==(_=G[2]("stability")+"")&&J(ye,_),L&1&&ge!==(ge=G[0].stability+"")&&J(ee,ge),L&4&&F!==(F=G[2]("size")+"")&&J(ae,F),L&1&&ie!==(ie=ft(G[0].size)+"")&&J(Ce,ie),L&4&&Pe!==(Pe=G[2]("hash")+"")&&J(Te,Pe),L&1&&Re!==(Re=G[0].hash+"")&&J(Oe,Re)},i:O,o:O,d:function(G){G&&p(e)}};return z("SvelteRegisterBlock",{block:yt,id:ht.name,type:"component",source:"",ctx:t}),yt}function gn(t,e,r){let n,i=O,o=()=>(i(),i=rn(u,v=>r(2,n=v)),u);t.$$.on_destroy.push(()=>i());let{$$slots:c={},$$scope:l}=e;xt("VersionInfo",c,[]);let{version:s}=e;const{t:u}=St();st(u,"t"),o(),t.$$.on_mount.push(function(){s===void 0&&!("version"in e||t.$$.bound[t.$$.props.version])&&console.warn("<VersionInfo> was created without expected prop 'version'")});const $=["version"];return Object.keys(e).forEach(v=>{!~$.indexOf(v)&&v.slice(0,2)!=="$$"&&v!=="slot"&&console.warn(`<VersionInfo> was created with unknown prop '${v}'`)}),t.$$set=v=>{"version"in v&&r(0,s=v.version)},t.$capture_state=()=>({prettyBytes:ft,prettyDate:lt,prettyNumber:ct,getTranslate:St,version:s,t:u,$t:n}),t.$inject_state=v=>{"version"in v&&r(0,s=v.version)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[s,u,n]}class Qt extends wt{constructor(e){super(e),bt(this,e,gn,ht,Vt,{version:0,t:1}),z("SvelteRegisterComponent",{component:this,tagName:"VersionInfo",options:e,id:ht.name})}get version(){throw new Error("<VersionInfo>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set version(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get t(){return this.$$.ctx[1]}set t(e){throw new Error("<VersionInfo>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:Ct}=sn,A="src/routes/mod/[modId]/version/[versionId]/+page.svelte";function _t(t,e,r){const n=t.slice();return n[15]=e[r],n}function mt(t){let e,r;e=new Mt({props:{description:"Information for mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version,title:"Mod version "+t[0].data.getVersion.mod.name+" "+t[0].data.getVersion.version},$$inline:!0});const n={c:function(){ke(e.$$.fragment)},l:function(o){Se(e.$$.fragment,o)},m:function(o,c){Ie(e,o,c),r=!0},p:function(o,c){const l={};c&1&&(l.description="Information for mod version "+o[0].data.getVersion.mod.name+" "+o[0].data.getVersion.version),c&1&&(l.title="Mod version "+o[0].data.getVersion.mod.name+" "+o[0].data.getVersion.version),e.$set(l)},i:function(o){r||(Z(e.$$.fragment,o),r=!0)},o:function(o){ne(e.$$.fragment,o),r=!1},d:function(o){De(e,o)}};return z("SvelteRegisterBlock",{block:n,id:mt.name,type:"if",source:"(60:2) {#if !$version.fetching && !$version.error && $version.data.getVersion}",ctx:t}),n}function Wt(t){let e,r;e=new qt({$$inline:!0});const n={c:function(){ke(e.$$.fragment)},l:function(o){Se(e.$$.fragment,o)},m:function(o,c){Ie(e,o,c),r=!0},p:O,i:function(o){r||(Z(e.$$.fragment,o),r=!0)},o:function(o){ne(e.$$.fragment,o),r=!1},d:function(o){De(e,o)}};return z("SvelteRegisterBlock",{block:n,id:Wt.name,type:"else",source:"(158:0) {:else}",ctx:t}),n}function Jt(t){let e,r,n,i=t[0].data.getVersion.mod.name+"",o,c,l=t[0].data.getVersion.version+"",s,u,$,v,w,f,d,S="download",I,x,B="Install",k,C,V,le="extension",de,oe,be="Back to Mod",Ve,q,Q,pe,W,re,xe,K,he,te,ce,se,fe,_=t[1]&&gt(t);function ye(ee,E){return ee[0].data.getVersion.targets.length!=0?Kt:Zt}let me=ye(t),X=me(t);Q=new Lt({props:{changelog:t[0].data.getVersion.changelog,approved:t[0].data.getVersion.approved},$$inline:!0}),re=new Qt({props:{version:t[0].data.getVersion},$$inline:!0}),K=new Ut({props:{targets:t[0].data.getVersion.targets},$$inline:!0}),te=new zt({props:{dependencies:t[0].data.getVersion.dependencies},$$inline:!0});const ge={c:function(){e=h("div"),r=h("div"),n=h("h1"),o=D(i),c=D(`
        Version `),s=D(l),u=P(),$=h("div"),_&&_.c(),v=P(),X.c(),w=P(),f=h("button"),d=h("span"),d.textContent=S,I=P(),x=h("span"),x.textContent=B,k=P(),C=h("a"),V=h("span"),V.textContent=le,de=P(),oe=h("span"),oe.textContent=be,Ve=P(),q=h("div"),ke(Q.$$.fragment),pe=P(),W=h("div"),ke(re.$$.fragment),xe=P(),ke(K.$$.fragment),he=P(),ke(te.$$.fragment),this.h()},l:function(E){e=m(E,"DIV",{class:!0});var j=b(e);r=m(j,"DIV",{class:!0});var H=b(r);n=m(H,"H1",{class:!0});var Y=b(n);o=N(Y,i),c=N(Y,`
        Version `),s=N(Y,l),Y.forEach(p),u=R(H),$=m(H,"DIV",{class:!0});var F=b($);_&&_.l(F),v=R(F),X.l(F),w=R(F),f=m(F,"BUTTON",{class:!0,title:!0});var ae=b(f);d=m(ae,"SPAN",{class:!0,"data-svelte-h":!0}),ue(d)!=="svelte-rqt9z7"&&(d.textContent=S),I=R(ae),x=m(ae,"SPAN",{"data-svelte-h":!0}),ue(x)!=="svelte-1bbhnfr"&&(x.textContent=B),ae.forEach(p),k=R(F),C=m(F,"A",{class:!0,href:!0,title:!0});var ve=b(C);V=m(ve,"SPAN",{class:!0,"data-svelte-h":!0}),ue(V)!=="svelte-y4psqu"&&(V.textContent=le),de=R(ve),oe=m(ve,"SPAN",{"data-svelte-h":!0}),ue(oe)!=="svelte-1tvol36"&&(oe.textContent=be),ve.forEach(p),F.forEach(p),H.forEach(p),Ve=R(j),q=m(j,"DIV",{class:!0});var $e=b(q);Se(Q.$$.fragment,$e),pe=R($e),W=m($e,"DIV",{class:!0});var ie=b(W);Se(re.$$.fragment,ie),xe=R(ie),Se(K.$$.fragment,ie),he=R(ie),Se(te.$$.fragment,ie),ie.forEach(p),$e.forEach(p),j.forEach(p),this.h()},h:function(){y(n,"class","text-4xl font-bold"),g(n,A,82,6,2821),y(d,"class","material-icons"),g(d,A,145,10,5311),g(x,A,146,10,5366),y(f,"class","variant-ghost-primary btn"),y(f,"title","Install via Satisfactory Mod Manager"),g(f,A,141,8,5111),y(V,"class","material-icons"),g(V,A,152,10,5568),g(oe,A,153,10,5624),y(C,"class","variant-ghost-primary btn"),y(C,"href",Be+"/mod/"+t[2]),y(C,"title","View the description page for this mod"),g(C,A,148,8,5413),y($,"class","grid grid-flow-col gap-4"),g($,A,87,6,2967),y(r,"class","flex h-auto flex-wrap items-center justify-between"),g(r,A,81,4,2750),y(W,"class","grid auto-rows-min grid-cols-1 gap-8"),g(W,A,159,6,5869),y(q,"class","grid-auto-max grid auto-cols-fr gap-4"),g(q,A,157,4,5690),y(e,"class","grid gap-6 xlx:grid-flow-row"),g(e,A,80,2,2703)},m:function(E,j){U(E,e,j),a(e,r),a(r,n),a(n,o),a(n,c),a(n,s),a(r,u),a(r,$),_&&_.m($,null),a($,v),X.m($,null),a($,w),a($,f),a(f,d),a(f,I),a(f,x),a($,k),a($,C),a(C,V),a(C,de),a(C,oe),a(e,Ve),a(e,q),Ie(Q,q,null),a(q,pe),a(q,W),Ie(re,W,null),a(W,xe),Ie(K,W,null),a(W,he),Ie(te,W,null),ce=!0,se||(fe=at(f,"click",t[11],!1,!1,!1,!1),se=!0)},p:function(E,j){(!ce||j&1)&&i!==(i=E[0].data.getVersion.mod.name+"")&&J(o,i),(!ce||j&1)&&l!==(l=E[0].data.getVersion.version+"")&&J(s,l),E[1]?_?_.p(E,j):(_=gt(E),_.c(),_.m($,v)):_&&(_.d(1),_=null),me===(me=ye(E))&&X?X.p(E,j):(X.d(1),X=me(E),X&&(X.c(),X.m($,w)));const H={};j&1&&(H.changelog=E[0].data.getVersion.changelog),j&1&&(H.approved=E[0].data.getVersion.approved),Q.$set(H);const Y={};j&1&&(Y.version=E[0].data.getVersion),re.$set(Y);const F={};j&1&&(F.targets=E[0].data.getVersion.targets),K.$set(F);const ae={};j&1&&(ae.dependencies=E[0].data.getVersion.dependencies),te.$set(ae)},i:function(E){ce||(Z(Q.$$.fragment,E),Z(re.$$.fragment,E),Z(K.$$.fragment,E),Z(te.$$.fragment,E),ce=!0)},o:function(E){ne(Q.$$.fragment,E),ne(re.$$.fragment,E),ne(K.$$.fragment,E),ne(te.$$.fragment,E),ce=!1},d:function(E){E&&p(e),_&&_.d(),X.d(),De(Q),De(re),De(K),De(te),se=!1,fe()}};return z("SvelteRegisterBlock",{block:ge,id:Jt.name,type:"if",source:"(71:35) ",ctx:t}),ge}function Xt(t){let e,r,n=t[0].error.message+"",i;const o={c:function(){e=h("p"),r=D("Oh no... "),i=D(n),this.h()},l:function(l){e=m(l,"P",{});var s=b(e);r=N(s,"Oh no... "),i=N(s,n),s.forEach(p),this.h()},h:function(){g(e,A,78,2,2624)},m:function(l,s){U(l,e,s),a(e,r),a(e,i)},p:function(l,s){s&1&&n!==(n=l[0].error.message+"")&&J(i,n)},i:O,o:O,d:function(l){l&&p(e)}};return z("SvelteRegisterBlock",{block:o,id:Xt.name,type:"if",source:"(69:25) ",ctx:t}),o}function Yt(t){let e,r="Loading...";const n={c:function(){e=h("p"),e.textContent=r,this.h()},l:function(o){e=m(o,"P",{"data-svelte-h":!0}),ue(e)!=="svelte-qdsr2u"&&(e.textContent=r),this.h()},h:function(){g(e,A,76,2,2578)},m:function(o,c){U(o,e,c)},p:O,i:O,o:O,d:function(o){o&&p(e)}};return z("SvelteRegisterBlock",{block:n,id:Yt.name,type:"if",source:"(67:0) {#if $version.fetching}",ctx:t}),n}function gt(t){let e,r,n="edit_document",i,o,c,l,s="delete",u,$,v;const w={c:function(){e=h("button"),r=h("span"),r.textContent=n,i=D(`
            Edit`),o=P(),c=h("button"),l=h("span"),l.textContent=s,u=D(`
            Delete`),this.h()},l:function(d){e=m(d,"BUTTON",{class:!0});var S=b(e);r=m(S,"SPAN",{class:!0,"data-svelte-h":!0}),ue(r)!=="svelte-1x8b46e"&&(r.textContent=n),i=N(S,`
            Edit`),S.forEach(p),o=R(d),c=m(d,"BUTTON",{class:!0});var I=b(c);l=m(I,"SPAN",{class:!0,"data-svelte-h":!0}),ue(l)!=="svelte-120hsax"&&(l.textContent=s),u=N(I,`
            Delete`),I.forEach(p),this.h()},h:function(){y(r,"class","material-icons pr-2"),g(r,A,92,12,3203),y(e,"class","variant-ghost-primary btn"),g(e,A,89,10,3042),y(l,"class","material-icons pr-2"),g(l,A,96,12,3409),y(c,"class","variant-ghost-primary btn"),g(c,A,95,10,3305)},m:function(d,S){U(d,e,S),a(e,r),a(e,i),U(d,o,S),U(d,c,S),a(c,l),a(c,u),$||(v=[at(e,"click",t[9],!1,!1,!1,!1),at(c,"click",t[10],!1,!1,!1,!1)],$=!0)},p:O,d:function(d){d&&(p(e),p(o),p(c)),$=!1,ln(v)}};return z("SvelteRegisterBlock",{block:w,id:gt.name,type:"if",source:"(80:8) {#if canUserEdit}",ctx:t}),w}function Zt(t){let e,r,n,i,o;const c={c:function(){e=h("a"),r=D("View"),n=P(),i=h("a"),o=D("Download"),this.h()},l:function(s){e=m(s,"A",{class:!0,href:!0});var u=b(e);r=N(u,"View"),u.forEach(p),n=R(s),i=m(s,"A",{class:!0,href:!0});var $=b(i);o=N($,"Download"),$.forEach(p),this.h()},h:function(){y(e,"class","variant-ghost-primary btn"),y(e,"href",Be+"/mod/"+t[2]+"/version/"+t[3]),g(e,A,136,10,4828),y(i,"class","variant-ghost-primary btn"),y(i,"href",Fe+"/mod/"+t[2]+"/versions/"+t[3]+"/download"),g(i,A,137,10,4940)},m:function(s,u){U(s,e,u),a(e,r),U(s,n,u),U(s,i,u),a(i,o)},p:O,d:function(s){s&&(p(e),p(n),p(i))}};return z("SvelteRegisterBlock",{block:c,id:Zt.name,type:"else",source:"(127:8) {:else}",ctx:t}),c}function Kt(t){let e,r,n="Download...",i,o,c="arrow_drop_down",l,s,u,$,v,w,f=Rt(t[0].data.getVersion.targets),d=[];for(let I=0;I<f.length;I+=1)d[I]=vt(_t(t,f,I));const S={c:function(){e=h("button"),r=h("span"),r.textContent=n,i=P(),o=h("span"),o.textContent=c,l=P(),s=h("div"),u=h("nav"),$=h("ul");for(let x=0;x<d.length;x+=1)d[x].c();this.h()},l:function(x){e=m(x,"BUTTON",{class:!0,title:!0});var B=b(e);r=m(B,"SPAN",{"data-svelte-h":!0}),ue(r)!=="svelte-ejqs88"&&(r.textContent=n),i=R(B),o=m(B,"SPAN",{class:!0,style:!0,"data-svelte-h":!0}),ue(o)!=="svelte-dpxqae"&&(o.textContent=c),B.forEach(p),l=R(x),s=m(x,"DIV",{class:!0,"data-popup":!0});var k=b(s);u=m(k,"NAV",{class:!0});var C=b(u);$=m(C,"UL",{});var V=b($);for(let le=0;le<d.length;le+=1)d[le].l(V);V.forEach(p),C.forEach(p),k.forEach(p),this.h()},h:function(){g(r,A,109,12,3888),y(o,"class","material-icons"),cn(o,"margin","0"),g(o,A,110,12,3925),y(e,"class","variant-ghost-primary btn"),y(e,"title","Download a specific release target of this mod"),g(e,A,100,10,3568),g($,A,115,14,4148),y(u,"class","list-nav"),g(u,A,114,12,4111),y(s,"class","card z-10 w-72 shadow-xl"),y(s,"data-popup","versionArchDropdown"),g(s,A,113,10,4027)},m:function(x,B){U(x,e,B),a(e,r),a(e,i),a(e,o),U(x,l,B),U(x,s,B),a(s,u),a(u,$);for(let k=0;k<d.length;k+=1)d[k]&&d[k].m($,null);v||(w=fn(Tt.call(null,e,{event:"focus-click",target:"versionArchDropdown",placement:"bottom",closeQuery:"a"})),v=!0)},p:function(x,B){if(B&13){f=Rt(x[0].data.getVersion.targets);let k;for(k=0;k<f.length;k+=1){const C=_t(x,f,k);d[k]?d[k].p(C,B):(d[k]=vt(C),d[k].c(),d[k].m($,null))}for(;k<d.length;k+=1)d[k].d(1);d.length=f.length}},d:function(x){x&&(p(e),p(l),p(s)),un(d,x),v=!1,w()}};return z("SvelteRegisterBlock",{block:S,id:Kt.name,type:"if",source:"(91:8) {#if $version.data.getVersion.targets.length != 0}",ctx:t}),S}function vt(t){let e,r,n,i,o=ut(t[15].targetName)+"",c,l,s;const u={c:function(){e=h("li"),r=h("a"),n=h("span"),i=D("Download "),c=D(o),s=P(),this.h()},l:function(v){e=m(v,"LI",{});var w=b(e);r=m(w,"A",{class:!0,href:!0});var f=b(r);n=m(f,"SPAN",{});var d=b(n);i=N(d,"Download "),c=N(d,o),d.forEach(p),f.forEach(p),s=R(w),w.forEach(p),this.h()},h:function(){g(n,A,128,22,4617),y(r,"class","w-full"),y(r,"href",l=Fe+"/mod/"+t[2]+"/versions/"+t[3]+"/"+t[15].targetName+"/download"),g(r,A,118,20,4263),g(e,A,117,18,4238)},m:function(v,w){U(v,e,w),a(e,r),a(r,n),a(n,i),a(n,c),a(e,s)},p:function(v,w){w&1&&o!==(o=ut(v[15].targetName)+"")&&J(c,o),w&1&&l!==(l=Fe+"/mod/"+v[2]+"/versions/"+v[3]+"/"+v[15].targetName+"/download")&&y(r,"href",l)},d:function(v){v&&p(e)}};return z("SvelteRegisterBlock",{block:u,id:vt.name,type:"each",source:"(108:16) {#each $version.data.getVersion.targets as target}",ctx:t}),u}function $t(t){let e,r,n,i,o,c,l=!t[0].fetching&&!t[0].error&&t[0].data.getVersion&&mt(t);const s=[Yt,Xt,Jt,Wt],u=[];function $(w,f){return w[0].fetching?0:w[0].error?1:w[0].data.getVersion?2:3}n=$(t),i=u[n]=s[n](t);const v={c:function(){l&&l.c(),e=He(),r=P(),i.c(),o=He()},l:function(f){const d=an("svelte-7zfw29",document.head);l&&l.l(d),e=He(),d.forEach(p),r=R(f),i.l(f),o=He()},m:function(f,d){l&&l.m(document.head,null),a(document.head,e),U(f,r,d),u[n].m(f,d),U(f,o,d),c=!0},p:function(f,[d]){!f[0].fetching&&!f[0].error&&f[0].data.getVersion?l?(l.p(f,d),d&1&&Z(l,1)):(l=mt(f),l.c(),Z(l,1),l.m(e.parentNode,e)):l&&(ot(),ne(l,1,1,()=>{l=null}),rt());let S=n;n=$(f),n===S?u[n].p(f,d):(ot(),ne(u[S],1,1,()=>{u[S]=null}),rt(),i=u[n],i?i.p(f,d):(i=u[n]=s[n](f),i.c()),Z(i,1),i.m(o.parentNode,o))},i:function(f){c||(Z(l),Z(i),c=!0)},o:function(f){ne(l),ne(i),c=!1},d:function(f){f&&(p(r),p(o)),l&&l.d(f),p(e),u[n].d(f)}};return z("SvelteRegisterBlock",{block:v,id:$t.name,type:"component",source:"",ctx:t}),v}function vn(t,e,r){let n,i,o;st(nt,"user"),It(t,nt,V=>r(8,i=V));let{$$slots:c={},$$scope:l}=e;xt("Page",c,[]);let{data:s}=e;const{modId:u,versionId:$,version:v}=s;st(v,"version"),It(t,v,V=>r(0,o=V));const w=Dt(),f=Nt(),d=()=>{w.mutation(At,{versionId:$}).toPromise().then(V=>{V.error?(console.error(V.error.message),f.trigger({message:"Error deleting version: "+V.error.message,background:"variant-filled-error",autohide:!1})):(f.trigger({message:"Version deleted",background:"variant-filled-success",timeout:5e3}),tt(Be+"/mod/"+u))})},S={type:"confirm",title:"Delete Version?",body:"Are you sure you wish to delete this version?",response:V=>{V&&d()}},I=Pt();t.$$.on_mount.push(function(){s===void 0&&!("data"in e||t.$$.bound[t.$$.props.data])&&Ct.warn("<Page> was created without expected prop 'data'")});const x=["data"];Object.keys(e).forEach(V=>{!~x.indexOf(V)&&V.slice(0,2)!=="$$"&&V!=="slot"&&Ct.warn(`<Page> was created with unknown prop '${V}'`)});const B=()=>tt(Be+"/mod/"+u+"/version/"+$+"/edit"),k=()=>I.trigger(S),C=()=>Bt(o.data.getVersion.mod.mod_reference);return t.$$set=V=>{"data"in V&&r(7,s=V.data)},t.$capture_state=()=>({DeleteVersionDocument:At,VersionDescription:Lt,VersionInfo:Qt,MetaDescriptors:Mt,API_REST:Fe,goto:tt,user:nt,base:Be,installMod:Bt,prettyTarget:ut,VersionTargetSupportGrid:Ut,VersionDependenciesGrid:zt,getContextClient:Dt,getModalStore:Pt,getToastStore:Nt,popup:Tt,Page404:qt,data:s,modId:u,versionId:$,version:v,client:w,toastStore:f,deleteVersionFn:d,deleteModal:S,modalStore:I,canUserEdit:n,$user:i,$version:o}),t.$inject_state=V=>{"data"in V&&r(7,s=V.data),"canUserEdit"in V&&r(1,n=V.canUserEdit)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&257&&r(1,n=i?.roles?.deleteContent||o?.data?.getVersion.mod?.authors?.findIndex(V=>V.user_id==i?.id)>=0)},[o,n,u,$,v,S,I,s,i,B,k,C]}class Rn extends wt{constructor(e){super(e),bt(this,e,vn,$t,Vt,{data:7}),z("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:$t.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Rn as component,Pn as universal};
//# sourceMappingURL=17.D63e4hGD.js.map
