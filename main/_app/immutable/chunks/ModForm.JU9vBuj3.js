import{S as ur,i as dr,s as pr,b as Je,j as B,q as R,f as n,a6 as hr,K as yr,L as br,r as ze,e as f,c as u,F as mr,G as c,a as _,T as A,d as m,g as I,U as N,ad as Ke,I as i,V as U,a2 as Qe,u as fe,M as ue,aw as $r,A as tt,D as et,a0 as Y,H as rt,W as At,a8 as Er,a3 as wr,N as de,m as q,k as pe,t as X,l as he,J as st,a1 as xr,Z as _r,ax as je,Q as Ye,R as Ir,a4 as Ar,a5 as Nr}from"./vendor.qkHm75Lx.js";import{o as Wt,s as nt,a as Gt,b as Dr,l as Pr,g as tr,h as Vr,V as Lt,c as kr,v as Sr,r as Tr}from"./forms.IYQPp5Hs.js";import{t as Ur}from"./forms.wVrcIDji.js";import{m as er}from"./markdown.JOb1FNHv.js";import{I as Lr,v as rr}from"./graphql.XSrPrpK2.js";import{T as qr}from"./TagList.HMv8OVRN.js";import{M as Br}from"./ModCompatibilityEdit.yv8pW7NE.js";const sr=Wt({name:nt().min(3).max(32),mod_reference:nt().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:nt().min(16).max(128),full_description:Gt(nt()),logo:Gt(Dr().refine(e=>"name"in e&&"size"in e&&"type"in e)),source_url:nt().url().optional().or(Pr("")),authors:Gt(Wt({role:nt(),user_id:nt()}).array()),compatibility:Gt(Wt({EA:Wt({state:nt(),note:tr()}),EXP:Wt({state:nt(),note:tr()})})),hidden:Vr(),tagIDs:Gt(nt().array())});function Cr(e){let t,s="Unknown User ID";return{c(){t=f("p"),t.textContent=s,this.h()},l(a){t=u(a,"P",{class:!0,"data-svelte-h":!0}),mr(t)!=="svelte-12dp6bw"&&(t.textContent=s),this.h()},h(){c(t,"class","mr-2 whitespace-nowrap")},m(a,r){B(a,t,r)},p:R,d(a){a&&n(t)}}}function Mr(e){let t,s,a,r,l,o,h=e[2].data.getUser.username+"",v;return{c(){t=f("div"),s=f("div"),r=_(),l=f("div"),o=f("span"),v=A(h),this.h()},l(w){t=u(w,"DIV",{class:!0});var y=m(t);s=u(y,"DIV",{class:!0,style:!0}),m(s).forEach(n),r=I(y),l=u(y,"DIV",{class:!0});var C=m(l);o=u(C,"SPAN",{class:!0});var D=m(o);v=N(D,h),D.forEach(n),C.forEach(n),y.forEach(n),this.h()},h(){c(s,"class","h-7 w-7 rounded-full bg-cover"),c(s,"style",a=`background-image: url("${e[2].data.getUser.avatar||Ke+"/images/no_image.webp"}")`),c(o,"class","text-yellow-500"),c(l,"class","grid grid-flow-row"),c(t,"class","mr-2 grid auto-cols-max grid-flow-col gap-x-2")},m(w,y){B(w,t,y),i(t,s),i(t,r),i(t,l),i(l,o),i(o,v)},p(w,y){y&4&&a!==(a=`background-image: url("${w[2].data.getUser.avatar||Ke+"/images/no_image.webp"}")`)&&c(s,"style",a),y&4&&h!==(h=w[2].data.getUser.username+"")&&U(v,h)},d(w){w&&n(t)}}}function Or(e){let t,s=e[3]("error.oh-no")+"",a,r,l=e[2].error.message+"",o;return{c(){t=f("p"),a=A(s),r=A("... "),o=A(l),this.h()},l(h){t=u(h,"P",{class:!0});var v=m(t);a=N(v,s),r=N(v,"... "),o=N(v,l),v.forEach(n),this.h()},h(){c(t,"class","mr-2")},m(h,v){B(h,t,v),i(t,a),i(t,r),i(t,o)},p(h,v){v&8&&s!==(s=h[3]("error.oh-no")+"")&&U(a,s),v&4&&l!==(l=h[2].error.message+"")&&U(o,l)},d(h){h&&n(t)}}}function jr(e){let t,s=e[3]("loading")+"",a,r;return{c(){t=f("p"),a=A(s),r=A("..."),this.h()},l(l){t=u(l,"P",{class:!0});var o=m(t);a=N(o,s),r=N(o,"..."),o.forEach(n),this.h()},h(){c(t,"class","mr-2")},m(l,o){B(l,t,o),i(t,a),i(t,r)},p(l,o){o&8&&s!==(s=l[3]("loading")+"")&&U(a,s)},d(l){l&&n(t)}}}function zr(e){let t;function s(l,o){return l[2].fetching?jr:l[2].error?Or:l[2].data.getUser?Mr:Cr}let a=s(e),r=a(e);return{c(){r.c(),t=Je()},l(l){r.l(l),t=Je()},m(l,o){r.m(l,o),B(l,t,o)},p(l,[o]){a===(a=s(l))&&r?r.p(l,o):(r.d(1),r=a(l),r&&(r.c(),r.m(t.parentNode,t)))},i:R,o:R,d(l){l&&n(t),r.d(l)}}}function Xr(e,t,s){let a,r,l=R,o=()=>(l(),l=ze(a,j=>s(2,r=j)),a),h,v=R,w=()=>(v(),v=ze(C,j=>s(3,h=j)),C);e.$$.on_destroy.push(()=>l()),e.$$.on_destroy.push(()=>v());let{id:y}=t;const{t:C}=hr();w();const D=yr();return e.$$set=j=>{"id"in j&&s(4,y=j.id)},e.$$.update=()=>{e.$$.dirty&16&&o(s(1,a=br({query:Lr,client:D,variables:{user:y}})))},[C,a,r,h,y]}class Zr extends ur{constructor(t){super(),dr(this,t,Xr,zr,pr,{id:4,t:0})}get t(){return this.$$.ctx[0]}}function lr(e,t,s){const a=e.slice();return a[27]=t[s],a[28]=t,a[29]=s,a}function Fr(e){let t,s=(e[30]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){B(r,t,l),i(t,a)},p(r,l){l[0]&1073741824&&s!==(s=(r[30]||"")+"")&&U(a,s)},d(r){r&&n(t)}}}function ar(e){let t,s=e[7]("mod.reference-warning")+"",a;return{c(){t=f("span"),a=A(s)},l(r){t=u(r,"SPAN",{});var l=m(t);a=N(l,s),l.forEach(n)},m(r,l){B(r,t,l),i(t,a)},p(r,l){l[0]&128&&s!==(s=r[7]("mod.reference-warning")+"")&&U(a,s)},d(r){r&&n(t)}}}function Hr(e){let t,s=(e[30]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){B(r,t,l),i(t,a)},p(r,l){l[0]&1073741824&&s!==(s=(r[30]||"")+"")&&U(a,s)},d(r){r&&n(t)}}}function Rr(e){let t,s=(e[30]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){B(r,t,l),i(t,a)},p(r,l){l[0]&1073741824&&s!==(s=(r[30]||"")+"")&&U(a,s)},d(r){r&&n(t)}}}function Wr(e){let t,s=(e[30]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){B(r,t,l),i(t,a)},p(r,l){l[0]&1073741824&&s!==(s=(r[30]||"")+"")&&U(a,s)},d(r){r&&n(t)}}}function Gr(e){return{c:R,l:R,m:R,p:R,d:R}}function Jr(e){let t,s,a=e[31]+"";return{c(){t=f("div"),s=new Ar(!1),this.h()},l(r){t=u(r,"DIV",{class:!0});var l=m(t);s=Nr(l,!1),l.forEach(n),this.h()},h(){s.a=null,c(t,"class","markdown-content right svelte-k92wki")},m(r,l){B(r,t,l),s.m(a,t)},p(r,l){l[0]&64&&a!==(a=r[31]+"")&&s.p(a)},d(r){r&&n(t)}}}function Kr(e){return{c:R,l:R,m:R,p:R,d:R}}function Qr(e){let t,s=(e[30]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){B(r,t,l),i(t,a)},p(r,l){l[0]&1073741824&&s!==(s=(r[30]||"")+"")&&U(a,s)},d(r){r&&n(t)}}}function Yr(e){let t,s=(e[30]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){B(r,t,l),i(t,a)},p(r,l){l[0]&1073741824&&s!==(s=(r[30]||"")+"")&&U(a,s)},d(r){r&&n(t)}}}function ts(e){let t=e[7]("entry.hidden")+"",s;return{c(){s=A(t)},l(a){s=N(a,t)},m(a,r){B(a,s,r)},p(a,r){r[0]&128&&t!==(t=a[7]("entry.hidden")+"")&&U(s,t)},d(a){a&&n(s)}}}function es(e){let t,s=(e[30]||"")+"",a;return{c(){t=f("span"),a=A(s),this.h()},l(r){t=u(r,"SPAN",{class:!0});var l=m(t);a=N(l,s),l.forEach(n),this.h()},h(){c(t,"class","validation-message")},m(r,l){B(r,t,l),i(t,a)},p(r,l){l[0]&1073741824&&s!==(s=(r[30]||"")+"")&&U(a,s)},d(r){r&&n(t)}}}function ir(e){let t,s,a,r,l,o,h,v,w=e[7]("authors")+"",y,C,D,j,$=e[7]("add")+"",L,P,T,V,W;function Nt(p){e[22](p)}let Z={name:"slider-label",$$slots:{default:[rs]},$$scope:{ctx:e}};e[5]!==void 0&&(Z.checked=e[5]),s=new $r({props:Z}),fe.push(()=>ue(s,"checked",Nt)),s.$on("change",e[23]);let S=e[5]&&nr(e),G=Ye(e[4].authors),x=[];for(let p=0;p<G.length;p+=1)x[p]=fr(lr(e,G,p));const Dt=p=>X(x[p],1,1,()=>{x[p]=null});return{c(){t=f("div"),tt(s.$$.fragment),r=_(),S&&S.c(),l=_(),o=f("div"),h=f("div"),v=f("h4"),y=A(w),C=_(),D=f("button"),j=f("span"),L=A($),P=_();for(let p=0;p<x.length;p+=1)x[p].c();this.h()},l(p){t=u(p,"DIV",{});var E=m(t);et(s.$$.fragment,E),E.forEach(n),r=I(p),S&&S.l(p),l=I(p),o=u(p,"DIV",{class:!0});var O=m(o);h=u(O,"DIV",{class:!0});var k=m(h);v=u(k,"H4",{class:!0});var Q=m(v);y=N(Q,w),Q.forEach(n),C=I(k),D=u(k,"BUTTON",{class:!0,type:!0});var pt=m(D);j=u(pt,"SPAN",{});var b=m(j);L=N(b,$),b.forEach(n),pt.forEach(n),k.forEach(n),P=I(O);for(let F=0;F<x.length;F+=1)x[F].l(O);O.forEach(n),this.h()},h(){c(v,"class","mr-4"),c(D,"class","variant-ghost-primary btn"),c(D,"type","button"),c(h,"class","flex items-center"),c(o,"class","grid grid-flow-row gap-2")},m(p,E){B(p,t,E),rt(s,t,null),B(p,r,E),S&&S.m(p,E),B(p,l,E),B(p,o,E),i(o,h),i(h,v),i(v,y),i(h,C),i(h,D),i(D,j),i(j,L),i(o,P);for(let O=0;O<x.length;O+=1)x[O]&&x[O].m(o,null);T=!0,V||(W=At(D,"click",e[10]),V=!0)},p(p,E){const O={};if(E[0]&128|E[1]&2&&(O.$$scope={dirty:E,ctx:p}),!a&&E[0]&32&&(a=!0,O.checked=p[5],de(()=>a=!1)),s.$set(O),p[5]?S?(S.p(p,E),E[0]&32&&q(S,1)):(S=nr(p),S.c(),q(S,1),S.m(l.parentNode,l)):S&&(pe(),X(S,1,1,()=>{S=null}),he()),(!T||E[0]&128)&&w!==(w=p[7]("authors")+"")&&U(y,w),(!T||E[0]&128)&&$!==($=p[7]("add")+"")&&U(L,$),E[0]&2192){G=Ye(p[4].authors);let k;for(k=0;k<G.length;k+=1){const Q=lr(p,G,k);x[k]?(x[k].p(Q,E),q(x[k],1)):(x[k]=fr(Q),x[k].c(),q(x[k],1),x[k].m(o,null))}for(pe(),k=G.length;k<x.length;k+=1)Dt(k);he()}},i(p){if(!T){q(s.$$.fragment,p),q(S);for(let E=0;E<G.length;E+=1)q(x[E]);T=!0}},o(p){X(s.$$.fragment,p),X(S),x=x.filter(Boolean);for(let E=0;E<x.length;E+=1)X(x[E]);T=!1},d(p){p&&(n(t),n(r),n(l),n(o)),st(s),S&&S.d(p),Ir(x,p),V=!1,W()}}}function rs(e){let t=e[7]("compatibility-info.edit")+"",s;return{c(){s=A(t)},l(a){s=N(a,t)},m(a,r){B(a,s,r)},p(a,r){r[0]&128&&t!==(t=a[7]("compatibility-info.edit")+"")&&U(s,t)},d(a){a&&n(s)}}}function nr(e){let t,s,a;function r(o){e[24](o)}let l={};return e[4].compatibility!==void 0&&(l.compatibilityInfo=e[4].compatibility),t=new Br({props:l}),fe.push(()=>ue(t,"compatibilityInfo",r)),{c(){tt(t.$$.fragment)},l(o){et(t.$$.fragment,o)},m(o,h){rt(t,o,h),a=!0},p(o,h){const v={};!s&&h[0]&16&&(s=!0,v.compatibilityInfo=o[4].compatibility,de(()=>s=!1)),t.$set(v)},i(o){a||(q(t.$$.fragment,o),a=!0)},o(o){X(t.$$.fragment,o),a=!1},d(o){st(t,o)}}}function or(e){let t,s,a;return s=new Zr({props:{id:e[4].authors[e[29]].user_id}}),{c(){t=f("div"),tt(s.$$.fragment),this.h()},l(r){t=u(r,"DIV",{class:!0});var l=m(t);et(s.$$.fragment,l),l.forEach(n),this.h()},h(){c(t,"class","p-2")},m(r,l){B(r,t,l),rt(s,t,null),a=!0},p(r,l){const o={};l[0]&16&&(o.id=r[4].authors[r[29]].user_id),s.$set(o)},i(r){a||(q(s.$$.fragment,r),a=!0)},o(r){X(s.$$.fragment,r),a=!1},d(r){r&&n(t),st(s)}}}function cr(e){let t,s,a=e[7]("remove")+"",r,l,o;function h(){return e[26](e[29])}return{c(){t=f("button"),s=f("span"),r=A(a),this.h()},l(v){t=u(v,"BUTTON",{class:!0,type:!0});var w=m(t);s=u(w,"SPAN",{});var y=m(s);r=N(y,a),y.forEach(n),w.forEach(n),this.h()},h(){c(t,"class","variant-ghost-primary btn"),c(t,"type","button")},m(v,w){B(v,t,w),i(t,s),i(s,r),l||(o=At(t,"click",h),l=!0)},p(v,w){e=v,w[0]&128&&a!==(a=e[7]("remove")+"")&&U(r,a)},d(v){v&&n(t),l=!1,o()}}}function fr(e){let t,s,a,r,l="User ID",o,h,v,w,y,C,D,j,$=e[4].authors[e[29]].user_id&&or(e);function L(){e[25].call(h,e[29])}let P=e[27].role!=="creator"&&cr(e);return{c(){t=f("div"),$&&$.c(),s=_(),a=f("label"),r=f("span"),r.textContent=l,o=_(),h=f("input"),w=_(),P&&P.c(),y=_(),this.h()},l(T){t=u(T,"DIV",{class:!0});var V=m(t);$&&$.l(V),s=I(V),a=u(V,"LABEL",{class:!0});var W=m(a);r=u(W,"SPAN",{"data-svelte-h":!0}),mr(r)!=="svelte-5fmcbq"&&(r.textContent=l),o=I(W),h=u(W,"INPUT",{type:!0,class:!0}),W.forEach(n),w=I(V),P&&P.l(V),y=I(V),V.forEach(n),this.h()},h(){c(h,"type","text"),h.required=!0,c(h,"class","input p-2"),h.disabled=v=e[27].role==="creator",c(a,"class","label"),c(t,"class","flex items-end")},m(T,V){B(T,t,V),$&&$.m(t,null),i(t,s),i(t,a),i(a,r),i(a,o),i(a,h),Y(h,e[4].authors[e[29]].user_id),i(t,w),P&&P.m(t,null),i(t,y),C=!0,D||(j=At(h,"input",L),D=!0)},p(T,V){e=T,e[4].authors[e[29]].user_id?$?($.p(e,V),V[0]&16&&q($,1)):($=or(e),$.c(),q($,1),$.m(t,s)):$&&(pe(),X($,1,1,()=>{$=null}),he()),(!C||V[0]&16&&v!==(v=e[27].role==="creator"))&&(h.disabled=v),V[0]&16&&h.value!==e[4].authors[e[29]].user_id&&Y(h,e[4].authors[e[29]].user_id),e[27].role!=="creator"?P?P.p(e,V):(P=cr(e),P.c(),P.m(t,y)):P&&(P.d(1),P=null)},i(T){C||(q($),C=!0)},o(T){X($),C=!1},d(T){T&&n(t),$&&$.d(),P&&P.d(),D=!1,j()}}}function ss(e){let t,s,a,r,l,o=e[7]("entry.name")+"",h,v,w,y,C,D,j,$,L,P,T=e[7]("mod.reference")+"",V,W,Nt,Z,S,G,x,Dt,p,E,O,k=e[7]("entry.short-description")+"",Q,pt,b,F,me,ht,$e,mt,$t,gt,qt,zt=e[7]("entry.full-description")+"",Jt,ge,ve,lt,ye,vt,be,ot,Bt,Xt=e[7]("preview")+"",Kt,Ee,we,Qt,xe,Ct,ct,_e,Ie,at,Pt,Zt=e[7]("logo")+"",Yt,Ae,Ne,ft,De,yt,Pe,bt,Et,Ft,Ht=e[7]("entry.source-url")+"",te,Ve,it,ke,wt,Se,xt,ut,Te,Ue,_t,Le,ee,Rt,Vt,re,J,qe,Xe;D=new Lt({props:{for:"name",$$slots:{default:[Fr,({messages:d})=>({30:d}),({messages:d})=>[d?1073741824:0]]},$$scope:{ctx:e}}});let H=!e[2]&&ar(e);x=new Lt({props:{for:"mod_reference",$$slots:{default:[Hr,({messages:d})=>({30:d}),({messages:d})=>[d?1073741824:0]]},$$scope:{ctx:e}}}),ht=new Lt({props:{for:"short_description",$$slots:{default:[Rr,({messages:d})=>({30:d}),({messages:d})=>[d?1073741824:0]]},$$scope:{ctx:e}}}),vt=new Lt({props:{for:"full_description",$$slots:{default:[Wr,({messages:d})=>({30:d}),({messages:d})=>[d?1073741824:0]]},$$scope:{ctx:e}}});let K={ctx:e,current:null,token:null,hasCatch:!1,pending:Kr,then:Jr,catch:Gr,value:31};Qe(Qt=er(e[6]),K);function gr(d){e[19](d)}let Ze={editable:!0};e[3]!==void 0&&(Ze.tags=e[3]),ct=new qr({props:Ze}),fe.push(()=>ue(ct,"tags",gr)),yt=new Lt({props:{for:"logo",$$slots:{default:[Qr,({messages:d})=>({30:d}),({messages:d})=>[d?1073741824:0]]},$$scope:{ctx:e}}}),wt=new Lt({props:{for:"source_url",$$slots:{default:[Yr,({messages:d})=>({30:d}),({messages:d})=>[d?1073741824:0]]},$$scope:{ctx:e}}});function vr(d){e[21](d)}let Fe={name:"slider-label",$$slots:{default:[ts]},$$scope:{ctx:e}};e[4].hidden!==void 0&&(Fe.checked=e[4].hidden),ut=new $r({props:Fe}),fe.push(()=>ue(ut,"checked",vr)),_t=new Lt({props:{for:"hidden",$$slots:{default:[es,({messages:d})=>({30:d}),({messages:d})=>[d?1073741824:0]]},$$scope:{ctx:e}}});let z=e[2]&&ir(e);return{c(){t=f("form"),s=f("div"),a=f("div"),r=f("label"),l=f("span"),h=A(o),v=A(" *"),w=_(),y=f("input"),C=_(),tt(D.$$.fragment),j=_(),$=f("div"),L=f("label"),P=f("span"),V=A(T),W=A(" *"),Nt=_(),Z=f("input"),S=_(),H&&H.c(),G=_(),tt(x.$$.fragment),Dt=_(),p=f("div"),E=f("label"),O=f("span"),Q=A(k),pt=A(" *"),b=_(),F=f("input"),me=_(),tt(ht.$$.fragment),$e=_(),mt=f("div"),$t=f("div"),gt=f("label"),qt=f("span"),Jt=A(zt),ge=A(" *"),ve=_(),lt=f("textarea"),ye=_(),tt(vt.$$.fragment),be=_(),ot=f("div"),Bt=f("span"),Kt=A(Xt),Ee=A(":"),we=_(),K.block.c(),xe=_(),Ct=f("div"),tt(ct.$$.fragment),Ie=_(),at=f("div"),Pt=f("label"),Yt=A(Zt),Ae=A(":"),Ne=_(),ft=f("input"),De=_(),tt(yt.$$.fragment),Pe=_(),bt=f("div"),Et=f("label"),Ft=f("span"),te=A(Ht),Ve=_(),it=f("input"),ke=_(),tt(wt.$$.fragment),Se=_(),xt=f("div"),tt(ut.$$.fragment),Ue=_(),tt(_t.$$.fragment),Le=_(),z&&z.c(),ee=_(),Rt=f("div"),Vt=f("button"),re=A(e[1]),this.h()},l(d){t=u(d,"FORM",{});var g=m(t);s=u(g,"DIV",{class:!0});var M=m(s);a=u(M,"DIV",{class:!0});var kt=m(a);r=u(kt,"LABEL",{class:!0});var St=m(r);l=u(St,"SPAN",{});var Mt=m(l);h=N(Mt,o),v=N(Mt," *"),Mt.forEach(n),w=I(St),y=u(St,"INPUT",{type:!0,class:!0}),St.forEach(n),C=I(kt),et(D.$$.fragment,kt),kt.forEach(n),j=I(M),$=u(M,"DIV",{class:!0});var Tt=m($);L=u(Tt,"LABEL",{class:!0});var dt=m(L);P=u(dt,"SPAN",{});var Ot=m(P);V=N(Ot,T),W=N(Ot," *"),Ot.forEach(n),Nt=I(dt),Z=u(dt,"INPUT",{type:!0,class:!0}),S=I(dt),H&&H.l(dt),dt.forEach(n),G=I(Tt),et(x.$$.fragment,Tt),Tt.forEach(n),Dt=I(M),p=u(M,"DIV",{class:!0});var It=m(p);E=u(It,"LABEL",{class:!0});var Ut=m(E);O=u(Ut,"SPAN",{});var Be=m(O);Q=N(Be,k),pt=N(Be," *"),Be.forEach(n),b=I(Ut),F=u(Ut,"INPUT",{type:!0,class:!0}),Ut.forEach(n),me=I(It),et(ht.$$.fragment,It),It.forEach(n),$e=I(M),mt=u(M,"DIV",{class:!0});var se=m(mt);$t=u(se,"DIV",{class:!0});var le=m($t);gt=u(le,"LABEL",{class:!0});var ae=m(gt);qt=u(ae,"SPAN",{});var Ce=m(qt);Jt=N(Ce,zt),ge=N(Ce," *"),Ce.forEach(n),ve=I(ae),lt=u(ae,"TEXTAREA",{class:!0,rows:!0}),m(lt).forEach(n),ae.forEach(n),ye=I(le),et(vt.$$.fragment,le),le.forEach(n),be=I(se),ot=u(se,"DIV",{class:!0});var ie=m(ot);Bt=u(ie,"SPAN",{});var Me=m(Bt);Kt=N(Me,Xt),Ee=N(Me,":"),Me.forEach(n),we=I(ie),K.block.l(ie),ie.forEach(n),se.forEach(n),xe=I(M),Ct=u(M,"DIV",{class:!0});var He=m(Ct);et(ct.$$.fragment,He),He.forEach(n),Ie=I(M),at=u(M,"DIV",{class:!0});var jt=m(at);Pt=u(jt,"LABEL",{for:!0});var Oe=m(Pt);Yt=N(Oe,Zt),Ae=N(Oe,":"),Oe.forEach(n),Ne=I(jt),ft=u(jt,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),De=I(jt),et(yt.$$.fragment,jt),jt.forEach(n),Pe=I(M),bt=u(M,"DIV",{class:!0});var ne=m(bt);Et=u(ne,"LABEL",{class:!0});var oe=m(Et);Ft=u(oe,"SPAN",{});var Re=m(Ft);te=N(Re,Ht),Re.forEach(n),Ve=I(oe),it=u(oe,"INPUT",{type:!0,class:!0}),oe.forEach(n),ke=I(ne),et(wt.$$.fragment,ne),ne.forEach(n),Se=I(M),xt=u(M,"DIV",{class:!0});var ce=m(xt);et(ut.$$.fragment,ce),Ue=I(ce),et(_t.$$.fragment,ce),ce.forEach(n),Le=I(M),z&&z.l(M),ee=I(M),Rt=u(M,"DIV",{});var We=m(Rt);Vt=u(We,"BUTTON",{class:!0,type:!0});var Ge=m(Vt);re=N(Ge,e[1]),Ge.forEach(n),We.forEach(n),M.forEach(n),g.forEach(n),this.h()},h(){c(y,"type","text"),y.required=!0,c(y,"class","input p-2"),c(r,"class","label"),c(a,"class","grid grid-flow-row gap-2"),c(Z,"type","text"),Z.required=!0,c(Z,"class","input p-2"),Z.disabled=e[2],c(L,"class","label"),c($,"class","grid grid-flow-row gap-2"),c(F,"type","text"),F.required=!0,c(F,"class","input p-2"),c(E,"class","label"),c(p,"class","grid grid-flow-row gap-2"),c(lt,"class","vertical-textarea textarea p-2"),lt.required=!0,c(lt,"rows",10),c(gt,"class","label"),c($t,"class","grid grid-flow-row auto-rows-max gap-2"),c(ot,"class","grid grid-flow-row auto-rows-max gap-2"),c(mt,"class","split grid gap-6 svelte-k92wki"),c(Ct,"class","grid grid-flow-row gap-2"),c(Pt,"for","logo"),c(ft,"id","logo"),c(ft,"class","base-input"),c(ft,"name","logo"),c(ft,"type","file"),c(ft,"accept","image/png,image/jpeg,image/gif"),c(ft,"placeholder","Logo"),c(at,"class","grid grid-flow-row gap-2"),c(it,"type","text"),it.required=!0,c(it,"class","input p-2"),c(Et,"class","label"),c(bt,"class","grid grid-flow-row gap-2"),c(xt,"class","grid grid-flow-row gap-2"),c(Vt,"class","variant-ghost-primary btn"),c(Vt,"type","submit"),c(s,"class","grid grid-flow-row gap-6")},m(d,g){B(d,t,g),i(t,s),i(s,a),i(a,r),i(r,l),i(l,h),i(l,v),i(r,w),i(r,y),Y(y,e[4].name),i(a,C),rt(D,a,null),i(s,j),i(s,$),i($,L),i(L,P),i(P,V),i(P,W),i(L,Nt),i(L,Z),Y(Z,e[4].mod_reference),i(L,S),H&&H.m(L,null),i($,G),rt(x,$,null),i(s,Dt),i(s,p),i(p,E),i(E,O),i(O,Q),i(O,pt),i(E,b),i(E,F),Y(F,e[4].short_description),i(p,me),rt(ht,p,null),i(s,$e),i(s,mt),i(mt,$t),i($t,gt),i(gt,qt),i(qt,Jt),i(qt,ge),i(gt,ve),i(gt,lt),Y(lt,e[4].full_description),i($t,ye),rt(vt,$t,null),i(mt,be),i(mt,ot),i(ot,Bt),i(Bt,Kt),i(Bt,Ee),i(ot,we),K.block.m(ot,K.anchor=null),K.mount=()=>ot,K.anchor=null,i(s,xe),i(s,Ct),rt(ct,Ct,null),i(s,Ie),i(s,at),i(at,Pt),i(Pt,Yt),i(Pt,Ae),i(at,Ne),i(at,ft),i(at,De),rt(yt,at,null),i(s,Pe),i(s,bt),i(bt,Et),i(Et,Ft),i(Ft,te),i(Et,Ve),i(Et,it),Y(it,e[4].source_url),i(bt,ke),rt(wt,bt,null),i(s,Se),i(s,xt),rt(ut,xt,null),i(xt,Ue),rt(_t,xt,null),i(s,Le),z&&z.m(s,null),i(s,ee),i(s,Rt),i(Rt,Vt),i(Vt,re),J=!0,qe||(Xe=[At(y,"input",e[15]),At(Z,"input",e[16]),At(F,"input",e[17]),At(lt,"input",e[18]),At(it,"input",e[20]),Er(e[8].call(null,t))],qe=!0)},p(d,g){e=d,(!J||g[0]&128)&&o!==(o=e[7]("entry.name")+"")&&U(h,o),g[0]&16&&y.value!==e[4].name&&Y(y,e[4].name);const M={};g[0]&1073741824|g[1]&2&&(M.$$scope={dirty:g,ctx:e}),D.$set(M),(!J||g[0]&128)&&T!==(T=e[7]("mod.reference")+"")&&U(V,T),(!J||g[0]&4)&&(Z.disabled=e[2]),g[0]&16&&Z.value!==e[4].mod_reference&&Y(Z,e[4].mod_reference),e[2]?H&&(H.d(1),H=null):H?H.p(e,g):(H=ar(e),H.c(),H.m(L,null));const kt={};g[0]&1073741824|g[1]&2&&(kt.$$scope={dirty:g,ctx:e}),x.$set(kt),(!J||g[0]&128)&&k!==(k=e[7]("entry.short-description")+"")&&U(Q,k),g[0]&16&&F.value!==e[4].short_description&&Y(F,e[4].short_description);const St={};g[0]&1073741824|g[1]&2&&(St.$$scope={dirty:g,ctx:e}),ht.$set(St),(!J||g[0]&128)&&zt!==(zt=e[7]("entry.full-description")+"")&&U(Jt,zt),g[0]&16&&Y(lt,e[4].full_description);const Mt={};g[0]&1073741824|g[1]&2&&(Mt.$$scope={dirty:g,ctx:e}),vt.$set(Mt),(!J||g[0]&128)&&Xt!==(Xt=e[7]("preview")+"")&&U(Kt,Xt),K.ctx=e,g[0]&64&&Qt!==(Qt=er(e[6]))&&Qe(Qt,K)||wr(K,e,g);const Tt={};!_e&&g[0]&8&&(_e=!0,Tt.tags=e[3],de(()=>_e=!1)),ct.$set(Tt),(!J||g[0]&128)&&Zt!==(Zt=e[7]("logo")+"")&&U(Yt,Zt);const dt={};g[0]&1073741824|g[1]&2&&(dt.$$scope={dirty:g,ctx:e}),yt.$set(dt),(!J||g[0]&128)&&Ht!==(Ht=e[7]("entry.source-url")+"")&&U(te,Ht),g[0]&16&&it.value!==e[4].source_url&&Y(it,e[4].source_url);const Ot={};g[0]&1073741824|g[1]&2&&(Ot.$$scope={dirty:g,ctx:e}),wt.$set(Ot);const It={};g[0]&128|g[1]&2&&(It.$$scope={dirty:g,ctx:e}),!Te&&g[0]&16&&(Te=!0,It.checked=e[4].hidden,de(()=>Te=!1)),ut.$set(It);const Ut={};g[0]&1073741824|g[1]&2&&(Ut.$$scope={dirty:g,ctx:e}),_t.$set(Ut),e[2]?z?(z.p(e,g),g[0]&4&&q(z,1)):(z=ir(e),z.c(),q(z,1),z.m(s,ee)):z&&(pe(),X(z,1,1,()=>{z=null}),he()),(!J||g[0]&2)&&U(re,e[1])},i(d){J||(q(D.$$.fragment,d),q(x.$$.fragment,d),q(ht.$$.fragment,d),q(vt.$$.fragment,d),q(ct.$$.fragment,d),q(yt.$$.fragment,d),q(wt.$$.fragment,d),q(ut.$$.fragment,d),q(_t.$$.fragment,d),q(z),J=!0)},o(d){X(D.$$.fragment,d),X(x.$$.fragment,d),X(ht.$$.fragment,d),X(vt.$$.fragment,d),X(ct.$$.fragment,d),X(yt.$$.fragment,d),X(wt.$$.fragment,d),X(ut.$$.fragment,d),X(_t.$$.fragment,d),X(z),J=!1},d(d){d&&n(t),st(D),H&&H.d(),st(x),st(ht),st(vt),K.block.d(),K.token=null,K=null,st(ct),st(yt),st(wt),st(ut),st(_t),z&&z.d(),qe=!1,xr(Xe)}}}function ls(e,t,s){let a,r,l,o=R,h=()=>(o(),o=ze(v,b=>s(7,l=b)),v);e.$$.on_destroy.push(()=>o());const{t:v}=hr();h();let{onSubmit:w}=t,{initialValues:y={full_description:"",mod_reference:"",name:"",short_description:"",source_url:"",hidden:!1,tagIDs:[],compatibility:{EA:{state:rr.Works,note:""},EXP:{state:rr.Works,note:""}}}}=t,{submitText:C=l("entry.create")}=t,{editing:D=!1}=t;const{form:j,data:$}=kr({initialValues:y,extend:[Sr({schema:sr}),Tr],onSubmit:b=>w(Ur(b,sr))});_r(e,$,b=>s(4,r=b));let L=[];const P=()=>{r.authors.push({role:"editor",user_id:"",key:""}),$.set(r)},T=b=>{r.authors.splice(b,1),$.set(r)};let V=!1;const W=r.compatibility;function Nt(){r.name=this.value,$.set(r)}function Z(){r.mod_reference=this.value,$.set(r)}function S(){r.short_description=this.value,$.set(r)}function G(){r.full_description=this.value,$.set(r)}function x(b){L=b,s(3,L),s(4,r)}function Dt(){r.source_url=this.value,$.set(r)}function p(b){e.$$.not_equal(r.hidden,b)&&(r.hidden=b,$.set(r))}function E(b){V=b,s(5,V)}const O=()=>{je($,r.compatibility=V?W:void 0,r)};function k(b){e.$$.not_equal(r.compatibility,b)&&(r.compatibility=b,$.set(r))}function Q(b){r.authors[b].user_id=this.value,$.set(r)}const pt=b=>T(b);return e.$$set=b=>{"onSubmit"in b&&s(13,w=b.onSubmit),"initialValues"in b&&s(14,y=b.initialValues),"submitText"in b&&s(1,C=b.submitText),"editing"in b&&s(2,D=b.editing)},e.$$.update=()=>{if(e.$$.dirty[0]&24){const b=r;b.tags&&(s(3,L=b.tags),delete b.tags),je($,r.tagIDs=L.map(F=>F.id),r)}e.$$.dirty[0]&16&&je($,r.compatibility=r.compatibility?r.compatibility:void 0,r),e.$$.dirty[0]&20&&(D||delete r.compatibility),e.$$.dirty[0]&16&&s(6,a=r.full_description||"")},[v,C,D,L,r,V,a,l,j,$,P,T,W,w,y,Nt,Z,S,G,x,Dt,p,E,O,k,Q,pt]}class ds extends ur{constructor(t){super(),dr(this,t,ls,ss,pr,{t:0,onSubmit:13,initialValues:14,submitText:1,editing:2},null,[-1,-1])}get t(){return this.$$.ctx[0]}}export{ds as M};
//# sourceMappingURL=ModForm.JU9vBuj3.js.map
