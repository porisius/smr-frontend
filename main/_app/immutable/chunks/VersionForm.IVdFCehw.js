import{S as de,i as pe,s as ge,a2 as Qt,e as d,T as y,a as P,A as qt,c as p,d as b,U as S,f as u,g as V,F as rt,D as zt,a0 as mt,G as A,ah as ve,j,I as n,ai as Xt,H as Gt,W as Zt,a8 as be,V as O,m as at,k as $e,t as ht,l as Ee,a3 as ye,J as Lt,a1 as Se,a6 as we,Z as Ht,b as Kt,Q as Vt,R as he,q as X,r as xe,w as Ne,aj as Pe,a4 as Ve,a5 as Ae}from"./vendor.qkHm75Lx.js";import{o as Re,a as Te,b as ke,f as Yt,s as te,V as Wt,c as Ie,v as Oe,r as je}from"./forms.IYQPp5Hs.js";import{J as Ce}from"./jszip.II_GkLOD.js";import{v as De}from"./uplugin.0sHHGQKl.js";import{T as ee,V as Be}from"./graphql.XSrPrpK2.js";import{t as _e}from"./forms.wVrcIDji.js";import{m as le}from"./markdown.JOb1FNHv.js";import{b as se}from"./formatting.G9yDJMit.js";const qe=Object.keys(ee).map(l=>ee[l]).filter(l=>typeof l=="string"),ie=async(l,t)=>{const e=await De(l);if(e.length!=0)return{message:`invalid ${t}.uplugin`,extended:e};const i=JSON.parse(l);let s=!1;for(const r of i.Plugins)if(r.Name==="SML"){s=!0;break}return s?i:{message:"mod must depend on SML"}};function ze(l){const t=l.split("/");return t[t.length-1]}function Ge(l){const t=l.split("/");return t.slice(0,t.length-1).join("/")}const Le=async(l,t)=>new Ce().loadAsync(l).then(async i=>{const s=i.filter(a=>ze(a)==t+".uplugin");if(s.length===0)return{message:"Mod does not contain any "+t+".uplugin files"};if(s.length===1&&s[0].name===t+".uplugin"){const a=await ie(await s[0].async("string"),t);return"message"in a?a:{uplugin:a,objects:Object.keys(i.files).filter(c=>c.endsWith(".so")||c.endsWith(".dll")||c.endsWith(".pak")),targets:["Windows"]}}if(s.some(a=>a.name===t+".uplugin"))return{message:"Mod contains "+t+".uplugin files in the root directory. New uploads must use the multi-target format. Read more on the docs: https://docs.ficsit.app/satisfactory-modding/latest/Development/UpdatingToDedi.html"};const r=s.map(a=>Ge(a.name)),m=r.filter(a=>!qe.includes(a));if(m.length!==0)return{message:`invalid target(s): ${m.join(", ")}`};const h=i.filter(a=>!r.some(c=>a.startsWith(c+"/")));if(h.length!==0)return{message:`file(s) outside target directories: ${h.map(a=>a.name).join(", ")}`};const g=await Promise.all(s.map(a=>a.async("string").catch(c=>{throw new Error(`invalid ${t}.uplugin: ${c}`)})));if(!g.every(a=>a===g[0]))return{message:"Mod contains "+t+".uplugin files with different contents"};const o=await ie(g[0],t);return"message"in o?o:{uplugin:o,objects:Object.keys(i.files).filter(a=>a.endsWith(".so")||a.endsWith(".dll")||a.endsWith(".pak")),targets:r}}).catch(i=>({message:"invalid zip/smod file: "+i})),We=(l,t)=>Re({file:Te(ke().superRefine(async(e,i)=>{if(!("name"in e&&"size"in e&&"type"in e)){i.addIssue({message:"Unknown file error",code:Yt.custom});return}const s=await Le(e,l);if("message"in s){i.addIssue({message:s.message,code:Yt.custom});return}t.set(s)})),changelog:te(),stability:te()});function ne(l,t,e){const i=l.slice();return i[20]=t[e],i}function ae(l,t,e){const i=l.slice();return i[23]=t[e],i}function Ue(l){let t,e=(l[19]||"")+"",i;return{c(){t=d("span"),i=y(e),this.h()},l(s){t=p(s,"SPAN",{class:!0});var r=b(t);i=S(r,e),r.forEach(u),this.h()},h(){A(t,"class","validation-message")},m(s,r){j(s,t,r),n(t,i)},p(s,r){r&524288&&e!==(e=(s[19]||"")+"")&&O(i,e)},d(s){s&&u(t)}}}function re(l){let t,e,i=l[7]("file")+"",s,r,m,h,g,o,a,c,f,$;o=new Wt({props:{for:"file",$$slots:{default:[Me,({messages:v})=>({19:v}),({messages:v})=>v?524288:0]},$$scope:{ctx:l}}});let w=l[4].file&&oe(l),E=l[8]&&fe(l);return{c(){t=d("div"),e=d("label"),s=y(i),r=y(" *"),m=P(),h=d("input"),g=P(),qt(o.$$.fragment),a=P(),w&&w.c(),c=P(),E&&E.c(),f=Kt(),this.h()},l(v){t=p(v,"DIV",{class:!0});var N=b(t);e=p(N,"LABEL",{for:!0});var R=b(e);s=S(R,i),r=S(R," *"),R.forEach(u),m=V(N),h=p(N,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),g=V(N),zt(o.$$.fragment,N),N.forEach(u),a=V(v),w&&w.l(v),c=V(v),E&&E.l(v),f=Kt(),this.h()},h(){A(e,"for","file"),A(h,"id","file"),A(h,"class","base-input"),A(h,"name","file"),A(h,"type","file"),A(h,"accept",".zip,.smod"),A(h,"placeholder","File"),A(t,"class","grid grid-flow-row gap-2")},m(v,N){j(v,t,N),n(t,e),n(e,s),n(e,r),n(t,m),n(t,h),n(t,g),Gt(o,t,null),j(v,a,N),w&&w.m(v,N),j(v,c,N),E&&E.m(v,N),j(v,f,N),$=!0},p(v,N){(!$||N&128)&&i!==(i=v[7]("file")+"")&&O(s,i);const R={};N&67633152&&(R.$$scope={dirty:N,ctx:v}),o.$set(R),v[4].file?w?w.p(v,N):(w=oe(v),w.c(),w.m(c.parentNode,c)):w&&(w.d(1),w=null),v[8]?E?E.p(v,N):(E=fe(v),E.c(),E.m(f.parentNode,f)):E&&(E.d(1),E=null)},i(v){$||(at(o.$$.fragment,v),$=!0)},o(v){ht(o.$$.fragment,v),$=!1},d(v){v&&(u(t),u(a),u(c),u(f)),Lt(o),w&&w.d(v),E&&E.d(v)}}}function Me(l){let t,e=(l[19]||"")+"",i;return{c(){t=d("span"),i=y(e),this.h()},l(s){t=p(s,"SPAN",{class:!0});var r=b(t);i=S(r,e),r.forEach(u),this.h()},h(){A(t,"class","validation-message")},m(s,r){j(s,t,r),n(t,i)},p(s,r){r&524288&&e!==(e=(s[19]||"")+"")&&O(i,e)},d(s){s&&u(t)}}}function oe(l){let t,e,i,s=l[7]("file-type")+"",r,m,h,g=(l[4].file.type||"Unknown")+"",o,a,c,f,$,w=l[7]("file-size")+"",E,v,N,R=se(l[4].file.size)+"",U;return{c(){t=d("div"),e=d("span"),i=d("strong"),r=y(s),m=y(":"),h=P(),o=y(g),a=d("br"),c=P(),f=d("span"),$=d("strong"),E=y(w),v=y(":"),N=P(),U=y(R)},l(C){t=p(C,"DIV",{});var k=b(t);e=p(k,"SPAN",{});var G=b(e);i=p(G,"STRONG",{});var x=b(i);r=S(x,s),m=S(x,":"),x.forEach(u),h=V(G),o=S(G,g),G.forEach(u),a=p(k,"BR",{}),c=V(k),f=p(k,"SPAN",{});var W=b(f);$=p(W,"STRONG",{});var _=b($);E=S(_,w),v=S(_,":"),_.forEach(u),N=V(W),U=S(W,R),W.forEach(u),k.forEach(u)},m(C,k){j(C,t,k),n(t,e),n(e,i),n(i,r),n(i,m),n(e,h),n(e,o),n(t,a),n(t,c),n(t,f),n(f,$),n($,E),n($,v),n(f,N),n(f,U)},p(C,k){k&128&&s!==(s=C[7]("file-type")+"")&&O(r,s),k&16&&g!==(g=(C[4].file.type||"Unknown")+"")&&O(o,g),k&128&&w!==(w=C[7]("file-size")+"")&&O(E,w),k&16&&R!==(R=se(C[4].file.size)+"")&&O(U,R)},d(C){C&&u(t)}}}function fe(l){let t,e,i,s,r=l[7]("version")+"",m,h,g,o=l[8].uplugin.Version+"",a,c,f,$,w,E,v="Targets:",N,R=l[8].targets.join(", ")+"",U,C,k,G;function x(I,T){return I[8].uplugin.SemVersion!==void 0?Je:Fe}let W=x(l),_=W(l),q=l[8].uplugin.Plugins!==void 0&&ce(l);function it(I,T){return I[8].objects&&I[8].objects.length>0?He:Ze}let tt=it(l),B=tt(l);return{c(){t=d("div"),e=d("p"),i=d("span"),s=d("strong"),m=y(r),h=y(":"),g=P(),a=y(o),c=d("br"),f=P(),_.c(),$=P(),w=d("span"),E=d("strong"),E.textContent=v,N=P(),U=y(R),C=d("br"),k=P(),q&&q.c(),G=P(),B.c(),this.h()},l(I){t=p(I,"DIV",{});var T=b(t);e=p(T,"P",{class:!0});var et=b(e);i=p(et,"SPAN",{});var M=b(i);s=p(M,"STRONG",{});var K=b(s);m=S(K,r),h=S(K,":"),K.forEach(u),g=V(M),a=S(M,o),c=p(M,"BR",{}),M.forEach(u),f=V(et),_.l(et),et.forEach(u),$=V(T),w=p(T,"SPAN",{});var Z=b(w);E=p(Z,"STRONG",{"data-svelte-h":!0}),rt(E)!=="svelte-8zo0qs"&&(E.textContent=v),N=V(Z),U=S(Z,R),C=p(Z,"BR",{}),Z.forEach(u),k=V(T),q&&q.l(T),G=V(T),B.l(T),T.forEach(u),this.h()},h(){A(e,"class","mb-4")},m(I,T){j(I,t,T),n(t,e),n(e,i),n(i,s),n(s,m),n(s,h),n(i,g),n(i,a),n(i,c),n(e,f),_.m(e,null),n(t,$),n(t,w),n(w,E),n(w,N),n(w,U),n(w,C),n(t,k),q&&q.m(t,null),n(t,G),B.m(t,null)},p(I,T){T&128&&r!==(r=I[7]("version")+"")&&O(m,r),T&256&&o!==(o=I[8].uplugin.Version+"")&&O(a,o),W===(W=x(I))&&_?_.p(I,T):(_.d(1),_=W(I),_&&(_.c(),_.m(e,null))),T&256&&R!==(R=I[8].targets.join(", ")+"")&&O(U,R),I[8].uplugin.Plugins!==void 0?q?q.p(I,T):(q=ce(I),q.c(),q.m(t,G)):q&&(q.d(1),q=null),tt===(tt=it(I))&&B?B.p(I,T):(B.d(1),B=tt(I),B&&(B.c(),B.m(t,null)))},d(I){I&&u(t),_.d(),q&&q.d(),B.d()}}}function Fe(l){let t,e=l[7]("version-form.missing-sem-version")+"",i,s,r=l[8].uplugin.Version+"",m,h;return{c(){t=d("span"),i=y(e),s=P(),m=y(r),h=y(".0.0"),this.h()},l(g){t=p(g,"SPAN",{class:!0});var o=b(t);i=S(o,e),s=V(o),m=S(o,r),h=S(o,".0.0"),o.forEach(u),this.h()},h(){A(t,"class","text-yellow-600")},m(g,o){j(g,t,o),n(t,i),n(t,s),n(t,m),n(t,h)},p(g,o){o&128&&e!==(e=g[7]("version-form.missing-sem-version")+"")&&O(i,e),o&256&&r!==(r=g[8].uplugin.Version+"")&&O(m,r)},d(g){g&&u(t)}}}function Je(l){let t,e,i="SemVersion:",s,r=l[8].uplugin.SemVersion+"",m,h;return{c(){t=d("span"),e=d("strong"),e.textContent=i,s=P(),m=y(r),h=d("br")},l(g){t=p(g,"SPAN",{});var o=b(t);e=p(o,"STRONG",{"data-svelte-h":!0}),rt(e)!=="svelte-1q9kpdp"&&(e.textContent=i),s=V(o),m=S(o,r),h=p(o,"BR",{}),o.forEach(u)},m(g,o){j(g,t,o),n(t,e),n(t,s),n(t,m),n(t,h)},p(g,o){o&256&&r!==(r=g[8].uplugin.SemVersion+"")&&O(m,r)},d(g){g&&u(t)}}}function ce(l){let t,e,i=l[7]("dependencies")+"",s,r,m,h,g=Vt(l[8].uplugin.Plugins),o=[];for(let a=0;a<g.length;a+=1)o[a]=ue(ae(l,g,a));return{c(){t=d("p"),e=d("strong"),s=y(i),r=y(":"),m=d("br"),h=P();for(let a=0;a<o.length;a+=1)o[a].c()},l(a){t=p(a,"P",{});var c=b(t);e=p(c,"STRONG",{});var f=b(e);s=S(f,i),r=S(f,":"),f.forEach(u),m=p(c,"BR",{}),h=V(c);for(let $=0;$<o.length;$+=1)o[$].l(c);c.forEach(u)},m(a,c){j(a,t,c),n(t,e),n(e,s),n(e,r),n(t,m),n(t,h);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null)},p(a,c){if(c&128&&i!==(i=a[7]("dependencies")+"")&&O(s,i),c&256){g=Vt(a[8].uplugin.Plugins);let f;for(f=0;f<g.length;f+=1){const $=ae(a,g,f);o[f]?o[f].p($,c):(o[f]=ue($),o[f].c(),o[f].m(t,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=g.length}},d(a){a&&u(t),he(o,a)}}}function Qe(l){let t,e="*";return{c(){t=d("span"),t.textContent=e},l(i){t=p(i,"SPAN",{"data-svelte-h":!0}),rt(t)!=="svelte-140b0co"&&(t.textContent=e)},m(i,s){j(i,t,s)},p:X,d(i){i&&u(t)}}}function Xe(l){let t,e=l[23].SemVersion+"",i;return{c(){t=d("span"),i=y(e)},l(s){t=p(s,"SPAN",{});var r=b(t);i=S(r,e),r.forEach(u)},m(s,r){j(s,t,r),n(t,i)},p(s,r){r&256&&e!==(e=s[23].SemVersion+"")&&O(i,e)},d(s){s&&u(t)}}}function ue(l){let t,e=l[23].Name+"",i,s,r,m,h;function g(c,f){return c[23].SemVersion?Xe:Qe}let o=g(l),a=o(l);return{c(){t=d("strong"),i=y(e),s=y(":"),r=P(),a.c(),m=P(),h=d("br")},l(c){t=p(c,"STRONG",{});var f=b(t);i=S(f,e),s=S(f,":"),f.forEach(u),r=V(c),a.l(c),m=V(c),h=p(c,"BR",{})},m(c,f){j(c,t,f),n(t,i),n(t,s),j(c,r,f),a.m(c,f),j(c,m,f),j(c,h,f)},p(c,f){f&256&&e!==(e=c[23].Name+"")&&O(i,e),o===(o=g(c))&&a?a.p(c,f):(a.d(1),a=o(c),a&&(a.c(),a.m(m.parentNode,m)))},d(c){c&&(u(t),u(r),u(m),u(h)),a.d(c)}}}function Ze(l){let t,e,i=l[7]("version-form.missing-sem-version")+"",s;return{c(){t=d("p"),e=d("span"),s=y(i),this.h()},l(r){t=p(r,"P",{});var m=b(t);e=p(m,"SPAN",{class:!0});var h=b(e);s=S(h,i),h.forEach(u),m.forEach(u),this.h()},h(){A(e,"class","text-yellow-600")},m(r,m){j(r,t,m),n(t,e),n(e,s)},p(r,m){m&128&&i!==(i=r[7]("version-form.missing-sem-version")+"")&&O(s,i)},d(r){r&&u(t)}}}function He(l){let t,e,i=l[7]("objects")+"",s,r,m,h,g=Vt(l[8].objects),o=[];for(let a=0;a<g.length;a+=1)o[a]=me(ne(l,g,a));return{c(){t=d("p"),e=d("strong"),s=y(i),r=y(":"),m=d("br"),h=P();for(let a=0;a<o.length;a+=1)o[a].c()},l(a){t=p(a,"P",{});var c=b(t);e=p(c,"STRONG",{});var f=b(e);s=S(f,i),r=S(f,":"),f.forEach(u),m=p(c,"BR",{}),h=V(c);for(let $=0;$<o.length;$+=1)o[$].l(c);c.forEach(u)},m(a,c){j(a,t,c),n(t,e),n(e,s),n(e,r),n(t,m),n(t,h);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null)},p(a,c){if(c&128&&i!==(i=a[7]("objects")+"")&&O(s,i),c&256){g=Vt(a[8].objects);let f;for(f=0;f<g.length;f+=1){const $=ne(a,g,f);o[f]?o[f].p($,c):(o[f]=me($),o[f].c(),o[f].m(t,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=g.length}},d(a){a&&u(t),he(o,a)}}}function me(l){let t,e=l[20]+"",i,s,r;return{c(){t=d("span"),i=y(e),s=P(),r=d("br")},l(m){t=p(m,"SPAN",{});var h=b(t);i=S(h,e),h.forEach(u),s=V(m),r=p(m,"BR",{})},m(m,h){j(m,t,h),n(t,i),j(m,s,h),j(m,r,h)},p(m,h){h&256&&e!==(e=m[20]+"")&&O(i,e)},d(m){m&&(u(t),u(s),u(r))}}}function Ke(l){let t,e=(l[19]||"")+"",i;return{c(){t=d("span"),i=y(e),this.h()},l(s){t=p(s,"SPAN",{class:!0});var r=b(t);i=S(r,e),r.forEach(u),this.h()},h(){A(t,"class","validation-message")},m(s,r){j(s,t,r),n(t,i)},p(s,r){r&524288&&e!==(e=(s[19]||"")+"")&&O(i,e)},d(s){s&&u(t)}}}function Ye(l){return{c:X,l:X,m:X,p:X,d:X}}function tl(l){let t,e,i=l[18]+"";return{c(){t=d("div"),e=new Ve(!1),this.h()},l(s){t=p(s,"DIV",{class:!0});var r=b(t);e=Ae(r,!1),r.forEach(u),this.h()},h(){e.a=null,A(t,"class","markdown-content right svelte-1q5q8ki")},m(s,r){j(s,t,r),e.m(i,t)},p(s,r){r&64&&i!==(i=s[18]+"")&&e.p(i)},d(s){s&&u(t)}}}function el(l){return{c:X,l:X,m:X,p:X,d:X}}function ll(l){let t,e,i,s,r,m=l[7]("stability")+"",h,g,o,a,c,f="Alpha",$,w="Beta",E,v="Release",N,R,U,C,k,G,x,W,_=l[7]("changelog")+"",q,it,tt,B,I,T,et,M,K,Z=l[7]("preview")+"",dt,At,Rt,pt,Tt,Y,ot=l[7]("version-form.agreement-to")+"",gt,kt,lt,ft=l[7]("content-policy")+"",vt,It,Ot,ct,H,nt,bt,jt,$t,Q,Ct,Ut;R=new Wt({props:{for:"stability",$$slots:{default:[Ue,({messages:z})=>({19:z}),({messages:z})=>z?524288:0]},$$scope:{ctx:l}}});let L=!l[3]&&re(l);T=new Wt({props:{for:"changelog",$$slots:{default:[Ke,({messages:z})=>({19:z}),({messages:z})=>z?524288:0]},$$scope:{ctx:l}}});let F={ctx:l,current:null,token:null,hasCatch:!1,pending:el,then:tl,catch:Ye,value:18};return Qt(pt=le(l[6]),F),{c(){t=d("form"),e=d("div"),i=d("div"),s=d("label"),r=d("span"),h=y(m),g=y(" *"),o=P(),a=d("select"),c=d("option"),c.textContent=f,$=d("option"),$.textContent=w,E=d("option"),E.textContent=v,N=P(),qt(R.$$.fragment),U=P(),L&&L.c(),C=P(),k=d("div"),G=d("div"),x=d("label"),W=d("span"),q=y(_),it=y(" *"),tt=P(),B=d("textarea"),I=P(),qt(T.$$.fragment),et=P(),M=d("div"),K=d("span"),dt=y(Z),At=y(":"),Rt=P(),F.block.c(),Tt=P(),Y=d("div"),gt=y(ot),kt=P(),lt=d("a"),vt=y(ft),It=y("."),Ot=P(),ct=d("div"),H=d("button"),nt=d("span"),bt=y(l[1]),jt=P(),$t=y(l[2]),this.h()},l(z){t=p(z,"FORM",{});var D=b(t);e=p(D,"DIV",{class:!0});var J=b(e);i=p(J,"DIV",{class:!0});var st=b(i);s=p(st,"LABEL",{class:!0});var Et=b(s);r=p(Et,"SPAN",{});var Dt=b(r);h=S(Dt,m),g=S(Dt," *"),Dt.forEach(u),o=V(Et),a=p(Et,"SELECT",{class:!0});var yt=b(a);c=p(yt,"OPTION",{"data-svelte-h":!0}),rt(c)!=="svelte-4emh7a"&&(c.textContent=f),$=p(yt,"OPTION",{"data-svelte-h":!0}),rt($)!=="svelte-14mt04m"&&($.textContent=w),E=p(yt,"OPTION",{"data-svelte-h":!0}),rt(E)!=="svelte-zdik1o"&&(E.textContent=v),yt.forEach(u),Et.forEach(u),N=V(st),zt(R.$$.fragment,st),st.forEach(u),U=V(J),L&&L.l(J),C=V(J),k=p(J,"DIV",{class:!0});var St=b(k);G=p(St,"DIV",{class:!0});var wt=b(G);x=p(wt,"LABEL",{class:!0});var xt=b(x);W=p(xt,"SPAN",{});var Bt=b(W);q=S(Bt,_),it=S(Bt," *"),Bt.forEach(u),tt=V(xt),B=p(xt,"TEXTAREA",{class:!0,rows:!0}),b(B).forEach(u),xt.forEach(u),I=V(wt),zt(T.$$.fragment,wt),wt.forEach(u),et=V(St),M=p(St,"DIV",{class:!0});var Nt=b(M);K=p(Nt,"SPAN",{});var _t=b(K);dt=S(_t,Z),At=S(_t,":"),_t.forEach(u),Rt=V(Nt),F.block.l(Nt),Nt.forEach(u),St.forEach(u),Tt=V(J),Y=p(J,"DIV",{class:!0});var ut=b(Y);gt=S(ut,ot),kt=V(ut),lt=p(ut,"A",{href:!0,class:!0});var Mt=b(lt);vt=S(Mt,ft),Mt.forEach(u),It=S(ut,"."),ut.forEach(u),Ot=V(J),ct=p(J,"DIV",{});var Ft=b(ct);H=p(Ft,"BUTTON",{class:!0,type:!0});var Pt=b(H);nt=p(Pt,"SPAN",{class:!0});var Jt=b(nt);bt=S(Jt,l[1]),Jt.forEach(u),jt=V(Pt),$t=S(Pt,l[2]),Pt.forEach(u),Ft.forEach(u),J.forEach(u),D.forEach(u),this.h()},h(){c.__value="alpha",mt(c,c.__value),$.__value="beta",mt($,$.__value),E.__value="release",mt(E,E.__value),A(a,"class","select"),l[4].stability===void 0&&ve(()=>l[15].call(a)),A(s,"class","label"),A(i,"class","grid grid-flow-row gap-2"),A(B,"class","vertical-textarea textarea p-2"),B.required=!0,A(B,"rows",10),A(x,"class","label"),A(G,"class","grid grid-flow-row auto-rows-max gap-2"),A(M,"class","grid grid-flow-row auto-rows-max gap-2"),A(k,"class","split grid gap-6 svelte-1q5q8ki"),A(lt,"href","/content-policy"),A(lt,"class","svelte-1q5q8ki"),A(Y,"class","text-muted"),A(nt,"class","material-icons pr-2"),A(H,"class","variant-ghost-primary btn"),A(H,"type","submit"),H.disabled=l[5],A(e,"class","grid grid-flow-row gap-6")},m(z,D){j(z,t,D),n(t,e),n(e,i),n(i,s),n(s,r),n(r,h),n(r,g),n(s,o),n(s,a),n(a,c),n(a,$),n(a,E),Xt(a,l[4].stability,!0),n(i,N),Gt(R,i,null),n(e,U),L&&L.m(e,null),n(e,C),n(e,k),n(k,G),n(G,x),n(x,W),n(W,q),n(W,it),n(x,tt),n(x,B),mt(B,l[4].changelog),n(G,I),Gt(T,G,null),n(k,et),n(k,M),n(M,K),n(K,dt),n(K,At),n(M,Rt),F.block.m(M,F.anchor=null),F.mount=()=>M,F.anchor=null,n(e,Tt),n(e,Y),n(Y,gt),n(Y,kt),n(Y,lt),n(lt,vt),n(Y,It),n(e,Ot),n(e,ct),n(ct,H),n(H,nt),n(nt,bt),n(H,jt),n(H,$t),Q=!0,Ct||(Ut=[Zt(a,"change",l[15]),Zt(B,"input",l[16]),be(l[10].call(null,t))],Ct=!0)},p(z,[D]){l=z,(!Q||D&128)&&m!==(m=l[7]("stability")+"")&&O(h,m),D&16&&Xt(a,l[4].stability);const J={};D&67633152&&(J.$$scope={dirty:D,ctx:l}),R.$set(J),l[3]?L&&($e(),ht(L,1,1,()=>{L=null}),Ee()):L?(L.p(l,D),D&8&&at(L,1)):(L=re(l),L.c(),at(L,1),L.m(e,C)),(!Q||D&128)&&_!==(_=l[7]("changelog")+"")&&O(q,_),D&16&&mt(B,l[4].changelog);const st={};D&67633152&&(st.$$scope={dirty:D,ctx:l}),T.$set(st),(!Q||D&128)&&Z!==(Z=l[7]("preview")+"")&&O(dt,Z),F.ctx=l,D&64&&pt!==(pt=le(l[6]))&&Qt(pt,F)||ye(F,l,D),(!Q||D&128)&&ot!==(ot=l[7]("version-form.agreement-to")+"")&&O(gt,ot),(!Q||D&128)&&ft!==(ft=l[7]("content-policy")+"")&&O(vt,ft),(!Q||D&2)&&O(bt,l[1]),(!Q||D&4)&&O($t,l[2]),(!Q||D&32)&&(H.disabled=l[5])},i(z){Q||(at(R.$$.fragment,z),at(L),at(T.$$.fragment,z),Q=!0)},o(z){ht(R.$$.fragment,z),ht(L),ht(T.$$.fragment,z),Q=!1},d(z){z&&u(t),Lt(R),L&&L.d(),Lt(T),F.block.d(),F.token=null,F=null,Ct=!1,Se(Ut)}}}function sl(l,t,e){let i,s,r,m=X,h=()=>(m(),m=xe(o,x=>e(7,r=x)),o),g;l.$$.on_destroy.push(()=>m());const{t:o}=we();h();let{modReference:a}=t,{onSubmit:c}=t,{initialValues:f={changelog:"",stability:Be.Release}}=t,{submitIcon:$}=t,{submitText:w=r("entry.create")}=t,{editing:E=!1}=t;const v=Ne();Ht(l,v,x=>e(8,g=x));let N=!1;const R=We(a,v),{form:U,data:C}=Ie({initialValues:f,extend:[Oe({schema:R}),je],onSubmit:x=>{e(5,N=!0),c(_e(x,R)).then(()=>e(5,N=!1))}});Ht(l,C,x=>e(4,s=x));function k(){s.stability=Pe(this),C.set(s)}function G(){s.changelog=this.value,C.set(s)}return l.$$set=x=>{"modReference"in x&&e(12,a=x.modReference),"onSubmit"in x&&e(13,c=x.onSubmit),"initialValues"in x&&e(14,f=x.initialValues),"submitIcon"in x&&e(1,$=x.submitIcon),"submitText"in x&&e(2,w=x.submitText),"editing"in x&&e(3,E=x.editing)},l.$$.update=()=>{l.$$.dirty&16&&e(6,i=s.changelog||"")},[o,$,w,E,s,N,i,r,g,v,U,C,a,c,f,k,G]}class ml extends de{constructor(t){super(),pe(this,t,sl,ll,ge,{t:0,modReference:12,onSubmit:13,initialValues:14,submitIcon:1,submitText:2,editing:3})}get t(){return this.$$.ctx[0]}}export{ml as V};
//# sourceMappingURL=VersionForm.IVdFCehw.js.map
