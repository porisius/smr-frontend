import{S as be,i as we,s as xe,b as Tt,j as S,q as O,f as o,aC as Se,al as _e,aD as Ne,an as Xt,e as b,aa as H,c as w,d as _,ab as R,a7 as v,a5 as f,a as P,g as A,ac as J,u as rt,ad as st,bd as ie,aP as ye,aH as Gt,Z as N,_ as q,$ as U,J as qe,ae as at,be as Ue,m as g,k as St,t as E,l as Nt,a1 as L,aQ as Ee,aM as Le,b2 as ke}from"./vendor-93f46a94.js";import{o as At,s as et,a as Mt,b as Me,l as Te,d as ne,e as He,T as _t,V as bt,c as Re,v as We,r as ze,f as Ce}from"./forms-5fcb6172.js";import{t as Oe}from"./forms-2903de53.js";import{m as oe}from"./markdown-6a2ff7f0.js";import{t as Ze,C as fe}from"./graphql-f19d0585.js";import{a as ce}from"./paths-1c47712a.js";import{M as je}from"./ModCompatibilityEdit-13c30fdc.js";const ue=At({name:et().min(3).max(32),mod_reference:et().min(3).max(32).regex(/^([a-zA-Z][a-zA-Z0-9_]*)$/).refine(async()=>!0),short_description:et().min(16).max(128),full_description:Mt(et()),logo:Mt(Me().refine(a=>"name"in a&&"size"in a&&"type"in a)),source_url:et().url().optional().or(Te("")),authors:Mt(At({role:et(),user_id:et()}).array()),compatibility:Mt(At({EA:At({state:et(),note:ne()}),EXP:At({state:et(),note:ne()})})),hidden:He()});function Be(a){let t,r;return{c(){t=b("p"),r=H("Unknown User ID"),this.h()},l(s){t=w(s,"P",{class:!0});var e=_(t);r=R(e,"Unknown User ID"),e.forEach(o),this.h()},h(){v(t,"class","mr-2 whitespace-nowrap")},m(s,e){S(s,t,e),f(t,r)},p:O,d(s){s&&o(t)}}}function Ye(a){let t,r,s,e,l,i,h=a[0].data.getUser.username+"",d;return{c(){t=b("div"),r=b("div"),e=P(),l=b("div"),i=b("span"),d=H(h),this.h()},l(p){t=w(p,"DIV",{class:!0});var c=_(t);r=w(c,"DIV",{class:!0,style:!0}),_(r).forEach(o),e=A(c),l=w(c,"DIV",{class:!0});var x=_(l);i=w(x,"SPAN",{class:!0});var V=_(i);d=R(V,h),V.forEach(o),x.forEach(o),c.forEach(o),this.h()},h(){v(r,"class","rounded-full bg-cover w-7 h-7"),v(r,"style",s=`background-image: url("${a[0].data.getUser.avatar||ce+"/images/no_image.webp"}")`),v(i,"class","text-yellow-500"),v(l,"class","grid grid-flow-row"),v(t,"class","grid grid-flow-col auto-cols-max gap-x-2 mr-2")},m(p,c){S(p,t,c),f(t,r),f(t,e),f(t,l),f(l,i),f(i,d)},p(p,c){c&1&&s!==(s=`background-image: url("${p[0].data.getUser.avatar||ce+"/images/no_image.webp"}")`)&&v(r,"style",s),c&1&&h!==(h=p[0].data.getUser.username+"")&&J(d,h)},d(p){p&&o(t)}}}function Fe(a){let t,r,s=a[0].error.message+"",e;return{c(){t=b("p"),r=H("Oh no... "),e=H(s),this.h()},l(l){t=w(l,"P",{class:!0});var i=_(t);r=R(i,"Oh no... "),e=R(i,s),i.forEach(o),this.h()},h(){v(t,"class","mr-2")},m(l,i){S(l,t,i),f(t,r),f(t,e)},p(l,i){i&1&&s!==(s=l[0].error.message+"")&&J(e,s)},d(l){l&&o(t)}}}function Je(a){let t,r;return{c(){t=b("p"),r=H("Loading..."),this.h()},l(s){t=w(s,"P",{class:!0});var e=_(t);r=R(e,"Loading..."),e.forEach(o),this.h()},h(){v(t,"class","mr-2")},m(s,e){S(s,t,e),f(t,r)},p:O,d(s){s&&o(t)}}}function Qe(a){let t;function r(l,i){return l[0].fetching?Je:l[0].error?Fe:l[0].data.getUser?Ye:Be}let s=r(a),e=s(a);return{c(){e.c(),t=Tt()},l(l){e.l(l),t=Tt()},m(l,i){e.m(l,i),S(l,t,i)},p(l,[i]){s===(s=r(l))&&e?e.p(l,i):(e.d(1),e=s(l),e&&(e.c(),e.m(t.parentNode,t)))},i:O,o:O,d(l){e.d(l),l&&o(t)}}}function Xe(a,t,r){let s,{id:e}=t;const l=Se(Ze,{user:e});return _e(a,l,i=>r(0,s=i)),Ne(l),a.$$set=i=>{"id"in i&&r(2,e=i.id)},a.$$.update=()=>{a.$$.dirty&5&&(Xt(l,s.variables.user=e,s),s.reexecute())},[s,l,e]}class Ge extends be{constructor(t){super(),we(this,t,Xe,Qe,xe,{id:2})}}function $e(a,t,r){const s=a.slice();return s[23]=t[r],s[24]=t,s[25]=r,s}function Ke(a){let t,r=(a[26]||"")+"",s;return{c(){t=b("span"),s=H(r),this.h()},l(e){t=w(e,"SPAN",{class:!0});var l=_(t);s=R(l,r),l.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,l){S(e,t,l),f(t,s)},p(e,l){l&67108864&&r!==(r=(e[26]||"")+"")&&J(s,r)},d(e){e&&o(t)}}}function me(a){let t;return{c(){t=H(`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},l(r){t=R(r,`Warning! You will not be able to change this after creating the mod! Please ensure this is a unique modifier
            that closely matches the name of your mod!`)},m(r,s){S(r,t,s)},d(r){r&&o(t)}}}function tr(a){let t,r=!a[1]&&me();return{c(){r&&r.c(),t=Tt()},l(s){r&&r.l(s),t=Tt()},m(s,e){r&&r.m(s,e),S(s,t,e)},p(s,e){s[1]?r&&(r.d(1),r=null):r||(r=me(),r.c(),r.m(t.parentNode,t))},d(s){r&&r.d(s),s&&o(t)}}}function er(a){let t,r;return t=new Ce({props:{persistent:!a[1],slot:"helper",$$slots:{default:[tr]},$$scope:{ctx:a}}}),{c(){N(t.$$.fragment)},l(s){q(t.$$.fragment,s)},m(s,e){U(t,s,e),r=!0},p(s,e){const l={};e&2&&(l.persistent=!s[1]),e&268435458&&(l.$$scope={dirty:e,ctx:s}),t.$set(l)},i(s){r||(g(t.$$.fragment,s),r=!0)},o(s){E(t.$$.fragment,s),r=!1},d(s){L(t,s)}}}function rr(a){let t,r=(a[26]||"")+"",s;return{c(){t=b("span"),s=H(r),this.h()},l(e){t=w(e,"SPAN",{class:!0});var l=_(t);s=R(l,r),l.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,l){S(e,t,l),f(t,s)},p(e,l){l&67108864&&r!==(r=(e[26]||"")+"")&&J(s,r)},d(e){e&&o(t)}}}function sr(a){let t,r=(a[26]||"")+"",s;return{c(){t=b("span"),s=H(r),this.h()},l(e){t=w(e,"SPAN",{class:!0});var l=_(t);s=R(l,r),l.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,l){S(e,t,l),f(t,s)},p(e,l){l&67108864&&r!==(r=(e[26]||"")+"")&&J(s,r)},d(e){e&&o(t)}}}function ar(a){let t,r=(a[26]||"")+"",s;return{c(){t=b("span"),s=H(r),this.h()},l(e){t=w(e,"SPAN",{class:!0});var l=_(t);s=R(l,r),l.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,l){S(e,t,l),f(t,s)},p(e,l){l&67108864&&r!==(r=(e[26]||"")+"")&&J(s,r)},d(e){e&&o(t)}}}function lr(a){return{c:O,l:O,m:O,p:O,d:O}}function ir(a){let t,r=a[27]+"";return{c(){t=b("div"),this.h()},l(s){t=w(s,"DIV",{class:!0});var e=_(t);e.forEach(o),this.h()},h(){v(t,"class","markdown-content right svelte-k92wki")},m(s,e){S(s,t,e),t.innerHTML=r},p(s,e){e&16&&r!==(r=s[27]+"")&&(t.innerHTML=r)},d(s){s&&o(t)}}}function nr(a){return{c:O,l:O,m:O,p:O,d:O}}function or(a){let t,r=(a[26]||"")+"",s;return{c(){t=b("span"),s=H(r),this.h()},l(e){t=w(e,"SPAN",{class:!0});var l=_(t);s=R(l,r),l.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,l){S(e,t,l),f(t,s)},p(e,l){l&67108864&&r!==(r=(e[26]||"")+"")&&J(s,r)},d(e){e&&o(t)}}}function fr(a){let t,r=(a[26]||"")+"",s;return{c(){t=b("span"),s=H(r),this.h()},l(e){t=w(e,"SPAN",{class:!0});var l=_(t);s=R(l,r),l.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,l){S(e,t,l),f(t,s)},p(e,l){l&67108864&&r!==(r=(e[26]||"")+"")&&J(s,r)},d(e){e&&o(t)}}}function cr(a){let t,r,s;function e(i){a[17](i)}let l={};return a[2].hidden!==void 0&&(l.checked=a[2].hidden),t=new Ee({props:l}),rt.push(()=>st(t,"checked",e)),{c(){N(t.$$.fragment)},l(i){q(t.$$.fragment,i)},m(i,h){U(t,i,h),s=!0},p(i,h){const d={};!r&&h&4&&(r=!0,d.checked=i[2].hidden,at(()=>r=!1)),t.$set(d)},i(i){s||(g(t.$$.fragment,i),s=!0)},o(i){E(t.$$.fragment,i),s=!1},d(i){L(t,i)}}}function ur(a){let t,r;return{c(){t=b("span"),r=H("Hidden"),this.h()},l(s){t=w(s,"SPAN",{slot:!0});var e=_(t);r=R(e,"Hidden"),e.forEach(o),this.h()},h(){v(t,"slot","label")},m(s,e){S(s,t,e),f(t,r)},p:O,d(s){s&&o(t)}}}function $r(a){let t,r=(a[26]||"")+"",s;return{c(){t=b("span"),s=H(r),this.h()},l(e){t=w(e,"SPAN",{class:!0});var l=_(t);s=R(l,r),l.forEach(o),this.h()},h(){v(t,"class","validation-message")},m(e,l){S(e,t,l),f(t,s)},p(e,l){l&67108864&&r!==(r=(e[26]||"")+"")&&J(s,r)},d(e){e&&o(t)}}}function de(a){let t,r,s,e,l,i,h,d,p,c,x,V;r=new ye({props:{align:"start",$$slots:{default:[mr]},$$scope:{ctx:a}}});let u=a[3]&&pe(a);c=new Gt({props:{type:"button",$$slots:{default:[pr]},$$scope:{ctx:a}}}),c.$on("click",a[7]);let z=a[2].authors,k=[];for(let m=0;m<z.length;m+=1)k[m]=ve($e(a,z,m));const Z=m=>E(k[m],1,1,()=>{k[m]=null});return{c(){t=b("div"),N(r.$$.fragment),s=P(),u&&u.c(),e=P(),l=b("div"),i=b("div"),h=b("h4"),d=H("Authors"),p=P(),N(c.$$.fragment),x=P();for(let m=0;m<k.length;m+=1)k[m].c();this.h()},l(m){t=w(m,"DIV",{});var I=_(t);q(r.$$.fragment,I),I.forEach(o),s=A(m),u&&u.l(m),e=A(m),l=w(m,"DIV",{class:!0});var M=_(l);i=w(M,"DIV",{class:!0});var j=_(i);h=w(j,"H4",{class:!0});var D=_(h);d=R(D,"Authors"),D.forEach(o),p=A(j),q(c.$$.fragment,j),j.forEach(o),x=A(M);for(let C=0;C<k.length;C+=1)k[C].l(M);M.forEach(o),this.h()},h(){v(h,"class","mr-4"),v(i,"class","flex items-baseline"),v(l,"class","grid grid-flow-row gap-2")},m(m,I){S(m,t,I),U(r,t,null),S(m,s,I),u&&u.m(m,I),S(m,e,I),S(m,l,I),f(l,i),f(i,h),f(h,d),f(i,p),U(c,i,null),f(l,x);for(let M=0;M<k.length;M+=1)k[M].m(l,null);V=!0},p(m,I){const M={};I&268435468&&(M.$$scope={dirty:I,ctx:m}),r.$set(M),m[3]?u?(u.p(m,I),I&8&&g(u,1)):(u=pe(m),u.c(),g(u,1),u.m(e.parentNode,e)):u&&(St(),E(u,1,1,()=>{u=null}),Nt());const j={};if(I&268435456&&(j.$$scope={dirty:I,ctx:m}),c.$set(j),I&260){z=m[2].authors;let D;for(D=0;D<z.length;D+=1){const C=$e(m,z,D);k[D]?(k[D].p(C,I),g(k[D],1)):(k[D]=ve(C),k[D].c(),g(k[D],1),k[D].m(l,null))}for(St(),D=z.length;D<k.length;D+=1)Z(D);Nt()}},i(m){if(!V){g(r.$$.fragment,m),g(u),g(c.$$.fragment,m);for(let I=0;I<z.length;I+=1)g(k[I]);V=!0}},o(m){E(r.$$.fragment,m),E(u),E(c.$$.fragment,m),k=k.filter(Boolean);for(let I=0;I<k.length;I+=1)E(k[I]);V=!1},d(m){m&&o(t),L(r),m&&o(s),u&&u.d(m),m&&o(e),m&&o(l),L(c),Le(k,m)}}}function mr(a){let t,r,s,e,l,i;function h(p){a[18](p)}let d={};return a[3]!==void 0&&(d.checked=a[3]),t=new Ee({props:d}),rt.push(()=>st(t,"checked",h)),t.$on("SMUISwitch:change",a[19]),{c(){N(t.$$.fragment),s=P(),e=b("span"),l=H("Edit compatibility information")},l(p){q(t.$$.fragment,p),s=A(p),e=w(p,"SPAN",{});var c=_(e);l=R(c,"Edit compatibility information"),c.forEach(o)},m(p,c){U(t,p,c),S(p,s,c),S(p,e,c),f(e,l),i=!0},p(p,c){const x={};!r&&c&8&&(r=!0,x.checked=p[3],at(()=>r=!1)),t.$set(x)},i(p){i||(g(t.$$.fragment,p),i=!0)},o(p){E(t.$$.fragment,p),i=!1},d(p){L(t,p),p&&o(s),p&&o(e)}}}function pe(a){let t,r,s;function e(i){a[20](i)}let l={};return a[2].compatibility!==void 0&&(l.compatibilityInfo=a[2].compatibility),t=new je({props:l}),rt.push(()=>st(t,"compatibilityInfo",e)),{c(){N(t.$$.fragment)},l(i){q(t.$$.fragment,i)},m(i,h){U(t,i,h),s=!0},p(i,h){const d={};!r&&h&4&&(r=!0,d.compatibilityInfo=i[2].compatibility,at(()=>r=!1)),t.$set(d)},i(i){s||(g(t.$$.fragment,i),s=!0)},o(i){E(t.$$.fragment,i),s=!1},d(i){L(t,i)}}}function dr(a){let t;return{c(){t=H("Add")},l(r){t=R(r,"Add")},m(r,s){S(r,t,s)},d(r){r&&o(t)}}}function pr(a){let t,r;return t=new ke({props:{$$slots:{default:[dr]},$$scope:{ctx:a}}}),{c(){N(t.$$.fragment)},l(s){q(t.$$.fragment,s)},m(s,e){U(t,s,e),r=!0},p(s,e){const l={};e&268435456&&(l.$$scope={dirty:e,ctx:s}),t.$set(l)},i(s){r||(g(t.$$.fragment,s),r=!0)},o(s){E(t.$$.fragment,s),r=!1},d(s){L(t,s)}}}function ge(a){let t,r;return t=new Ge({props:{id:a[2].authors[a[25]].user_id}}),{c(){N(t.$$.fragment)},l(s){q(t.$$.fragment,s)},m(s,e){U(t,s,e),r=!0},p(s,e){const l={};e&4&&(l.id=s[2].authors[s[25]].user_id),t.$set(l)},i(s){r||(g(t.$$.fragment,s),r=!0)},o(s){E(t.$$.fragment,s),r=!1},d(s){L(t,s)}}}function he(a){let t,r;function s(){return a[22](a[25])}return t=new Gt({props:{type:"button",variant:"raised",$$slots:{default:[hr]},$$scope:{ctx:a}}}),t.$on("click",s),{c(){N(t.$$.fragment)},l(e){q(t.$$.fragment,e)},m(e,l){U(t,e,l),r=!0},p(e,l){a=e;const i={};l&268435456&&(i.$$scope={dirty:l,ctx:a}),t.$set(i)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){E(t.$$.fragment,e),r=!1},d(e){L(t,e)}}}function gr(a){let t;return{c(){t=H("Remove")},l(r){t=R(r,"Remove")},m(r,s){S(r,t,s)},d(r){r&&o(t)}}}function hr(a){let t,r;return t=new ke({props:{$$slots:{default:[gr]},$$scope:{ctx:a}}}),{c(){N(t.$$.fragment)},l(s){q(t.$$.fragment,s)},m(s,e){U(t,s,e),r=!0},p(s,e){const l={};e&268435456&&(l.$$scope={dirty:e,ctx:s}),t.$set(l)},i(s){r||(g(t.$$.fragment,s),r=!0)},o(s){E(t.$$.fragment,s),r=!1},d(s){L(t,s)}}}function ve(a){let t,r,s,e,l,i,h,d=a[2].authors[a[25]].user_id&&ge(a);function p(V){a[21](V,a[25])}let c={label:"User ID",class:"mr-4 w-full",disabled:a[23].role==="creator"};a[2].authors[a[25]].user_id!==void 0&&(c.value=a[2].authors[a[25]].user_id),s=new _t({props:c}),rt.push(()=>st(s,"value",p));let x=a[23].role!=="creator"&&he(a);return{c(){t=b("div"),d&&d.c(),r=P(),N(s.$$.fragment),l=P(),x&&x.c(),i=P(),this.h()},l(V){t=w(V,"DIV",{class:!0});var u=_(t);d&&d.l(u),r=A(u),q(s.$$.fragment,u),l=A(u),x&&x.l(u),i=A(u),u.forEach(o),this.h()},h(){v(t,"class","flex items-baseline")},m(V,u){S(V,t,u),d&&d.m(t,null),f(t,r),U(s,t,null),f(t,l),x&&x.m(t,null),f(t,i),h=!0},p(V,u){a=V,a[2].authors[a[25]].user_id?d?(d.p(a,u),u&4&&g(d,1)):(d=ge(a),d.c(),g(d,1),d.m(t,r)):d&&(St(),E(d,1,1,()=>{d=null}),Nt());const z={};u&4&&(z.disabled=a[23].role==="creator"),!e&&u&4&&(e=!0,z.value=a[2].authors[a[25]].user_id,at(()=>e=!1)),s.$set(z),a[23].role!=="creator"?x?(x.p(a,u),u&4&&g(x,1)):(x=he(a),x.c(),g(x,1),x.m(t,i)):x&&(St(),E(x,1,1,()=>{x=null}),Nt())},i(V){h||(g(d),g(s.$$.fragment,V),g(x),h=!0)},o(V){E(d),E(s.$$.fragment,V),E(x),h=!1},d(V){V&&o(t),d&&d.d(),L(s),x&&x.d()}}}function vr(a){let t;return{c(){t=H(a[0])},l(r){t=R(r,a[0])},m(r,s){S(r,t,s)},p(r,s){s&1&&J(t,r[0])},d(r){r&&o(t)}}}function br(a){let t,r,s,e,l,i,h,d,p,c,x,V,u,z,k,Z,m,I,M,j,D,C,Y,yt,Et,$,wt,Q,kt,Ht,Rt,qt,Wt,F,xt,zt,Ct,X,Ot,lt,Zt,it,G,jt,Bt,nt,Yt,ot,ft,Ft,ct,Jt,Ut,It,ut,Lt,Qt,Kt;function Ie(n){a[12](n)}let te={label:"Name",required:!0};a[2].name!==void 0&&(te.value=a[2].name),e=new _t({props:te}),rt.push(()=>st(e,"value",Ie)),h=new bt({props:{for:"name",$$slots:{default:[Ke,({messages:n})=>({26:n}),({messages:n})=>n?67108864:0]},$$scope:{ctx:a}}});function De(n){a[13](n)}let ee={label:"Mod Reference",required:!0,disabled:a[1],$$slots:{helper:[er]},$$scope:{ctx:a}};a[2].mod_reference!==void 0&&(ee.value=a[2].mod_reference),c=new _t({props:ee}),rt.push(()=>st(c,"value",De)),u=new bt({props:{for:"mod_reference",$$slots:{default:[rr,({messages:n})=>({26:n}),({messages:n})=>n?67108864:0]},$$scope:{ctx:a}}});function Ve(n){a[14](n)}let re={label:"Short Description",required:!0};a[2].short_description!==void 0&&(re.value=a[2].short_description),Z=new _t({props:re}),rt.push(()=>st(Z,"value",Ve)),M=new bt({props:{for:"short_description",$$slots:{default:[sr,({messages:n})=>({26:n}),({messages:n})=>n?67108864:0]},$$scope:{ctx:a}}});function Pe(n){a[15](n)}let se={textarea:!0,class:"vertical-textarea",label:"Full Description",required:!0,input$rows:10};a[2].full_description!==void 0&&(se.value=a[2].full_description),Y=new _t({props:se}),rt.push(()=>st(Y,"value",Pe)),$=new bt({props:{for:"full_description",$$slots:{default:[ar,({messages:n})=>({26:n}),({messages:n})=>n?67108864:0]},$$scope:{ctx:a}}});let B={ctx:a,current:null,token:null,hasCatch:!1,pending:nr,then:ir,catch:lr,value:27};ie(qt=oe(a[4]),B),lt=new bt({props:{for:"logo",$$slots:{default:[or,({messages:n})=>({26:n}),({messages:n})=>n?67108864:0]},$$scope:{ctx:a}}});function Ae(n){a[16](n)}let ae={label:"Source URL"};a[2].source_url!==void 0&&(ae.value=a[2].source_url),G=new _t({props:ae}),rt.push(()=>st(G,"value",Ae)),nt=new bt({props:{for:"source_url",$$slots:{default:[fr,({messages:n})=>({26:n}),({messages:n})=>n?67108864:0]},$$scope:{ctx:a}}}),ft=new ye({props:{$$slots:{label:[ur],default:[cr]},$$scope:{ctx:a}}}),ct=new bt({props:{for:"hidden",$$slots:{default:[$r,({messages:n})=>({26:n}),({messages:n})=>n?67108864:0]},$$scope:{ctx:a}}});let W=a[1]&&de(a);return ut=new Gt({props:{variant:"outlined",type:"submit",$$slots:{default:[vr]},$$scope:{ctx:a}}}),{c(){t=b("form"),r=b("div"),s=b("div"),N(e.$$.fragment),i=P(),N(h.$$.fragment),d=P(),p=b("div"),N(c.$$.fragment),V=P(),N(u.$$.fragment),z=P(),k=b("div"),N(Z.$$.fragment),I=P(),N(M.$$.fragment),j=P(),D=b("div"),C=b("div"),N(Y.$$.fragment),Et=P(),N($.$$.fragment),wt=P(),Q=b("div"),kt=b("span"),Ht=H("Preview:"),Rt=P(),B.block.c(),Wt=P(),F=b("div"),xt=b("label"),zt=H("Logo:"),Ct=P(),X=b("input"),Ot=P(),N(lt.$$.fragment),Zt=P(),it=b("div"),N(G.$$.fragment),Bt=P(),N(nt.$$.fragment),Yt=P(),ot=b("div"),N(ft.$$.fragment),Ft=P(),N(ct.$$.fragment),Jt=P(),W&&W.c(),Ut=P(),It=b("div"),N(ut.$$.fragment),this.h()},l(n){t=w(n,"FORM",{});var y=_(t);r=w(y,"DIV",{class:!0});var T=_(r);s=w(T,"DIV",{class:!0});var $t=_(s);q(e.$$.fragment,$t),i=A($t),q(h.$$.fragment,$t),$t.forEach(o),d=A(T),p=w(T,"DIV",{class:!0});var K=_(p);q(c.$$.fragment,K),V=A(K),q(u.$$.fragment,K),K.forEach(o),z=A(T),k=w(T,"DIV",{class:!0});var mt=_(k);q(Z.$$.fragment,mt),I=A(mt),q(M.$$.fragment,mt),mt.forEach(o),j=A(T),D=w(T,"DIV",{class:!0});var dt=_(D);C=w(dt,"DIV",{class:!0});var pt=_(C);q(Y.$$.fragment,pt),Et=A(pt),q($.$$.fragment,pt),pt.forEach(o),wt=A(dt),Q=w(dt,"DIV",{class:!0});var gt=_(Q);kt=w(gt,"SPAN",{});var Dt=_(kt);Ht=R(Dt,"Preview:"),Dt.forEach(o),Rt=A(gt),B.block.l(gt),gt.forEach(o),dt.forEach(o),Wt=A(T),F=w(T,"DIV",{class:!0});var tt=_(F);xt=w(tt,"LABEL",{for:!0});var Vt=_(xt);zt=R(Vt,"Logo:"),Vt.forEach(o),Ct=A(tt),X=w(tt,"INPUT",{id:!0,class:!0,name:!0,type:!0,accept:!0,placeholder:!0}),Ot=A(tt),q(lt.$$.fragment,tt),tt.forEach(o),Zt=A(T),it=w(T,"DIV",{class:!0});var ht=_(it);q(G.$$.fragment,ht),Bt=A(ht),q(nt.$$.fragment,ht),ht.forEach(o),Yt=A(T),ot=w(T,"DIV",{class:!0});var vt=_(ot);q(ft.$$.fragment,vt),Ft=A(vt),q(ct.$$.fragment,vt),vt.forEach(o),Jt=A(T),W&&W.l(T),Ut=A(T),It=w(T,"DIV",{});var Pt=_(It);q(ut.$$.fragment,Pt),Pt.forEach(o),T.forEach(o),y.forEach(o),this.h()},h(){v(s,"class","grid grid-flow-row gap-2"),v(p,"class","grid grid-flow-row gap-2"),v(k,"class","grid grid-flow-row gap-2"),v(C,"class","grid grid-flow-row gap-2 auto-rows-max"),v(Q,"class","grid grid-flow-row gap-2 auto-rows-max"),v(D,"class","grid gap-6 split svelte-k92wki"),v(xt,"for","logo"),v(X,"id","logo"),v(X,"class","base-input"),v(X,"name","logo"),v(X,"type","file"),v(X,"accept","image/png,image/jpeg,image/gif"),v(X,"placeholder","Logo"),v(F,"class","grid grid-flow-row gap-2"),v(it,"class","grid grid-flow-row gap-2"),v(ot,"class","grid grid-flow-row gap-2"),v(r,"class","grid grid-flow-row gap-6")},m(n,y){S(n,t,y),f(t,r),f(r,s),U(e,s,null),f(s,i),U(h,s,null),f(r,d),f(r,p),U(c,p,null),f(p,V),U(u,p,null),f(r,z),f(r,k),U(Z,k,null),f(k,I),U(M,k,null),f(r,j),f(r,D),f(D,C),U(Y,C,null),f(C,Et),U($,C,null),f(D,wt),f(D,Q),f(Q,kt),f(kt,Ht),f(Q,Rt),B.block.m(Q,B.anchor=null),B.mount=()=>Q,B.anchor=null,f(r,Wt),f(r,F),f(F,xt),f(xt,zt),f(F,Ct),f(F,X),f(F,Ot),U(lt,F,null),f(r,Zt),f(r,it),U(G,it,null),f(it,Bt),U(nt,it,null),f(r,Yt),f(r,ot),U(ft,ot,null),f(ot,Ft),U(ct,ot,null),f(r,Jt),W&&W.m(r,null),f(r,Ut),f(r,It),U(ut,It,null),Lt=!0,Qt||(Kt=qe(a[5].call(null,t)),Qt=!0)},p(n,[y]){a=n;const T={};!l&&y&4&&(l=!0,T.value=a[2].name,at(()=>l=!1)),e.$set(T);const $t={};y&335544320&&($t.$$scope={dirty:y,ctx:a}),h.$set($t);const K={};y&2&&(K.disabled=a[1]),y&268435458&&(K.$$scope={dirty:y,ctx:a}),!x&&y&4&&(x=!0,K.value=a[2].mod_reference,at(()=>x=!1)),c.$set(K);const mt={};y&335544320&&(mt.$$scope={dirty:y,ctx:a}),u.$set(mt);const dt={};!m&&y&4&&(m=!0,dt.value=a[2].short_description,at(()=>m=!1)),Z.$set(dt);const pt={};y&335544320&&(pt.$$scope={dirty:y,ctx:a}),M.$set(pt);const gt={};!yt&&y&4&&(yt=!0,gt.value=a[2].full_description,at(()=>yt=!1)),Y.$set(gt);const Dt={};y&335544320&&(Dt.$$scope={dirty:y,ctx:a}),$.$set(Dt),B.ctx=a,y&16&&qt!==(qt=oe(a[4]))&&ie(qt,B)||Ue(B,a,y);const tt={};y&335544320&&(tt.$$scope={dirty:y,ctx:a}),lt.$set(tt);const Vt={};!jt&&y&4&&(jt=!0,Vt.value=a[2].source_url,at(()=>jt=!1)),G.$set(Vt);const ht={};y&335544320&&(ht.$$scope={dirty:y,ctx:a}),nt.$set(ht);const vt={};y&268435460&&(vt.$$scope={dirty:y,ctx:a}),ft.$set(vt);const Pt={};y&335544320&&(Pt.$$scope={dirty:y,ctx:a}),ct.$set(Pt),a[1]?W?(W.p(a,y),y&2&&g(W,1)):(W=de(a),W.c(),g(W,1),W.m(r,Ut)):W&&(St(),E(W,1,1,()=>{W=null}),Nt());const le={};y&268435457&&(le.$$scope={dirty:y,ctx:a}),ut.$set(le)},i(n){Lt||(g(e.$$.fragment,n),g(h.$$.fragment,n),g(c.$$.fragment,n),g(u.$$.fragment,n),g(Z.$$.fragment,n),g(M.$$.fragment,n),g(Y.$$.fragment,n),g($.$$.fragment,n),g(lt.$$.fragment,n),g(G.$$.fragment,n),g(nt.$$.fragment,n),g(ft.$$.fragment,n),g(ct.$$.fragment,n),g(W),g(ut.$$.fragment,n),Lt=!0)},o(n){E(e.$$.fragment,n),E(h.$$.fragment,n),E(c.$$.fragment,n),E(u.$$.fragment,n),E(Z.$$.fragment,n),E(M.$$.fragment,n),E(Y.$$.fragment,n),E($.$$.fragment,n),E(lt.$$.fragment,n),E(G.$$.fragment,n),E(nt.$$.fragment,n),E(ft.$$.fragment,n),E(ct.$$.fragment,n),E(W),E(ut.$$.fragment,n),Lt=!1},d(n){n&&o(t),L(e),L(h),L(c),L(u),L(Z),L(M),L(Y),L($),B.block.d(),B.token=null,B=null,L(lt),L(G),L(nt),L(ft),L(ct),W&&W.d(),L(ut),Qt=!1,Kt()}}}function wr(a,t,r){let s,e,{onSubmit:l}=t,{initialValues:i={full_description:"",mod_reference:"",name:"",short_description:"",source_url:"",hidden:!1,compatibility:{EA:{state:fe.Works,note:""},EXP:{state:fe.Works,note:""}}}}=t,{submitText:h="Create"}=t,{editing:d=!1}=t;const{form:p,data:c}=Re({initialValues:i,extend:[We({schema:ue}),ze],onSubmit:$=>l(Oe($,ue))});_e(a,c,$=>r(2,e=$));const x=()=>{e.authors.push({role:"editor",user_id:"",key:""}),c.set(e)},V=$=>{e.authors.splice($,1),c.set(e)};let u=!1;const z=e.compatibility;function k($){a.$$.not_equal(e.name,$)&&(e.name=$,c.set(e))}function Z($){a.$$.not_equal(e.mod_reference,$)&&(e.mod_reference=$,c.set(e))}function m($){a.$$.not_equal(e.short_description,$)&&(e.short_description=$,c.set(e))}function I($){a.$$.not_equal(e.full_description,$)&&(e.full_description=$,c.set(e))}function M($){a.$$.not_equal(e.source_url,$)&&(e.source_url=$,c.set(e))}function j($){a.$$.not_equal(e.hidden,$)&&(e.hidden=$,c.set(e))}function D($){u=$,r(3,u)}const C=()=>{Xt(c,e.compatibility=u?z:void 0,e)};function Y($){a.$$.not_equal(e.compatibility,$)&&(e.compatibility=$,c.set(e))}function yt($,wt){a.$$.not_equal(e.authors[wt].user_id,$)&&(e.authors[wt].user_id=$,c.set(e))}const Et=$=>V($);return a.$$set=$=>{"onSubmit"in $&&r(10,l=$.onSubmit),"initialValues"in $&&r(11,i=$.initialValues),"submitText"in $&&r(0,h=$.submitText),"editing"in $&&r(1,d=$.editing)},a.$$.update=()=>{a.$$.dirty&4&&Xt(c,e.compatibility=e.compatibility?e.compatibility:void 0,e),a.$$.dirty&6&&(d||delete e.compatibility),a.$$.dirty&4&&r(4,s=e.full_description||"")},[h,d,e,u,s,p,c,x,V,z,l,i,k,Z,m,I,M,j,D,C,Y,yt,Et]}class Vr extends be{constructor(t){super(),we(this,t,wr,br,xe,{onSubmit:10,initialValues:11,submitText:0,editing:1})}}export{Vr as M};
//# sourceMappingURL=ModForm-b21c0d5a.js.map
