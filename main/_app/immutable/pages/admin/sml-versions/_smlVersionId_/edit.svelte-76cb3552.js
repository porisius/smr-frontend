import{S as j,i as k,s as B,bb as C,u as H,ad as U,Z as x,a as T,e as I,aa as L,aV as Z,_ as E,f as $,g as A,c as w,d as D,ab as y,a7 as _,$ as v,j as p,a5 as M,ae as z,m as g,t as h,a1 as S,aC as F,al as G,aB as J,aD as K,bc as Q,b as N,k as R,l as W,ac as O,q as b}from"../../../../chunks/vendor-93f46a94.js";import{p as X}from"../../../../chunks/routing-c6322149.js";import{e as Y,U as tt}from"../../../../chunks/graphql-f19d0585.js";import{T as rt}from"../../../../chunks/Toast-a853093a.js";import{g as st}from"../../../../chunks/navigation-ce539261.js";import{S as et}from"../../../../chunks/SMLVersionForm-de4f067b.js";import{b as nt}from"../../../../chunks/paths-1c47712a.js";import{M as at}from"../../../../chunks/MetaDescriptors-5ea9952a.js";import"../../../../chunks/singletons-cdeec3fd.js";import"../../../../chunks/forms-5fcb6172.js";import"../../../../chunks/forms-2903de53.js";import"../../../../chunks/markdown-6a2ff7f0.js";import"../../../../chunks/extras-8984d02f.js";import"../../../../chunks/stores-84e1d086.js";function it(o){let t,s;return t=new et({props:{onSubmit:o[5],initialValues:o[3],submitText:"Save"}}),{c(){x(t.$$.fragment)},l(r){E(t.$$.fragment,r)},m(r,e){v(t,r,e),s=!0},p(r,e){const f={};e&8&&(f.initialValues=r[3]),t.$set(f)},i(r){s||(g(t.$$.fragment,r),s=!0)},o(r){h(t.$$.fragment,r),s=!1},d(r){S(t,r)}}}function ot(o){let t,s,r=o[1].error.message+"",e;return{c(){t=I("p"),s=L("Oh no... "),e=L(r)},l(f){t=w(f,"P",{});var i=D(t);s=y(i,"Oh no... "),e=y(i,r),i.forEach($)},m(f,i){p(f,t,i),M(t,s),M(t,e)},p(f,i){i&2&&r!==(r=f[1].error.message+"")&&O(e,r)},i:b,o:b,d(f){f&&$(t)}}}function ft(o){let t,s;return{c(){t=I("p"),s=L("Loading...")},l(r){t=w(r,"P",{});var e=D(t);s=y(e,"Loading..."),e.forEach($)},m(r,e){p(r,t,e),M(t,s)},p:b,i:b,o:b,d(r){r&&$(t)}}}function lt(o){let t,s,r,e;const f=[ft,ot,it],i=[];function m(a,c){return a[1].fetching?0:a[1].error?1:2}return t=m(o),s=i[t]=f[t](o),{c(){s.c(),r=N()},l(a){s.l(a),r=N()},m(a,c){i[t].m(a,c),p(a,r,c),e=!0},p(a,c){let d=t;t=m(a),t===d?i[t].p(a,c):(R(),h(i[d],1,1,()=>{i[d]=null}),W(),s=i[t],s?s.p(a,c):(s=i[t]=f[t](a),s.c()),g(s,1),s.m(r.parentNode,r))},i(a){e||(g(s),e=!0)},o(a){h(s),e=!1},d(a){i[t].d(a),a&&$(r)}}}function mt(o){let t,s;return t=new Q({props:{$$slots:{default:[lt]},$$scope:{ctx:o}}}),{c(){x(t.$$.fragment)},l(r){E(t.$$.fragment,r)},m(r,e){v(t,r,e),s=!0},p(r,e){const f={};e&522&&(f.$$scope={dirty:e,ctx:r}),t.$set(f)},i(r){s||(g(t.$$.fragment,r),s=!0)},o(r){h(t.$$.fragment,r),s=!1},d(r){S(t,r)}}}function $t(o){let t,s;return{c(){t=I("span"),s=L(o[2])},l(r){t=w(r,"SPAN",{});var e=D(t);s=y(e,o[2]),e.forEach($)},m(r,e){p(r,t,e),M(t,s)},p(r,e){e&4&&O(s,r[2])},d(r){r&&$(t)}}}function ct(o){let t,s,r,e,f,i,m,a,c,d;t=new at({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}}),i=new C({props:{$$slots:{default:[mt]},$$scope:{ctx:o}}});function P(n){o[7](n)}let u={$$slots:{default:[$t]},$$scope:{ctx:o}};return o[0]!==void 0&&(u.running=o[0]),a=new rt({props:u}),H.push(()=>U(a,"running",P)),{c(){x(t.$$.fragment),s=T(),r=I("h1"),e=L("Edit SMLVersion"),f=T(),x(i.$$.fragment),m=T(),x(a.$$.fragment),this.h()},l(n){const l=Z('[data-svelte="svelte-7e9nlv"]',document.head);E(t.$$.fragment,l),l.forEach($),s=A(n),r=w(n,"H1",{class:!0});var V=D(r);e=y(V,"Edit SMLVersion"),V.forEach($),f=A(n),E(i.$$.fragment,n),m=A(n),E(a.$$.fragment,n),this.h()},h(){_(r,"class","text-4xl my-4 font-bold")},m(n,l){v(t,document.head,null),p(n,s,l),p(n,r,l),M(r,e),p(n,f,l),v(i,n,l),p(n,m,l),v(a,n,l),d=!0},p(n,[l]){const V={};l&522&&(V.$$scope={dirty:l,ctx:n}),i.$set(V);const q={};l&516&&(q.$$scope={dirty:l,ctx:n}),!c&&l&1&&(c=!0,q.running=n[0],z(()=>c=!1)),a.$set(q)},i(n){d||(g(t.$$.fragment,n),g(i.$$.fragment,n),g(a.$$.fragment,n),d=!0)},o(n){h(t.$$.fragment,n),h(i.$$.fragment,n),h(a.$$.fragment,n),d=!1},d(n){S(t),n&&$(s),n&&$(r),n&&$(f),S(i,n),n&&$(m),S(a,n)}}}const wt=X();function ut(o,t,s){let r,e,{smlVersionId:f}=t,i="",m=!1;const a=F(Y,{smlVersionID:f});G(o,a,u=>s(1,e=u));const c=J({query:tt}),d=u=>{c({smlVersionID:f,smlVersion:u}).then(n=>{n.error?(console.error(n.error.message),s(2,i="Error editing sMLVersion: "+n.error.message),s(0,m=!0)):st(nt+"/admin/sml-versions")})};K(a);function P(u){m=u,s(0,m)}return o.$$set=u=>{"smlVersionId"in u&&s(6,f=u.smlVersionId)},o.$$.update=()=>{o.$$.dirty&1&&(m||s(2,i="")),o.$$.dirty&2&&s(3,r=e.data?{...e.data.getSMLVersion,logo:void 0}:void 0)},[m,e,i,r,a,d,f,P]}class Dt extends j{constructor(t){super(),k(this,t,ut,ct,B,{smlVersionId:6})}}export{Dt as default,wt as load};
//# sourceMappingURL=edit.svelte-76cb3552.js.map
