import{S as Et,i as bt,s as Tt,A as z,a as V,e as $,b as et,C as Dt,D as G,f as p,g as C,c as E,d as D,G as x,H as J,j as y,m as M,t as B,l as st,J as K,K as xt,L as yt,P as ht,u as dt,M as mt,I as g,N as pt,k as rt,q as vt,r as wt,Q as at,F as q,R as It,T as O,U as A,V as j,O as lt,W as nt,a1 as Vt}from"../chunks/vendor.qkHm75Lx.js";import{c as Ct,A as Mt,d as Nt}from"../chunks/graphql.XSrPrpK2.js";import{M as Bt}from"../chunks/MetaDescriptors.8buV-7cv.js";import{p as it}from"../chunks/formatting.G9yDJMit.js";function ot(l,e,r){const s=l.slice();return s[17]=e[r],s}function ft(l){let e,r,s,o,i;function c(t){l[8](t)}let f={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};return l[4]!==void 0&&(f.settings=l[4]),s=new ht({props:f}),dt.push(()=>mt(s,"settings",c)),s.$on("page",l[9]),s.$on("amount",l[10]),{c(){e=$("div"),r=$("div"),z(s.$$.fragment),this.h()},l(t){e=E(t,"DIV",{class:!0});var u=D(e);r=E(u,"DIV",{});var a=D(r);G(s.$$.fragment,a),a.forEach(p),u.forEach(p),this.h()},h(){x(e,"class","mb-5 ml-auto flex justify-end")},m(t,u){y(t,e,u),g(e,r),J(s,r,null),i=!0},p(t,u){const a={};!o&&u&16&&(o=!0,a.settings=t[4],pt(()=>o=!1)),s.$set(a)},i(t){i||(M(s.$$.fragment,t),i=!0)},o(t){B(s.$$.fragment,t),i=!1},d(t){t&&p(e),K(s)}}}function Ut(l){let e,r,s="<tr><th>Mod</th> <th>Description</th> <th>Release Date</th> <th></th></tr>",o,i,c=at(l[3].data.getUnapprovedMods.mods),f=[];for(let t=0;t<c.length;t+=1)f[t]=ct(ot(l,c,t));return{c(){e=$("table"),r=$("thead"),r.innerHTML=s,o=V(),i=$("tbody");for(let t=0;t<f.length;t+=1)f[t].c();this.h()},l(t){e=E(t,"TABLE",{class:!0});var u=D(e);r=E(u,"THEAD",{"data-svelte-h":!0}),q(r)!=="svelte-1ubwer8"&&(r.innerHTML=s),o=C(u),i=E(u,"TBODY",{});var a=D(i);for(let h=0;h<f.length;h+=1)f[h].l(a);a.forEach(p),u.forEach(p),this.h()},h(){x(e,"class","table table-hover max-w-full")},m(t,u){y(t,e,u),g(e,r),g(e,o),g(e,i);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(i,null)},p(t,u){if(u&200){c=at(t[3].data.getUnapprovedMods.mods);let a;for(a=0;a<c.length;a+=1){const h=ot(t,c,a);f[a]?f[a].p(h,u):(f[a]=ct(h),f[a].c(),f[a].m(i,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=c.length}},d(t){t&&p(e),It(f,t)}}}function Ot(l){let e,r,s=l[3].error.message+"",o;return{c(){e=$("section"),r=O("Oh no... "),o=O(s),this.h()},l(i){e=E(i,"SECTION",{class:!0});var c=D(e);r=A(c,"Oh no... "),o=A(c,s),c.forEach(p),this.h()},h(){x(e,"class","p-4")},m(i,c){y(i,e,c),g(e,r),g(e,o)},p(i,c){c&8&&s!==(s=i[3].error.message+"")&&j(o,s)},d(i){i&&p(e)}}}function At(l){let e,r="Loading...";return{c(){e=$("section"),e.textContent=r,this.h()},l(s){e=E(s,"SECTION",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1e06hs8"&&(e.textContent=r),this.h()},h(){x(e,"class","p-4")},m(s,o){y(s,e,o)},p:vt,d(s){s&&p(e)}}}function ct(l){let e,r,s=l[17].name+"",o,i,c,f=l[17].short_description+"",t,u,a,h=it(l[17].created_at)+"",m,n,v,T,w,k="Approve",L,I,H="Deny",_,d,F,P,S,R,Q;function gt(){return l[11](l[17])}function $t(){return l[12](l[17])}return{c(){e=$("tr"),r=$("td"),o=O(s),i=V(),c=$("td"),t=O(f),u=V(),a=$("td"),m=O(h),n=V(),v=$("td"),T=$("div"),w=$("button"),w.textContent=k,L=V(),I=$("button"),I.textContent=H,_=V(),d=$("a"),F=O("View"),S=V(),this.h()},l(N){e=E(N,"TR",{});var b=D(e);r=E(b,"TD",{});var W=D(r);o=A(W,s),W.forEach(p),i=C(b),c=E(b,"TD",{});var Y=D(c);t=A(Y,f),Y.forEach(p),u=C(b),a=E(b,"TD",{});var X=D(a);m=A(X,h),X.forEach(p),n=C(b),v=E(b,"TD",{class:!0});var Z=D(v);T=E(Z,"DIV",{class:!0});var U=D(T);w=E(U,"BUTTON",{class:!0,"data-svelte-h":!0}),q(w)!=="svelte-1ytvx06"&&(w.textContent=k),L=C(U),I=E(U,"BUTTON",{class:!0,"data-svelte-h":!0}),q(I)!=="svelte-1fhqmlk"&&(I.textContent=H),_=C(U),d=E(U,"A",{class:!0,href:!0});var tt=D(d);F=A(tt,"View"),tt.forEach(p),U.forEach(p),Z.forEach(p),S=C(b),b.forEach(p),this.h()},h(){x(w,"class","variant-ghost-primary btn btn-sm"),x(I,"class","variant-ghost-primary btn btn-sm"),x(d,"class","variant-ghost-primary btn btn-sm"),x(d,"href",P=lt+"/mod/"+l[17].id),x(T,"class","grid grid-flow-col gap-4"),x(v,"class","!p-2.5")},m(N,b){y(N,e,b),g(e,r),g(r,o),g(e,i),g(e,c),g(c,t),g(e,u),g(e,a),g(a,m),g(e,n),g(e,v),g(v,T),g(T,w),g(T,L),g(T,I),g(T,_),g(T,d),g(d,F),g(e,S),R||(Q=[nt(w,"click",gt),nt(I,"click",$t)],R=!0)},p(N,b){l=N,b&8&&s!==(s=l[17].name+"")&&j(o,s),b&8&&f!==(f=l[17].short_description+"")&&j(t,f),b&8&&h!==(h=it(l[17].created_at)+"")&&j(m,h),b&8&&P!==(P=lt+"/mod/"+l[17].id)&&x(d,"href",P)},d(N){N&&p(e),R=!1,Vt(Q)}}}function ut(l){let e,r,s,o,i;function c(t){l[13](t)}let f={showFirstLastButtons:!0,showPreviousNextButtons:!0,controlVariant:"variant-filled-surface"};return l[4]!==void 0&&(f.settings=l[4]),s=new ht({props:f}),dt.push(()=>mt(s,"settings",c)),s.$on("page",l[14]),s.$on("amount",l[15]),{c(){e=$("div"),r=$("div"),z(s.$$.fragment),this.h()},l(t){e=E(t,"DIV",{class:!0});var u=D(e);r=E(u,"DIV",{});var a=D(r);G(s.$$.fragment,a),a.forEach(p),u.forEach(p),this.h()},h(){x(e,"class","ml-auto mt-5 flex justify-end")},m(t,u){y(t,e,u),g(e,r),J(s,r,null),i=!0},p(t,u){const a={};!o&&u&16&&(o=!0,a.settings=t[4],pt(()=>o=!1)),s.$set(a)},i(t){i||(M(s.$$.fragment,t),i=!0)},o(t){B(s.$$.fragment,t),i=!1},d(t){t&&p(e),K(s)}}}function Lt(l){let e,r,s,o,i,c,f;e=new Bt({props:{description:"Unapproved mods",title:"Admin: Unapproved Mods"}});let t=l[2]&&ft(l);function u(n,v){return n[3].fetching?At:n[3].error?Ot:Ut}let a=u(l),h=a(l),m=l[2]&&ut(l);return{c(){z(e.$$.fragment),r=V(),t&&t.c(),s=V(),o=$("div"),h.c(),i=V(),m&&m.c(),c=et(),this.h()},l(n){const v=Dt("svelte-g9j975",document.head);G(e.$$.fragment,v),v.forEach(p),r=C(n),t&&t.l(n),s=C(n),o=E(n,"DIV",{class:!0});var T=D(o);h.l(T),T.forEach(p),i=C(n),m&&m.l(n),c=et(),this.h()},h(){x(o,"class","card")},m(n,v){J(e,document.head,null),y(n,r,v),t&&t.m(n,v),y(n,s,v),y(n,o,v),h.m(o,null),y(n,i,v),m&&m.m(n,v),y(n,c,v),f=!0},p(n,[v]){n[2]?t?(t.p(n,v),v&4&&M(t,1)):(t=ft(n),t.c(),M(t,1),t.m(s.parentNode,s)):t&&(rt(),B(t,1,1,()=>{t=null}),st()),a===(a=u(n))&&h?h.p(n,v):(h.d(1),h=a(n),h&&(h.c(),h.m(o,null))),n[2]?m?(m.p(n,v),v&4&&M(m,1)):(m=ut(n),m.c(),M(m,1),m.m(c.parentNode,c)):m&&(rt(),B(m,1,1,()=>{m=null}),st())},i(n){f||(M(e.$$.fragment,n),M(t),M(m),f=!0)},o(n){B(e.$$.fragment,n),B(t),B(m),f=!1},d(n){n&&(p(r),p(s),p(o),p(i),p(c)),K(e),t&&t.d(n),h.d(),m&&m.d(n)}}}function _t(l,e,r){let s,o,i,c,f=vt,t=()=>(f(),f=wt(s,d=>r(3,c=d)),s);l.$$.on_destroy.push(()=>f());const u=xt();let a=20,h=0;const m=d=>{u.mutation(Mt,{modId:d}).toPromise().then(()=>{s.pause(),s.resume()})},n=d=>{u.mutation(Nt,{modId:d}).toPromise().then(()=>{s.pause(),s.resume()})};function v(d){i=d,r(4,i),r(1,h),r(0,a),r(2,o),r(3,c)}const T=d=>r(1,h=d.detail),w=d=>r(0,a=d.detail),k=d=>m(d.id),L=d=>n(d.id);function I(d){i=d,r(4,i),r(1,h),r(0,a),r(2,o),r(3,c)}const H=d=>r(1,h=d.detail),_=d=>r(0,a=d.detail);return l.$$.update=()=>{l.$$.dirty&3&&t(r(5,s=yt({query:Ct,client:u,variables:{filter:{offset:h*a,limit:a}}}))),l.$$.dirty&8&&r(2,o=c?.data?.getUnapprovedMods?.count),l.$$.dirty&7&&r(4,i={page:h,limit:a,size:o,amounts:[5,10,20,50,100]})},[a,h,o,c,i,s,m,n,v,T,w,k,L,I,H,_]}class qt extends Et{constructor(e){super(),bt(this,e,_t,Lt,Tt,{})}}export{qt as component};
//# sourceMappingURL=8.v2UWwKJl.js.map
