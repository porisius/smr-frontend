import{S as w,i as A,s as H,A as _,a as C,e as V,C as z,D as k,f as m,g as I,c as b,F as P,d as x,G as O,H as T,j as h,I as L,t as y,l as F,m as E,J as q,K as G,X as J,L as K,k as N,q as v,r as U,Y as X,O as Y,T as j,U as D,V as B}from"../chunks/vendor.qkHm75Lx.js";import{l as Q,m as R}from"../chunks/graphql.XSrPrpK2.js";import{S as W}from"../chunks/SMLVersionForm.eXb_eVMH.js";import{M as Z}from"../chunks/MetaDescriptors.8buV-7cv.js";const tt=async({params:n})=>({...n}),ft=Object.freeze(Object.defineProperty({__proto__:null,load:tt},Symbol.toStringTag,{value:"Module"}));function et(n){let e,s;return e=new W({props:{onSubmit:n[3],initialValues:n[1],submitText:"Save"}}),{c(){_(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,o){T(e,t,o),s=!0},p(t,o){const i={};o&2&&(i.initialValues=t[1]),e.$set(i)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){q(e,t)}}}function rt(n){let e,s,t=n[0].error.message+"",o;return{c(){e=V("p"),s=j("Oh no... "),o=j(t)},l(i){e=b(i,"P",{});var a=x(e);s=D(a,"Oh no... "),o=D(a,t),a.forEach(m)},m(i,a){h(i,e,a),L(e,s),L(e,o)},p(i,a){a&1&&t!==(t=i[0].error.message+"")&&B(o,t)},i:v,o:v,d(i){i&&m(e)}}}function st(n){let e,s="Loading...";return{c(){e=V("p"),e.textContent=s},l(t){e=b(t,"P",{"data-svelte-h":!0}),P(e)!=="svelte-qdsr2u"&&(e.textContent=s)},m(t,o){h(t,e,o)},p:v,i:v,o:v,d(t){t&&m(e)}}}function at(n){let e,s,t,o="Edit SMLVersion",i,a,d,u,l,g;e=new Z({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}});const S=[st,rt,et],c=[];function $(r,f){return r[0].fetching?0:r[0].error?1:2}return u=$(n),l=c[u]=S[u](n),{c(){_(e.$$.fragment),s=C(),t=V("h1"),t.textContent=o,i=C(),a=V("div"),d=V("section"),l.c(),this.h()},l(r){const f=z("svelte-7e9nlv",document.head);k(e.$$.fragment,f),f.forEach(m),s=I(r),t=b(r,"H1",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-j9ae4t"&&(t.textContent=o),i=I(r),a=b(r,"DIV",{class:!0});var p=x(a);d=b(p,"SECTION",{});var M=x(d);l.l(M),M.forEach(m),p.forEach(m),this.h()},h(){O(t,"class","my-4 text-4xl font-bold"),O(a,"class","card p-4")},m(r,f){T(e,document.head,null),h(r,s,f),h(r,t,f),h(r,i,f),h(r,a,f),L(a,d),c[u].m(d,null),g=!0},p(r,[f]){let p=u;u=$(r),u===p?c[u].p(r,f):(N(),y(c[p],1,1,()=>{c[p]=null}),F(),l=c[u],l?l.p(r,f):(l=c[u]=S[u](r),l.c()),E(l,1),l.m(d,null))},i(r){g||(E(e.$$.fragment,r),E(l),g=!0)},o(r){y(e.$$.fragment,r),y(l),g=!1},d(r){r&&(m(s),m(t),m(i),m(a)),q(e),c[u].d()}}}function nt(n,e,s){let t,o,i,a,d=v,u=()=>(d(),d=U(o,$=>s(0,a=$)),o);n.$$.on_destroy.push(()=>d());let{data:l}=e;const g=G(),S=J(),c=$=>{g.mutation(R,{smlVersionID:t,smlVersion:$}).toPromise().then(r=>{r.error?(console.error(r.error.message),S.trigger({message:"Error editing SMLVersion: "+r.error.message,background:"variant-filled-error",autohide:!1})):(S.trigger({message:"SML version updated",background:"variant-filled-success",timeout:5e3}),X(Y+"/admin/sml-versions"))})};return n.$$set=$=>{"data"in $&&s(4,l=$.data)},n.$$.update=()=>{n.$$.dirty&16&&s(5,{smlVersionId:t}=l,t),n.$$.dirty&32&&u(s(2,o=K({query:Q,client:g,variables:{smlVersionID:t}}))),n.$$.dirty&1&&s(1,i=a.data?{...a.data.getSMLVersion,logo:void 0}:void 0)},[a,i,o,c,l,t]}class dt extends w{constructor(e){super(),A(this,e,nt,at,H,{data:4})}}export{dt as component,ft as universal};
//# sourceMappingURL=5.H2ujYyFZ.js.map
