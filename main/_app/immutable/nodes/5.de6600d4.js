import{S as A,i as U,s as k,bh as q,p as z,P as F,U as x,R as D,u as P,I as M,a_ as G,X as E,d as c,V as j,v as I,w as O,J as _,Y as H,_ as b,a as g,Z as w,a4 as J,b as v,t as y,a5 as L,aD as K,aF as R,bi as X,L as S,ar as Y,aG as Z,aN as B,e as N,g as Q,c as C,K as T}from"../chunks/vendor.d823cc42.js";import{h as W,U as tt}from"../chunks/graphql.22d32a05.js";import{T as et}from"../chunks/Toast.707b4ed9.js";import{S as rt}from"../chunks/SMLVersionForm.7f5af52f.js";import{M as st}from"../chunks/MetaDescriptors.852d1294.js";const nt=async({params:a})=>({...a}),vt=Object.freeze(Object.defineProperty({__proto__:null,load:nt},Symbol.toStringTag,{value:"Module"}));function at(a){let t,r;return t=new rt({props:{onSubmit:a[5],initialValues:a[3],submitText:"Save"}}),{c(){x(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){b(t,e,s),r=!0},p(e,s){const l={};s&8&&(l.initialValues=e[3]),t.$set(l)},i(e){r||(v(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){L(t,e)}}}function it(a){let t,r,e=a[1].error.message+"",s;return{c(){t=P("p"),r=M("Oh no... "),s=M(e)},l(l){t=I(l,"P",{});var i=O(t);r=_(i,"Oh no... "),s=_(i,e),i.forEach(c)},m(l,i){g(l,t,i),w(t,r),w(t,s)},p(l,i){i&2&&e!==(e=l[1].error.message+"")&&T(s,e)},i:S,o:S,d(l){l&&c(t)}}}function ot(a){let t,r;return{c(){t=P("p"),r=M("Loading...")},l(e){t=I(e,"P",{});var s=O(t);r=_(s,"Loading..."),s.forEach(c)},m(e,s){g(e,t,s),w(t,r)},p:S,i:S,o:S,d(e){e&&c(t)}}}function lt(a){let t,r,e,s;const l=[ot,it,at],i=[];function m(o,$){return o[1].fetching?0:o[1].error?1:2}return t=m(a),r=i[t]=l[t](a),{c(){r.c(),e=N()},l(o){r.l(o),e=N()},m(o,$){i[t].m(o,$),g(o,e,$),s=!0},p(o,$){let d=t;t=m(o),t===d?i[t].p(o,$):(Q(),y(i[d],1,1,()=>{i[d]=null}),C(),r=i[t],r?r.p(o,$):(r=i[t]=l[t](o),r.c()),v(r,1),r.m(e.parentNode,e))},i(o){s||(v(r),s=!0)},o(o){y(r),s=!1},d(o){i[t].d(o),o&&c(e)}}}function ft(a){let t,r;return t=new X({props:{$$slots:{default:[lt]},$$scope:{ctx:a}}}),{c(){x(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){b(t,e,s),r=!0},p(e,s){const l={};s&1034&&(l.$$scope={dirty:s,ctx:e}),t.$set(l)},i(e){r||(v(t.$$.fragment,e),r=!0)},o(e){y(t.$$.fragment,e),r=!1},d(e){L(t,e)}}}function $t(a){let t,r;return{c(){t=P("span"),r=M(a[2])},l(e){t=I(e,"SPAN",{});var s=O(t);r=_(s,a[2]),s.forEach(c)},m(e,s){g(e,t,s),w(t,r)},p(e,s){s&4&&T(r,e[2])},d(e){e&&c(t)}}}function ut(a){let t,r,e,s,l,i,m,o,$,d;t=new st({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}}),i=new q({props:{$$slots:{default:[ft]},$$scope:{ctx:a}}});function V(n){a[8](n)}let p={$$slots:{default:[$t]},$$scope:{ctx:a}};return a[0]!==void 0&&(p.running=a[0]),o=new et({props:p}),z.push(()=>F(o,"running",V)),{c(){x(t.$$.fragment),r=D(),e=P("h1"),s=M("Edit SMLVersion"),l=D(),x(i.$$.fragment),m=D(),x(o.$$.fragment),this.h()},l(n){const f=G("svelte-7e9nlv",document.head);E(t.$$.fragment,f),f.forEach(c),r=j(n),e=I(n,"H1",{class:!0});var u=O(e);s=_(u,"Edit SMLVersion"),u.forEach(c),l=j(n),E(i.$$.fragment,n),m=j(n),E(o.$$.fragment,n),this.h()},h(){H(e,"class","text-4xl my-4 font-bold")},m(n,f){b(t,document.head,null),g(n,r,f),g(n,e,f),w(e,s),g(n,l,f),b(i,n,f),g(n,m,f),b(o,n,f),d=!0},p(n,[f]){const u={};f&1034&&(u.$$scope={dirty:f,ctx:n}),i.$set(u);const h={};f&1028&&(h.$$scope={dirty:f,ctx:n}),!$&&f&1&&($=!0,h.running=n[0],J(()=>$=!1)),o.$set(h)},i(n){d||(v(t.$$.fragment,n),v(i.$$.fragment,n),v(o.$$.fragment,n),d=!0)},o(n){y(t.$$.fragment,n),y(i.$$.fragment,n),y(o.$$.fragment,n),d=!1},d(n){L(t),n&&c(r),n&&c(e),n&&c(l),L(i,n),n&&c(m),L(o,n)}}}function ct(a,t,r){let e,s,l,i,m=S,o=()=>(m(),m=Y(s,u=>r(1,i=u)),s);a.$$.on_destroy.push(()=>m());let{data:$}=t;const d=K();let V="",p=!1;const n=u=>{d.mutation(tt,{smlVersionID:e,smlVersion:u}).toPromise().then(h=>{h.error?(console.error(h.error.message),r(2,V="Error editing SMLVersion: "+h.error.message),r(0,p=!0)):Z(B+"/admin/sml-versions")})};function f(u){p=u,r(0,p)}return a.$$set=u=>{"data"in u&&r(6,$=u.data)},a.$$.update=()=>{a.$$.dirty&64&&r(7,{smlVersionId:e}=$,e),a.$$.dirty&128&&o(r(4,s=R({query:W,client:d,variables:{smlVersionID:e}}))),a.$$.dirty&1&&(p||r(2,V="")),a.$$.dirty&2&&r(3,l=i.data?{...i.data.getSMLVersion,logo:void 0}:void 0)},[p,i,V,l,s,n,$,e,f]}class yt extends A{constructor(t){super(),U(this,t,ct,ut,k,{data:6})}}export{yt as component,vt as universal};
//# sourceMappingURL=5.de6600d4.js.map
