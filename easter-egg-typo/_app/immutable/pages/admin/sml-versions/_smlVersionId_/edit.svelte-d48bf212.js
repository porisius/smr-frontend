import{S as j,i as k,s as B,bb as C,u as H,ad as U,Z as x,a as T,e as I,aa as L,aV as Z,_ as E,f as $,g as A,c as w,d as D,ab as y,a7 as _,$ as S,j as p,a5 as M,ae as z,m as g,t as h,a1 as v,aC as F,al as G,aB as J,aD as K,bc as Q,b as N,k as R,l as W,ac as O,q as b}from"../../../../chunks/vendor-5faff0be.js";import{p as X}from"../../../../chunks/routing-c6322149.js";import{e as Y,U as tt}from"../../../../chunks/graphql-39b507e4.js";import{T as rt}from"../../../../chunks/Toast-13eea52f.js";import{g as et}from"../../../../chunks/navigation-ce539261.js";import{S as st}from"../../../../chunks/SMLVersionForm-ba209b96.js";import{b as nt}from"../../../../chunks/paths-1c47712a.js";import{M as at}from"../../../../chunks/MetaDescriptors-5e0585a5.js";import"../../../../chunks/singletons-cdeec3fd.js";import"../../../../chunks/forms-a09581a5.js";import"../../../../chunks/forms-694c548d.js";import"../../../../chunks/markdown-6a2ff7f0.js";import"../../../../chunks/extras-8984d02f.js";import"../../../../chunks/stores-a6f790a9.js";function it(o){let t,e;return t=new st({props:{onSubmit:o[5],initialValues:o[3],editing:!0,submitText:"Save"}}),{c(){x(t.$$.fragment)},l(r){E(t.$$.fragment,r)},m(r,s){S(t,r,s),e=!0},p(r,s){const f={};s&8&&(f.initialValues=r[3]),t.$set(f)},i(r){e||(g(t.$$.fragment,r),e=!0)},o(r){h(t.$$.fragment,r),e=!1},d(r){v(t,r)}}}function ot(o){let t,e,r=o[1].error.message+"",s;return{c(){t=I("p"),e=L("Oh no... "),s=L(r)},l(f){t=w(f,"P",{});var i=D(t);e=y(i,"Oh no... "),s=y(i,r),i.forEach($)},m(f,i){p(f,t,i),M(t,e),M(t,s)},p(f,i){i&2&&r!==(r=f[1].error.message+"")&&O(s,r)},i:b,o:b,d(f){f&&$(t)}}}function ft(o){let t,e;return{c(){t=I("p"),e=L("Loading...")},l(r){t=w(r,"P",{});var s=D(t);e=y(s,"Loading..."),s.forEach($)},m(r,s){p(r,t,s),M(t,e)},p:b,i:b,o:b,d(r){r&&$(t)}}}function lt(o){let t,e,r,s;const f=[ft,ot,it],i=[];function m(a,c){return a[1].fetching?0:a[1].error?1:2}return t=m(o),e=i[t]=f[t](o),{c(){e.c(),r=N()},l(a){e.l(a),r=N()},m(a,c){i[t].m(a,c),p(a,r,c),s=!0},p(a,c){let d=t;t=m(a),t===d?i[t].p(a,c):(R(),h(i[d],1,1,()=>{i[d]=null}),W(),e=i[t],e?e.p(a,c):(e=i[t]=f[t](a),e.c()),g(e,1),e.m(r.parentNode,r))},i(a){s||(g(e),s=!0)},o(a){h(e),s=!1},d(a){i[t].d(a),a&&$(r)}}}function mt(o){let t,e;return t=new Q({props:{$$slots:{default:[lt]},$$scope:{ctx:o}}}),{c(){x(t.$$.fragment)},l(r){E(t.$$.fragment,r)},m(r,s){S(t,r,s),e=!0},p(r,s){const f={};s&522&&(f.$$scope={dirty:s,ctx:r}),t.$set(f)},i(r){e||(g(t.$$.fragment,r),e=!0)},o(r){h(t.$$.fragment,r),e=!1},d(r){v(t,r)}}}function $t(o){let t,e;return{c(){t=I("span"),e=L(o[2])},l(r){t=w(r,"SPAN",{});var s=D(t);e=y(s,o[2]),s.forEach($)},m(r,s){p(r,t,s),M(t,e)},p(r,s){s&4&&O(e,r[2])},d(r){r&&$(t)}}}function ct(o){let t,e,r,s,f,i,m,a,c,d;t=new at({props:{description:"Edit SML Version",title:"Admin: Edit SML Version"}}),i=new C({props:{$$slots:{default:[mt]},$$scope:{ctx:o}}});function P(n){o[7](n)}let u={$$slots:{default:[$t]},$$scope:{ctx:o}};return o[0]!==void 0&&(u.running=o[0]),a=new rt({props:u}),H.push(()=>U(a,"running",P)),{c(){x(t.$$.fragment),e=T(),r=I("h1"),s=L("Edit SMLVersion"),f=T(),x(i.$$.fragment),m=T(),x(a.$$.fragment),this.h()},l(n){const l=Z('[data-svelte="svelte-7e9nlv"]',document.head);E(t.$$.fragment,l),l.forEach($),e=A(n),r=w(n,"H1",{class:!0});var V=D(r);s=y(V,"Edit SMLVersion"),V.forEach($),f=A(n),E(i.$$.fragment,n),m=A(n),E(a.$$.fragment,n),this.h()},h(){_(r,"class","text-4xl my-4 font-bold")},m(n,l){S(t,document.head,null),p(n,e,l),p(n,r,l),M(r,s),p(n,f,l),S(i,n,l),p(n,m,l),S(a,n,l),d=!0},p(n,[l]){const V={};l&522&&(V.$$scope={dirty:l,ctx:n}),i.$set(V);const q={};l&516&&(q.$$scope={dirty:l,ctx:n}),!c&&l&1&&(c=!0,q.running=n[0],z(()=>c=!1)),a.$set(q)},i(n){d||(g(t.$$.fragment,n),g(i.$$.fragment,n),g(a.$$.fragment,n),d=!0)},o(n){h(t.$$.fragment,n),h(i.$$.fragment,n),h(a.$$.fragment,n),d=!1},d(n){v(t),n&&$(e),n&&$(r),n&&$(f),v(i,n),n&&$(m),v(a,n)}}}const wt=X();function ut(o,t,e){let r,s,{smlVersionId:f}=t,i="",m=!1;const a=F(Y,{smlVersionID:f});G(o,a,u=>e(1,s=u));const c=J({query:tt}),d=u=>{c({smlVersionID:f,smlVersion:u}).then(n=>{n.error?(console.error(n.error.message),e(2,i="Error editing SMLVersion: "+n.error.message),e(0,m=!0)):et(nt+"/admin/sml-versions")})};K(a);function P(u){m=u,e(0,m)}return o.$$set=u=>{"smlVersionId"in u&&e(6,f=u.smlVersionId)},o.$$.update=()=>{o.$$.dirty&1&&(m||e(2,i="")),o.$$.dirty&2&&e(3,r=s.data?{...s.data.getSMLVersion,logo:void 0}:void 0)},[m,s,i,r,a,d,f,P]}class Dt extends j{constructor(t){super(),k(this,t,ut,ct,B,{smlVersionId:6})}}export{Dt as default,wt as load};
//# sourceMappingURL=edit.svelte-d48bf212.js.map
