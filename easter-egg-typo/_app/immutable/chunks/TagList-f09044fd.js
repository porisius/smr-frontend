import{S as St,i as At,s as kt,e as y,c as T,d as D,f as g,a7 as I,j as P,T as H,k as Rt,t as S,l as Vt,m as A,O as it,aC as Ct,aD as Nt,u as F,ad as Q,Z as C,_ as N,$ as _,ae as X,a1 as O,b as Y,q as tt,aM as ct,aa as M,a as j,ab as B,g as q,a5 as x,ac as L,bp as _t,a9 as Ot,bq as et,h as Pt,br as ot,bs as ut}from"./vendor-5faff0be.js";import{g as Mt}from"./graphql-39b507e4.js";import{T as Bt,I as jt,F as qt}from"./forms-a09581a5.js";function nt(a,t,n){const e=a.slice();return e[36]=t[n],e}function lt(a,t,n){const e=a.slice();return e[36]=t[n],e}function Ft(a){let t,n,e,l;function r(f){a[26](f)}function s(f){a[27](f)}let u={class:"tags overflow-visible",style:"z-index: 9999",$$slots:{ripple:[Yt],label:[Xt],default:[Jt]},$$scope:{ctx:a}};return a[3]!==void 0&&(u.lineRipple=a[3]),a[2]!==void 0&&(u.input=a[2]),t=new Bt({props:u}),F.push(()=>Q(t,"lineRipple",r)),F.push(()=>Q(t,"input",s)),{c(){C(t.$$.fragment)},l(f){N(t.$$.fragment,f)},m(f,p){_(t,f,p),l=!0},p(f,p){const h={};p[0]&2045|p[1]&2048&&(h.$$scope={dirty:p,ctx:f}),!n&&p[0]&8&&(n=!0,h.lineRipple=f[3],X(()=>n=!1)),!e&&p[0]&4&&(e=!0,h.input=f[2],X(()=>e=!1)),t.$set(h)},i(f){l||(A(t.$$.fragment,f),l=!0)},o(f){S(t.$$.fragment,f),l=!1},d(f){O(t,f)}}}function Ut(a){let t,n=a[0].length>0&&rt(a);return{c(){n&&n.c(),t=Y()},l(e){n&&n.l(e),t=Y()},m(e,l){n&&n.m(e,l),P(e,t,l)},p(e,l){e[0].length>0?n?n.p(e,l):(n=rt(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:tt,o:tt,d(e){n&&n.d(e),e&&g(t)}}}function at(a){let t,n,e,l,r,s,u,f,p,h=a[36].name+"",c,o,v;function m(){return a[19](a[36])}return{c(){t=y("div"),n=y("span"),e=M("#"),l=j(),r=y("span"),s=y("i"),u=M("cancel"),f=j(),p=y("p"),c=M(h),this.h()},l(b){t=T(b,"DIV",{class:!0});var $=D(t);n=T($,"SPAN",{class:!0});var w=D(n);e=B(w,"#"),w.forEach(g),l=q($),r=T($,"SPAN",{class:!0});var d=D(r);s=T(d,"I",{class:!0});var k=D(s);u=B(k,"cancel"),k.forEach(g),d.forEach(g),f=q($),p=T($,"P",{});var E=D(p);c=B(E,h),E.forEach(g),$.forEach(g),this.h()},h(){I(n,"class","hashtag text-orange-500 svelte-314er6"),I(s,"class","material-icons mdc-chip__icon mdc-chip__icon--trailing svelte-314er6"),I(r,"class","cancel svelte-314er6"),I(t,"class","text-neutral-300 whitespace-nowrap flex removable-tag svelte-314er6")},m(b,$){P(b,t,$),x(t,n),x(n,e),x(t,l),x(t,r),x(r,s),x(s,u),x(t,f),x(t,p),x(p,c),o||(v=H(s,"click",m),o=!0)},p(b,$){a=b,$[0]&1&&h!==(h=a[36].name+"")&&L(c,h)},d(b){b&&g(t),o=!1,v()}}}function zt(a){let t=a[39].name+"",n;return{c(){n=M(t)},l(e){n=B(e,t)},m(e,l){P(e,n,l)},p(e,l){l[1]&256&&t!==(t=e[39].name+"")&&L(n,t)},d(e){e&&g(n)}}}function Ht(a){let t,n;return t=new ut({props:{$$slots:{default:[zt]},$$scope:{ctx:a}}}),{c(){C(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,l){_(t,e,l),n=!0},p(e,l){const r={};l[1]&2304&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){S(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function Kt(a){let t,n;function e(){return a[20](a[39])}return t=new ot({props:{chip:a[39],$$slots:{default:[Ht]},$$scope:{ctx:a}}}),t.$on("SMUIChip:interaction",e),{c(){C(t.$$.fragment)},l(l){N(t.$$.fragment,l)},m(l,r){_(t,l,r),n=!0},p(l,r){a=l;const s={};r[1]&256&&(s.chip=a[39]),r[1]&2304&&(s.$$scope={dirty:r,ctx:a}),t.$set(s)},i(l){n||(A(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){O(t,l)}}}function Lt(a){let t=a[39].name+"",n;return{c(){n=M(t)},l(e){n=B(e,t)},m(e,l){P(e,n,l)},p(e,l){l[1]&256&&t!==(t=e[39].name+"")&&L(n,t)},d(e){e&&g(n)}}}function Wt(a){let t,n;return t=new ut({props:{$$slots:{default:[Lt]},$$scope:{ctx:a}}}),{c(){C(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,l){_(t,e,l),n=!0},p(e,l){const r={};l[1]&2304&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){S(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function Zt(a){let t,n;function e(){return a[21](a[39])}return t=new ot({props:{chip:a[39],$$slots:{default:[Wt]},$$scope:{ctx:a}}}),t.$on("SMUIChip:interaction",e),{c(){C(t.$$.fragment)},l(l){N(t.$$.fragment,l)},m(l,r){_(t,l,r),n=!0},p(l,r){a=l;const s={};r[1]&256&&(s.chip=a[39]),r[1]&2304&&(s.$$scope={dirty:r,ctx:a}),t.$set(s)},i(l){n||(A(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){O(t,l)}}}function Gt(a){let t,n,e,l,r,s,u,f,p,h;return s=new et({props:{chips:a[5],key:ee,$$slots:{default:[Kt,({chip:c})=>({39:c}),({chip:c})=>[0,c?256:0]]},$$scope:{ctx:a}}}),p=new et({props:{chips:a[6],key:ne,$$slots:{default:[Zt,({chip:c})=>({39:c}),({chip:c})=>[0,c?256:0]]},$$scope:{ctx:a}}}),{c(){t=y("div"),n=y("h1"),e=M("Available Tags"),l=j(),r=y("div"),C(s.$$.fragment),u=j(),f=y("div"),C(p.$$.fragment),this.h()},l(c){t=T(c,"DIV",{style:!0});var o=D(t);n=T(o,"H1",{});var v=D(n);e=B(v,"Available Tags"),v.forEach(g),l=q(o),r=T(o,"DIV",{class:!0});var m=D(r);N(s.$$.fragment,m),m.forEach(g),u=q(o),f=T(o,"DIV",{class:!0});var b=D(f);N(p.$$.fragment,b),b.forEach(g),o.forEach(g),this.h()},h(){I(r,"class","flex flex-wrap m-1"),I(f,"class","flex flex-wrap m-1"),Pt(t,"margin","1rem")},m(c,o){P(c,t,o),x(t,n),x(n,e),x(t,l),x(t,r),_(s,r,null),x(t,u),x(t,f),_(p,f,null),h=!0},p(c,o){const v={};o[0]&32&&(v.chips=c[5]),o[1]&2304&&(v.$$scope={dirty:o,ctx:c}),s.$set(v);const m={};o[0]&64&&(m.chips=c[6]),o[1]&2304&&(m.$$scope={dirty:o,ctx:c}),p.$set(m)},i(c){h||(A(s.$$.fragment,c),A(p.$$.fragment,c),h=!0)},o(c){S(s.$$.fragment,c),S(p.$$.fragment,c),h=!1},d(c){c&&g(t),O(s),O(p)}}}function st(a){let t,n;return{c(){t=y("span"),n=M("#"),this.h()},l(e){t=T(e,"SPAN",{class:!0});var l=D(t);n=B(l,"#"),l.forEach(g),this.h()},h(){I(t,"class","text-orange-500")},m(e,l){P(e,t,l),x(t,n)},d(e){e&&g(t)}}}function Jt(a){let t,n,e,l,r,s,u,f,p,h,c=a[0],o=[];for(let $=0;$<c.length;$+=1)o[$]=at(nt(a,c,$));let v={managed:!0,anchorCorner:"BOTTOM_LEFT",anchorElement:a[7],$$slots:{default:[Gt]},$$scope:{ctx:a}};l=new _t({props:v}),a[22](l);let m=a[10]&&st(),b={id:"input-manual-a",spellcheck:"false",autocomplete:"off",class:"inline text-sm text-neutral-300 "+(a[4]?"shake":""),style:"height: initial"};return u=new jt({props:b}),a[23](u),u.$on("keydown",a[13]),u.$on("input",a[15]),{c(){t=y("div");for(let $=0;$<o.length;$+=1)o[$].c();n=j(),e=y("div"),C(l.$$.fragment),r=j(),m&&m.c(),s=j(),C(u.$$.fragment),this.h()},l($){t=T($,"DIV",{class:!0});var w=D(t);for(let k=0;k<o.length;k+=1)o[k].l(w);n=q(w),e=T(w,"DIV",{id:!0,class:!0});var d=D(e);N(l.$$.fragment,d),r=q(d),m&&m.l(d),s=q(d),N(u.$$.fragment,d),d.forEach(g),w.forEach(g),this.h()},h(){I(e,"id","newTagContainer"),I(e,"class","text-neutral-300 whitespace-nowrap flex"),I(t,"class","flex flex-row flex-wrap text-sm gap-1 mr-2")},m($,w){P($,t,w);for(let d=0;d<o.length;d+=1)o[d].m(t,null);x(t,n),x(t,e),_(l,e,null),x(e,r),m&&m.m(e,null),x(e,s),_(u,e,null),a[24](e),f=!0,p||(h=[H(e,"focusin",a[25]),H(e,"focusout",a[14])],p=!0)},p($,w){if(w[0]&4097){c=$[0];let E;for(E=0;E<c.length;E+=1){const U=nt($,c,E);o[E]?o[E].p(U,w):(o[E]=at(U),o[E].c(),o[E].m(t,n))}for(;E<o.length;E+=1)o[E].d(1);o.length=c.length}const d={};w[0]&128&&(d.anchorElement=$[7]),w[0]&96|w[1]&2048&&(d.$$scope={dirty:w,ctx:$}),l.$set(d),$[10]?m||(m=st(),m.c(),m.m(e,s)):m&&(m.d(1),m=null);const k={};w[0]&16&&(k.class="inline text-sm text-neutral-300 "+($[4]?"shake":"")),u.$set(k)},i($){f||(A(l.$$.fragment,$),A(u.$$.fragment,$),f=!0)},o($){S(l.$$.fragment,$),S(u.$$.fragment,$),f=!1},d($){$&&g(t),ct(o,$),a[22](null),O(l),m&&m.d(),a[23](null),O(u),a[24](null),p=!1,it(h)}}}function Qt(a){let t;return{c(){t=M("Tags")},l(n){t=B(n,"Tags")},m(n,e){P(n,t,e)},d(n){n&&g(t)}}}function Xt(a){let t,n;return t=new qt({props:{class:"pb-2",for:"input-manual-a",slot:"label",floatAbove:a[7]&&a[7].value.length>0||a[10]||a[0].length>0,$$slots:{default:[Qt]},$$scope:{ctx:a}}}),{c(){C(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,l){_(t,e,l),n=!0},p(e,l){const r={};l[0]&1153&&(r.floatAbove=e[7]&&e[7].value.length>0||e[10]||e[0].length>0),l[1]&2048&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){S(t.$$.fragment,e),n=!1},d(e){O(t,e)}}}function Yt(a){let t,n,e={slot:"ripple"};return t=new Ot({props:e}),a[18](t),{c(){C(t.$$.fragment)},l(l){N(t.$$.fragment,l)},m(l,r){_(t,l,r),n=!0},p(l,r){const s={};t.$set(s)},i(l){n||(A(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){a[18](null),O(t,l)}}}function rt(a){let t,n=a[0],e=[];for(let l=0;l<n.length;l+=1)e[l]=ft(lt(a,n,l));return{c(){t=y("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=T(l,"DIV",{class:!0});var r=D(t);for(let s=0;s<e.length;s+=1)e[s].l(r);r.forEach(g),this.h()},h(){I(t,"class","flex flex-row flex-wrap text-sm gap-1")},m(l,r){P(l,t,r);for(let s=0;s<e.length;s+=1)e[s].m(t,null)},p(l,r){if(r[0]&1){n=l[0];let s;for(s=0;s<n.length;s+=1){const u=lt(l,n,s);e[s]?e[s].p(u,r):(e[s]=ft(u),e[s].c(),e[s].m(t,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}},d(l){l&&g(t),ct(e,l)}}}function ft(a){let t,n,e,l=a[36].name+"",r,s;return{c(){t=y("div"),n=y("span"),e=M("#"),r=M(l),s=j(),this.h()},l(u){t=T(u,"DIV",{class:!0});var f=D(t);n=T(f,"SPAN",{class:!0});var p=D(n);e=B(p,"#"),p.forEach(g),r=B(f,l),s=q(f),f.forEach(g),this.h()},h(){I(n,"class","text-orange-500"),I(t,"class","text-neutral-300 lowercase")},m(u,f){P(u,t,f),x(t,n),x(n,e),x(t,r),x(t,s)},p(u,f){f[0]&1&&l!==(l=u[36].name+"")&&L(r,l)},d(u){u&&g(t)}}}function te(a){let t,n,e,l,r,s;const u=[Ut,Ft],f=[];function p(h,c){return h[1]?1:0}return n=p(a),e=f[n]=u[n](a),{c(){t=y("div"),e.c(),this.h()},l(h){t=T(h,"DIV",{class:!0});var c=D(t);e.l(c),c.forEach(g),this.h()},h(){I(t,"class","tags")},m(h,c){P(h,t,c),f[n].m(t,null),l=!0,r||(s=[H(t,"focusin",a[28]),H(t,"focusout",a[29])],r=!0)},p(h,c){let o=n;n=p(h),n===o?f[n].p(h,c):(Rt(),S(f[o],1,1,()=>{f[o]=null}),Vt(),e=f[n],e?e.p(h,c):(e=f[n]=u[n](h),e.c()),A(e,1),e.m(t,null))},i(h){l||(A(e),l=!0)},o(h){S(e),l=!1},d(h){h&&g(t),f[n].d(),r=!1,it(s)}}}function Z(a,t,n){a.focus(),typeof window.getSelection<"u"&&typeof document.createRange<"u"&&a.setSelectionRange(t,n)}function G(a){a.focus(),typeof window.getSelection<"u"&&typeof document.createRange<"u"&&a.setSelectionRange(a.value.length,a.value.length)}const ee=a=>a.name,ne=a=>a.name;function le(a,t,n){const e=Ct(Mt);let{tags:l=[]}=t,{editable:r=!1}=t,s,u,f=!1,p=[],h=[],c=[],o,v,m=null,b,$=!1;function w(i,R,V){if(!i||!R)return[i,i];let K=i.filter(z=>!R.find(W=>W.id==z.id));const J=K.filter(z=>!v||z.name.startsWith(V));return K=K.filter(z=>J.findIndex(W=>W.id===z.id)===-1),[J,K]}function d(){n(0,l),n(5,[h,c]=w(p,l,o),h,n(6,c))}r&&(Nt(e),e.subscribe(()=>{!e.fetching&&!e.error&&(p=e.data.getTags,d())}));function k(i){o=i,n(7,v.value=o,v)}function E(i){if(!p)return!1;const R=p.find(V=>typeof i=="string"?i==V.name||i==V.id:i.id==V.id);return R&&!l.find(V=>V.id==R.id)?(l.push(R),d(),!0):(d(),!1)}function U(i){n(0,l=l.filter(R=>R!=i)),d()}function $t(i){if(i instanceof KeyboardEvent)if(i.code=="Backspace")v.value==""&&(k(l.pop().name),G(v),n(0,l),i.preventDefault(),d());else if(i.code=="Enter")i.preventDefault(),E(v.value)?(k(""),d()):(n(4,f=!0),setTimeout(()=>n(4,f=!1),500));else{const R=o+i.key,[V]=w(p,l,R);V&&V.length>0&&(n(7,v.value=V[0].name,v),Z(v,o.length+1,v.value.length),i.preventDefault(),o=R,d())}}function pt(){setTimeout(()=>{m&&!m.contains(document.activeElement)&&b.setOpen(!1)},200)}function ht(i){o=v.value,d(),i.preventDefault()}function mt(i){F[i?"unshift":"push"](()=>{u=i,n(3,u)})}const gt=i=>U(i),dt=i=>E(i.name),vt=i=>E(i.name);function xt(i){F[i?"unshift":"push"](()=>{b=i,n(9,b)})}function wt(i){F[i?"unshift":"push"](()=>{s=i,n(2,s)})}function Et(i){F[i?"unshift":"push"](()=>{m=i,n(8,m)})}const bt=()=>b.setOpen(!0);function yt(i){u=i,n(3,u)}function Tt(i){s=i,n(2,s)}const Dt=()=>n(10,$=!0),It=()=>n(10,$=!1);return a.$$set=i=>{"tags"in i&&n(0,l=i.tags),"editable"in i&&n(1,r=i.editable)},a.$$.update=()=>{a.$$.dirty[0]&4&&n(7,v=s?.getElement())},[l,r,s,u,f,h,c,v,m,b,$,E,U,$t,pt,ht,Z,G,mt,gt,dt,vt,xt,wt,Et,bt,yt,Tt,Dt,It]}class fe extends St{constructor(t){super(),At(this,t,le,te,kt,{tags:0,editable:1,setTextRange:16,placeCaretAtEnd:17},null,[-1,-1])}get setTextRange(){return Z}get placeCaretAtEnd(){return G}}export{fe as T};
//# sourceMappingURL=TagList-f09044fd.js.map
